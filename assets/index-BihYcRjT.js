var Od=Object.defineProperty;var Dd=(t,e,n)=>e in t?Od(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var lt=(t,e,n)=>Dd(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ai=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Id(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ju={exports:{}},ao={},ec={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hr=Symbol.for("react.element"),Ud=Symbol.for("react.portal"),Bd=Symbol.for("react.fragment"),Gd=Symbol.for("react.strict_mode"),Vd=Symbol.for("react.profiler"),Fd=Symbol.for("react.provider"),jd=Symbol.for("react.context"),Wd=Symbol.for("react.forward_ref"),Hd=Symbol.for("react.suspense"),$d=Symbol.for("react.memo"),qd=Symbol.for("react.lazy"),_l=Symbol.iterator;function Yd(t){return t===null||typeof t!="object"?null:(t=_l&&t[_l]||t["@@iterator"],typeof t=="function"?t:null)}var tc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nc=Object.assign,rc={};function Kn(t,e,n){this.props=t,this.context=e,this.refs=rc,this.updater=n||tc}Kn.prototype.isReactComponent={};Kn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ic(){}ic.prototype=Kn.prototype;function ma(t,e,n){this.props=t,this.context=e,this.refs=rc,this.updater=n||tc}var ga=ma.prototype=new ic;ga.constructor=ma;nc(ga,Kn.prototype);ga.isPureReactComponent=!0;var wl=Array.isArray,oc=Object.prototype.hasOwnProperty,ya={current:null},sc={key:!0,ref:!0,__self:!0,__source:!0};function ac(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)oc.call(e,r)&&!sc.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Hr,type:t,key:o,ref:s,props:i,_owner:ya.current}}function Qd(t,e){return{$$typeof:Hr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function va(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hr}function Xd(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xl=/\/+/g;function bo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xd(""+t.key):e.toString(36)}function xi(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Hr:case Ud:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+bo(s,0):r,wl(i)?(n="",t!=null&&(n=t.replace(xl,"$&/")+"/"),xi(i,e,n,"",function(c){return c})):i!=null&&(va(i)&&(i=Qd(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xl,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",wl(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+bo(o,a);s+=xi(o,e,n,l,i)}else if(l=Yd(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+bo(o,a++),s+=xi(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ei(t,e,n){if(t==null)return t;var r=[],i=0;return xi(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Kd(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ae={current:null},ki={transition:null},Zd={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ki,ReactCurrentOwner:ya};function lc(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:ei,forEach:function(t,e,n){ei(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ei(t,function(){e++}),e},toArray:function(t){return ei(t,function(e){return e})||[]},only:function(t){if(!va(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=Kn;$.Fragment=Bd;$.Profiler=Vd;$.PureComponent=ma;$.StrictMode=Gd;$.Suspense=Hd;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zd;$.act=lc;$.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=nc({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=ya.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)oc.call(e,l)&&!sc.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Hr,type:t.type,key:i,ref:o,props:r,_owner:s}};$.createContext=function(t){return t={$$typeof:jd,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fd,_context:t},t.Consumer=t};$.createElement=ac;$.createFactory=function(t){var e=ac.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:Wd,render:t}};$.isValidElement=va;$.lazy=function(t){return{$$typeof:qd,_payload:{_status:-1,_result:t},_init:Kd}};$.memo=function(t,e){return{$$typeof:$d,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=ki.transition;ki.transition={};try{t()}finally{ki.transition=e}};$.unstable_act=lc;$.useCallback=function(t,e){return Ae.current.useCallback(t,e)};$.useContext=function(t){return Ae.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return Ae.current.useDeferredValue(t)};$.useEffect=function(t,e){return Ae.current.useEffect(t,e)};$.useId=function(){return Ae.current.useId()};$.useImperativeHandle=function(t,e,n){return Ae.current.useImperativeHandle(t,e,n)};$.useInsertionEffect=function(t,e){return Ae.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return Ae.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return Ae.current.useMemo(t,e)};$.useReducer=function(t,e,n){return Ae.current.useReducer(t,e,n)};$.useRef=function(t){return Ae.current.useRef(t)};$.useState=function(t){return Ae.current.useState(t)};$.useSyncExternalStore=function(t,e,n){return Ae.current.useSyncExternalStore(t,e,n)};$.useTransition=function(){return Ae.current.useTransition()};$.version="18.3.1";ec.exports=$;var H=ec.exports;const Jd=Id(H);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh=H,th=Symbol.for("react.element"),nh=Symbol.for("react.fragment"),rh=Object.prototype.hasOwnProperty,ih=eh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oh={key:!0,ref:!0,__self:!0,__source:!0};function uc(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)rh.call(e,r)&&!oh.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:th,type:t,key:o,ref:s,props:i,_owner:ih.current}}ao.Fragment=nh;ao.jsx=uc;ao.jsxs=uc;Ju.exports=ao;var T=Ju.exports,ps={},cc={exports:{}},He={},fc={exports:{}},dc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,D){var L=N.length;N.push(D);e:for(;0<L;){var B=L-1>>>1,V=N[B];if(0<i(V,D))N[B]=D,N[L]=V,L=B;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var D=N[0],L=N.pop();if(L!==D){N[0]=L;e:for(var B=0,V=N.length,de=V>>>1;B<de;){var ue=2*(B+1)-1,Pe=N[ue],qe=ue+1,mt=N[qe];if(0>i(Pe,L))qe<V&&0>i(mt,Pe)?(N[B]=mt,N[qe]=L,B=qe):(N[B]=Pe,N[ue]=L,B=ue);else if(qe<V&&0>i(mt,L))N[B]=mt,N[qe]=L,B=qe;else break e}}return D}function i(N,D){var L=N.sortIndex-D.sortIndex;return L!==0?L:N.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,p=null,m=3,x=!1,k=!1,w=!1,z=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=N)r(c),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(c)}}function S(N){if(w=!1,g(N),!k)if(n(l)!==null)k=!0,Z(P);else{var D=n(c);D!==null&&Q(S,D.startTime-N)}}function P(N,D){k=!1,w&&(w=!1,d(A),A=-1),x=!0;var L=m;try{for(g(D),p=n(l);p!==null&&(!(p.expirationTime>D)||N&&!U());){var B=p.callback;if(typeof B=="function"){p.callback=null,m=p.priorityLevel;var V=B(p.expirationTime<=D);D=t.unstable_now(),typeof V=="function"?p.callback=V:p===n(l)&&r(l),g(D)}else r(l);p=n(l)}if(p!==null)var de=!0;else{var ue=n(c);ue!==null&&Q(S,ue.startTime-D),de=!1}return de}finally{p=null,m=L,x=!1}}var b=!1,R=null,A=-1,j=5,M=-1;function U(){return!(t.unstable_now()-M<j)}function W(){if(R!==null){var N=t.unstable_now();M=N;var D=!0;try{D=R(!0,N)}finally{D?F():(b=!1,R=null)}}else b=!1}var F;if(typeof h=="function")F=function(){h(W)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,J=X.port2;X.port1.onmessage=W,F=function(){J.postMessage(null)}}else F=function(){z(W,0)};function Z(N){R=N,b||(b=!0,F())}function Q(N,D){A=z(function(){N(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){k||x||(k=!0,Z(P))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var L=m;m=D;try{return N()}finally{m=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=m;m=N;try{return D()}finally{m=L}},t.unstable_scheduleCallback=function(N,D,L){var B=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?B+L:B):L=B,N){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=L+V,N={id:u++,callback:D,priorityLevel:N,startTime:L,expirationTime:V,sortIndex:-1},L>B?(N.sortIndex=L,e(c,N),n(l)===null&&N===n(c)&&(w?(d(A),A=-1):w=!0,Q(S,L-B))):(N.sortIndex=V,e(l,N),k||x||(k=!0,Z(P))),N},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(N){var D=m;return function(){var L=m;m=D;try{return N.apply(this,arguments)}finally{m=L}}}})(dc);fc.exports=dc;var sh=fc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah=H,We=sh;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hc=new Set,Cr={};function hn(t,e){jn(t,e),jn(t+"Capture",e)}function jn(t,e){for(Cr[t]=e,t=0;t<e.length;t++)hc.add(e[t])}var Et=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ms=Object.prototype.hasOwnProperty,lh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kl={},Sl={};function uh(t){return ms.call(Sl,t)?!0:ms.call(kl,t)?!1:lh.test(t)?Sl[t]=!0:(kl[t]=!0,!1)}function ch(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fh(t,e,n,r){if(e===null||typeof e>"u"||ch(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ze(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Se[t]=new ze(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Se[e]=new ze(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Se[t]=new ze(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Se[t]=new ze(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Se[t]=new ze(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Se[t]=new ze(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Se[t]=new ze(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Se[t]=new ze(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Se[t]=new ze(t,5,!1,t.toLowerCase(),null,!1,!1)});var _a=/[\-:]([a-z])/g;function wa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_a,wa);Se[e]=new ze(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_a,wa);Se[e]=new ze(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_a,wa);Se[e]=new ze(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Se[t]=new ze(t,1,!1,t.toLowerCase(),null,!1,!1)});Se.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Se[t]=new ze(t,1,!1,t.toLowerCase(),null,!0,!0)});function xa(t,e,n,r){var i=Se.hasOwnProperty(e)?Se[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fh(e,n,i,r)&&(n=null),r||i===null?uh(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pt=ah.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ti=Symbol.for("react.element"),wn=Symbol.for("react.portal"),xn=Symbol.for("react.fragment"),ka=Symbol.for("react.strict_mode"),gs=Symbol.for("react.profiler"),pc=Symbol.for("react.provider"),mc=Symbol.for("react.context"),Sa=Symbol.for("react.forward_ref"),ys=Symbol.for("react.suspense"),vs=Symbol.for("react.suspense_list"),Ea=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),gc=Symbol.for("react.offscreen"),El=Symbol.iterator;function nr(t){return t===null||typeof t!="object"?null:(t=El&&t[El]||t["@@iterator"],typeof t=="function"?t:null)}var le=Object.assign,Lo;function dr(t){if(Lo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lo=e&&e[1]||""}return`
`+Lo+t}var Ro=!1;function Ao(t,e){if(!t||Ro)return"";Ro=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ro=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dr(t):""}function dh(t){switch(t.tag){case 5:return dr(t.type);case 16:return dr("Lazy");case 13:return dr("Suspense");case 19:return dr("SuspenseList");case 0:case 2:case 15:return t=Ao(t.type,!1),t;case 11:return t=Ao(t.type.render,!1),t;case 1:return t=Ao(t.type,!0),t;default:return""}}function _s(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xn:return"Fragment";case wn:return"Portal";case gs:return"Profiler";case ka:return"StrictMode";case ys:return"Suspense";case vs:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mc:return(t.displayName||"Context")+".Consumer";case pc:return(t._context.displayName||"Context")+".Provider";case Sa:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ea:return e=t.displayName||null,e!==null?e:_s(t.type)||"Memo";case Lt:e=t._payload,t=t._init;try{return _s(t(e))}catch{}}return null}function hh(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _s(e);case 8:return e===ka?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $t(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ph(t){var e=yc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ni(t){t._valueTracker||(t._valueTracker=ph(t))}function vc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ws(t,e){var n=e.checked;return le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Tl(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$t(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _c(t,e){e=e.checked,e!=null&&xa(t,"checked",e,!1)}function xs(t,e){_c(t,e);var n=$t(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ks(t,e.type,n):e.hasOwnProperty("defaultValue")&&ks(t,e.type,$t(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cl(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ks(t,e,n){(e!=="number"||zi(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hr=Array.isArray;function Dn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$t(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ss(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ml(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(hr(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$t(n)}}function wc(t,e){var n=$t(e.value),r=$t(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Pl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Es(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ri,kc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ri=ri||document.createElement("div"),ri.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ri.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mh=["Webkit","ms","Moz","O"];Object.keys(yr).forEach(function(t){mh.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yr[e]=yr[t]})});function Sc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yr.hasOwnProperty(t)&&yr[t]?(""+e).trim():e+"px"}function Ec(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Sc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gh=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ts(t,e){if(e){if(gh[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function Cs(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ms=null;function Ta(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ps=null,In=null,Un=null;function Nl(t){if(t=Yr(t)){if(typeof Ps!="function")throw Error(C(280));var e=t.stateNode;e&&(e=ho(e),Ps(t.stateNode,t.type,e))}}function Tc(t){In?Un?Un.push(t):Un=[t]:In=t}function Cc(){if(In){var t=In,e=Un;if(Un=In=null,Nl(t),e)for(t=0;t<e.length;t++)Nl(e[t])}}function Mc(t,e){return t(e)}function Pc(){}var zo=!1;function Nc(t,e,n){if(zo)return t(e,n);zo=!0;try{return Mc(t,e,n)}finally{zo=!1,(In!==null||Un!==null)&&(Pc(),Cc())}}function Pr(t,e){var n=t.stateNode;if(n===null)return null;var r=ho(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var Ns=!1;if(Et)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{Ns=!1}function yh(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var vr=!1,Oi=null,Di=!1,bs=null,vh={onError:function(t){vr=!0,Oi=t}};function _h(t,e,n,r,i,o,s,a,l){vr=!1,Oi=null,yh.apply(vh,arguments)}function wh(t,e,n,r,i,o,s,a,l){if(_h.apply(this,arguments),vr){if(vr){var c=Oi;vr=!1,Oi=null}else throw Error(C(198));Di||(Di=!0,bs=c)}}function pn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bl(t){if(pn(t)!==t)throw Error(C(188))}function xh(t){var e=t.alternate;if(!e){if(e=pn(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return bl(i),t;if(o===r)return bl(i),e;o=o.sibling}throw Error(C(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function Lc(t){return t=xh(t),t!==null?Rc(t):null}function Rc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Rc(t);if(e!==null)return e;t=t.sibling}return null}var Ac=We.unstable_scheduleCallback,Ll=We.unstable_cancelCallback,kh=We.unstable_shouldYield,Sh=We.unstable_requestPaint,fe=We.unstable_now,Eh=We.unstable_getCurrentPriorityLevel,Ca=We.unstable_ImmediatePriority,zc=We.unstable_UserBlockingPriority,Ii=We.unstable_NormalPriority,Th=We.unstable_LowPriority,Oc=We.unstable_IdlePriority,lo=null,ht=null;function Ch(t){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(lo,t,void 0,(t.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:Nh,Mh=Math.log,Ph=Math.LN2;function Nh(t){return t>>>=0,t===0?32:31-(Mh(t)/Ph|0)|0}var ii=64,oi=4194304;function pr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ui(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=pr(a):(o&=s,o!==0&&(r=pr(o)))}else s=n&~i,s!==0?r=pr(s):o!==0&&(r=pr(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-it(e),i=1<<n,r|=t[n],e&=~i;return r}function bh(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lh(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-it(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=bh(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Ls(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Dc(){var t=ii;return ii<<=1,!(ii&4194240)&&(ii=64),t}function Oo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $r(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-it(e),t[e]=n}function Rh(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-it(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Ma(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-it(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var K=0;function Ic(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Uc,Pa,Bc,Gc,Vc,Rs=!1,si=[],Ut=null,Bt=null,Gt=null,Nr=new Map,br=new Map,zt=[],Ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rl(t,e){switch(t){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":Gt=null;break;case"pointerover":case"pointerout":Nr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":br.delete(e.pointerId)}}function ir(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Yr(e),e!==null&&Pa(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zh(t,e,n,r,i){switch(e){case"focusin":return Ut=ir(Ut,t,e,n,r,i),!0;case"dragenter":return Bt=ir(Bt,t,e,n,r,i),!0;case"mouseover":return Gt=ir(Gt,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nr.set(o,ir(Nr.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,br.set(o,ir(br.get(o)||null,t,e,n,r,i)),!0}return!1}function Fc(t){var e=nn(t.target);if(e!==null){var n=pn(e);if(n!==null){if(e=n.tag,e===13){if(e=bc(n),e!==null){t.blockedOn=e,Vc(t.priority,function(){Bc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Si(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=As(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ms=r,n.target.dispatchEvent(r),Ms=null}else return e=Yr(n),e!==null&&Pa(e),t.blockedOn=n,!1;e.shift()}return!0}function Al(t,e,n){Si(t)&&n.delete(e)}function Oh(){Rs=!1,Ut!==null&&Si(Ut)&&(Ut=null),Bt!==null&&Si(Bt)&&(Bt=null),Gt!==null&&Si(Gt)&&(Gt=null),Nr.forEach(Al),br.forEach(Al)}function or(t,e){t.blockedOn===e&&(t.blockedOn=null,Rs||(Rs=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,Oh)))}function Lr(t){function e(i){return or(i,t)}if(0<si.length){or(si[0],t);for(var n=1;n<si.length;n++){var r=si[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ut!==null&&or(Ut,t),Bt!==null&&or(Bt,t),Gt!==null&&or(Gt,t),Nr.forEach(e),br.forEach(e),n=0;n<zt.length;n++)r=zt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zt.length&&(n=zt[0],n.blockedOn===null);)Fc(n),n.blockedOn===null&&zt.shift()}var Bn=Pt.ReactCurrentBatchConfig,Bi=!0;function Dh(t,e,n,r){var i=K,o=Bn.transition;Bn.transition=null;try{K=1,Na(t,e,n,r)}finally{K=i,Bn.transition=o}}function Ih(t,e,n,r){var i=K,o=Bn.transition;Bn.transition=null;try{K=4,Na(t,e,n,r)}finally{K=i,Bn.transition=o}}function Na(t,e,n,r){if(Bi){var i=As(t,e,n,r);if(i===null)Ho(t,e,r,Gi,n),Rl(t,r);else if(zh(i,t,e,n,r))r.stopPropagation();else if(Rl(t,r),e&4&&-1<Ah.indexOf(t)){for(;i!==null;){var o=Yr(i);if(o!==null&&Uc(o),o=As(t,e,n,r),o===null&&Ho(t,e,r,Gi,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ho(t,e,r,null,n)}}var Gi=null;function As(t,e,n,r){if(Gi=null,t=Ta(r),t=nn(t),t!==null)if(e=pn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gi=t,null}function jc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eh()){case Ca:return 1;case zc:return 4;case Ii:case Th:return 16;case Oc:return 536870912;default:return 16}default:return 16}}var Dt=null,ba=null,Ei=null;function Wc(){if(Ei)return Ei;var t,e=ba,n=e.length,r,i="value"in Dt?Dt.value:Dt.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ei=i.slice(t,1<r?1-r:void 0)}function Ti(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ai(){return!0}function zl(){return!1}function $e(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ai:zl,this.isPropagationStopped=zl,this}return le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),e}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=$e(Zn),qr=le({},Zn,{view:0,detail:0}),Uh=$e(qr),Do,Io,sr,uo=le({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ra,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sr&&(sr&&t.type==="mousemove"?(Do=t.screenX-sr.screenX,Io=t.screenY-sr.screenY):Io=Do=0,sr=t),Do)},movementY:function(t){return"movementY"in t?t.movementY:Io}}),Ol=$e(uo),Bh=le({},uo,{dataTransfer:0}),Gh=$e(Bh),Vh=le({},qr,{relatedTarget:0}),Uo=$e(Vh),Fh=le({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),jh=$e(Fh),Wh=le({},Zn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hh=$e(Wh),$h=le({},Zn,{data:0}),Dl=$e($h),qh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xh(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qh[t])?!!e[t]:!1}function Ra(){return Xh}var Kh=le({},qr,{key:function(t){if(t.key){var e=qh[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ra,charCode:function(t){return t.type==="keypress"?Ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zh=$e(Kh),Jh=le({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Il=$e(Jh),ep=le({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ra}),tp=$e(ep),np=le({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),rp=$e(np),ip=le({},uo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),op=$e(ip),sp=[9,13,27,32],Aa=Et&&"CompositionEvent"in window,_r=null;Et&&"documentMode"in document&&(_r=document.documentMode);var ap=Et&&"TextEvent"in window&&!_r,Hc=Et&&(!Aa||_r&&8<_r&&11>=_r),Ul=" ",Bl=!1;function $c(t,e){switch(t){case"keyup":return sp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kn=!1;function lp(t,e){switch(t){case"compositionend":return qc(e);case"keypress":return e.which!==32?null:(Bl=!0,Ul);case"textInput":return t=e.data,t===Ul&&Bl?null:t;default:return null}}function up(t,e){if(kn)return t==="compositionend"||!Aa&&$c(t,e)?(t=Wc(),Ei=ba=Dt=null,kn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Hc&&e.locale!=="ko"?null:e.data;default:return null}}var cp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cp[t.type]:e==="textarea"}function Yc(t,e,n,r){Tc(r),e=Vi(e,"onChange"),0<e.length&&(n=new La("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wr=null,Rr=null;function fp(t){sf(t,0)}function co(t){var e=Tn(t);if(vc(e))return t}function dp(t,e){if(t==="change")return e}var Qc=!1;if(Et){var Bo;if(Et){var Go="oninput"in document;if(!Go){var Vl=document.createElement("div");Vl.setAttribute("oninput","return;"),Go=typeof Vl.oninput=="function"}Bo=Go}else Bo=!1;Qc=Bo&&(!document.documentMode||9<document.documentMode)}function Fl(){wr&&(wr.detachEvent("onpropertychange",Xc),Rr=wr=null)}function Xc(t){if(t.propertyName==="value"&&co(Rr)){var e=[];Yc(e,Rr,t,Ta(t)),Nc(fp,e)}}function hp(t,e,n){t==="focusin"?(Fl(),wr=e,Rr=n,wr.attachEvent("onpropertychange",Xc)):t==="focusout"&&Fl()}function pp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return co(Rr)}function mp(t,e){if(t==="click")return co(e)}function gp(t,e){if(t==="input"||t==="change")return co(e)}function yp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var st=typeof Object.is=="function"?Object.is:yp;function Ar(t,e){if(st(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ms.call(e,i)||!st(t[i],e[i]))return!1}return!0}function jl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wl(t,e){var n=jl(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jl(n)}}function Kc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Kc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zc(){for(var t=window,e=zi();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zi(t.document)}return e}function za(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vp(t){var e=Zc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Kc(n.ownerDocument.documentElement,n)){if(r!==null&&za(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Wl(n,o);var s=Wl(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _p=Et&&"documentMode"in document&&11>=document.documentMode,Sn=null,zs=null,xr=null,Os=!1;function Hl(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Os||Sn==null||Sn!==zi(r)||(r=Sn,"selectionStart"in r&&za(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xr&&Ar(xr,r)||(xr=r,r=Vi(zs,"onSelect"),0<r.length&&(e=new La("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Sn)))}function li(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var En={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionend:li("Transition","TransitionEnd")},Vo={},Jc={};Et&&(Jc=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);function fo(t){if(Vo[t])return Vo[t];if(!En[t])return t;var e=En[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Jc)return Vo[t]=e[n];return t}var ef=fo("animationend"),tf=fo("animationiteration"),nf=fo("animationstart"),rf=fo("transitionend"),of=new Map,$l="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(t,e){of.set(t,e),hn(e,[t])}for(var Fo=0;Fo<$l.length;Fo++){var jo=$l[Fo],wp=jo.toLowerCase(),xp=jo[0].toUpperCase()+jo.slice(1);Yt(wp,"on"+xp)}Yt(ef,"onAnimationEnd");Yt(tf,"onAnimationIteration");Yt(nf,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(rf,"onTransitionEnd");jn("onMouseEnter",["mouseout","mouseover"]);jn("onMouseLeave",["mouseout","mouseover"]);jn("onPointerEnter",["pointerout","pointerover"]);jn("onPointerLeave",["pointerout","pointerover"]);hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kp=new Set("cancel close invalid load scroll toggle".split(" ").concat(mr));function ql(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wh(r,e,void 0,t),t.currentTarget=null}function sf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;ql(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;ql(i,a,c),o=l}}}if(Di)throw t=bs,Di=!1,bs=null,t}function te(t,e){var n=e[Gs];n===void 0&&(n=e[Gs]=new Set);var r=t+"__bubble";n.has(r)||(af(e,t,2,!1),n.add(r))}function Wo(t,e,n){var r=0;e&&(r|=4),af(n,t,r,e)}var ui="_reactListening"+Math.random().toString(36).slice(2);function zr(t){if(!t[ui]){t[ui]=!0,hc.forEach(function(n){n!=="selectionchange"&&(kp.has(n)||Wo(n,!1,t),Wo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ui]||(e[ui]=!0,Wo("selectionchange",!1,e))}}function af(t,e,n,r){switch(jc(e)){case 1:var i=Dh;break;case 4:i=Ih;break;default:i=Na}n=i.bind(null,e,n,t),i=void 0,!Ns||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ho(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=nn(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Nc(function(){var c=o,u=Ta(n),p=[];e:{var m=of.get(t);if(m!==void 0){var x=La,k=t;switch(t){case"keypress":if(Ti(n)===0)break e;case"keydown":case"keyup":x=Zh;break;case"focusin":k="focus",x=Uo;break;case"focusout":k="blur",x=Uo;break;case"beforeblur":case"afterblur":x=Uo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=tp;break;case ef:case tf:case nf:x=jh;break;case rf:x=rp;break;case"scroll":x=Uh;break;case"wheel":x=op;break;case"copy":case"cut":case"paste":x=Hh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Il}var w=(e&4)!==0,z=!w&&t==="scroll",d=w?m!==null?m+"Capture":null:m;w=[];for(var h=c,g;h!==null;){g=h;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,d!==null&&(S=Pr(h,d),S!=null&&w.push(Or(h,S,g)))),z)break;h=h.return}0<w.length&&(m=new x(m,k,null,n,u),p.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",m&&n!==Ms&&(k=n.relatedTarget||n.fromElement)&&(nn(k)||k[Tt]))break e;if((x||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,x?(k=n.relatedTarget||n.toElement,x=c,k=k?nn(k):null,k!==null&&(z=pn(k),k!==z||k.tag!==5&&k.tag!==6)&&(k=null)):(x=null,k=c),x!==k)){if(w=Ol,S="onMouseLeave",d="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(w=Il,S="onPointerLeave",d="onPointerEnter",h="pointer"),z=x==null?m:Tn(x),g=k==null?m:Tn(k),m=new w(S,h+"leave",x,n,u),m.target=z,m.relatedTarget=g,S=null,nn(u)===c&&(w=new w(d,h+"enter",k,n,u),w.target=g,w.relatedTarget=z,S=w),z=S,x&&k)t:{for(w=x,d=k,h=0,g=w;g;g=yn(g))h++;for(g=0,S=d;S;S=yn(S))g++;for(;0<h-g;)w=yn(w),h--;for(;0<g-h;)d=yn(d),g--;for(;h--;){if(w===d||d!==null&&w===d.alternate)break t;w=yn(w),d=yn(d)}w=null}else w=null;x!==null&&Yl(p,m,x,w,!1),k!==null&&z!==null&&Yl(p,z,k,w,!0)}}e:{if(m=c?Tn(c):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var P=dp;else if(Gl(m))if(Qc)P=gp;else{P=pp;var b=hp}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=mp);if(P&&(P=P(t,c))){Yc(p,P,n,u);break e}b&&b(t,m,c),t==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&ks(m,"number",m.value)}switch(b=c?Tn(c):window,t){case"focusin":(Gl(b)||b.contentEditable==="true")&&(Sn=b,zs=c,xr=null);break;case"focusout":xr=zs=Sn=null;break;case"mousedown":Os=!0;break;case"contextmenu":case"mouseup":case"dragend":Os=!1,Hl(p,n,u);break;case"selectionchange":if(_p)break;case"keydown":case"keyup":Hl(p,n,u)}var R;if(Aa)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else kn?$c(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Hc&&n.locale!=="ko"&&(kn||A!=="onCompositionStart"?A==="onCompositionEnd"&&kn&&(R=Wc()):(Dt=u,ba="value"in Dt?Dt.value:Dt.textContent,kn=!0)),b=Vi(c,A),0<b.length&&(A=new Dl(A,t,null,n,u),p.push({event:A,listeners:b}),R?A.data=R:(R=qc(n),R!==null&&(A.data=R)))),(R=ap?lp(t,n):up(t,n))&&(c=Vi(c,"onBeforeInput"),0<c.length&&(u=new Dl("onBeforeInput","beforeinput",null,n,u),p.push({event:u,listeners:c}),u.data=R))}sf(p,e)})}function Or(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vi(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Pr(t,n),o!=null&&r.unshift(Or(t,o,i)),o=Pr(t,e),o!=null&&r.push(Or(t,o,i))),t=t.return}return r}function yn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yl(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Pr(n,o),l!=null&&s.unshift(Or(n,l,a))):i||(l=Pr(n,o),l!=null&&s.push(Or(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Sp=/\r\n?/g,Ep=/\u0000|\uFFFD/g;function Ql(t){return(typeof t=="string"?t:""+t).replace(Sp,`
`).replace(Ep,"")}function ci(t,e,n){if(e=Ql(e),Ql(t)!==e&&n)throw Error(C(425))}function Fi(){}var Ds=null,Is=null;function Us(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bs=typeof setTimeout=="function"?setTimeout:void 0,Tp=typeof clearTimeout=="function"?clearTimeout:void 0,Xl=typeof Promise=="function"?Promise:void 0,Cp=typeof queueMicrotask=="function"?queueMicrotask:typeof Xl<"u"?function(t){return Xl.resolve(null).then(t).catch(Mp)}:Bs;function Mp(t){setTimeout(function(){throw t})}function $o(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Lr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Lr(e)}function Vt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kl(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jn=Math.random().toString(36).slice(2),dt="__reactFiber$"+Jn,Dr="__reactProps$"+Jn,Tt="__reactContainer$"+Jn,Gs="__reactEvents$"+Jn,Pp="__reactListeners$"+Jn,Np="__reactHandles$"+Jn;function nn(t){var e=t[dt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tt]||n[dt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kl(t);t!==null;){if(n=t[dt])return n;t=Kl(t)}return e}t=n,n=t.parentNode}return null}function Yr(t){return t=t[dt]||t[Tt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function ho(t){return t[Dr]||null}var Vs=[],Cn=-1;function Qt(t){return{current:t}}function re(t){0>Cn||(t.current=Vs[Cn],Vs[Cn]=null,Cn--)}function ee(t,e){Cn++,Vs[Cn]=t.current,t.current=e}var qt={},Me=Qt(qt),Ue=Qt(!1),ln=qt;function Wn(t,e){var n=t.type.contextTypes;if(!n)return qt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Be(t){return t=t.childContextTypes,t!=null}function ji(){re(Ue),re(Me)}function Zl(t,e,n){if(Me.current!==qt)throw Error(C(168));ee(Me,e),ee(Ue,n)}function lf(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(C(108,hh(t)||"Unknown",i));return le({},n,r)}function Wi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qt,ln=Me.current,ee(Me,t),ee(Ue,Ue.current),!0}function Jl(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=lf(t,e,ln),r.__reactInternalMemoizedMergedChildContext=t,re(Ue),re(Me),ee(Me,t)):re(Ue),ee(Ue,n)}var vt=null,po=!1,qo=!1;function uf(t){vt===null?vt=[t]:vt.push(t)}function bp(t){po=!0,uf(t)}function Xt(){if(!qo&&vt!==null){qo=!0;var t=0,e=K;try{var n=vt;for(K=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vt=null,po=!1}catch(i){throw vt!==null&&(vt=vt.slice(t+1)),Ac(Ca,Xt),i}finally{K=e,qo=!1}}return null}var Mn=[],Pn=0,Hi=null,$i=0,Ye=[],Qe=0,un=null,wt=1,xt="";function Kt(t,e){Mn[Pn++]=$i,Mn[Pn++]=Hi,Hi=t,$i=e}function cf(t,e,n){Ye[Qe++]=wt,Ye[Qe++]=xt,Ye[Qe++]=un,un=t;var r=wt;t=xt;var i=32-it(r)-1;r&=~(1<<i),n+=1;var o=32-it(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,wt=1<<32-it(e)+i|n<<i|r,xt=o+t}else wt=1<<o|n<<i|r,xt=t}function Oa(t){t.return!==null&&(Kt(t,1),cf(t,1,0))}function Da(t){for(;t===Hi;)Hi=Mn[--Pn],Mn[Pn]=null,$i=Mn[--Pn],Mn[Pn]=null;for(;t===un;)un=Ye[--Qe],Ye[Qe]=null,xt=Ye[--Qe],Ye[Qe]=null,wt=Ye[--Qe],Ye[Qe]=null}var je=null,Fe=null,ie=!1,rt=null;function ff(t,e){var n=Xe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,je=t,Fe=Vt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,je=t,Fe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=un!==null?{id:wt,overflow:xt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,je=t,Fe=null,!0):!1;default:return!1}}function Fs(t){return(t.mode&1)!==0&&(t.flags&128)===0}function js(t){if(ie){var e=Fe;if(e){var n=e;if(!eu(t,e)){if(Fs(t))throw Error(C(418));e=Vt(n.nextSibling);var r=je;e&&eu(t,e)?ff(r,n):(t.flags=t.flags&-4097|2,ie=!1,je=t)}}else{if(Fs(t))throw Error(C(418));t.flags=t.flags&-4097|2,ie=!1,je=t}}}function tu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;je=t}function fi(t){if(t!==je)return!1;if(!ie)return tu(t),ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Us(t.type,t.memoizedProps)),e&&(e=Fe)){if(Fs(t))throw df(),Error(C(418));for(;e;)ff(t,e),e=Vt(e.nextSibling)}if(tu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fe=Vt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fe=null}}else Fe=je?Vt(t.stateNode.nextSibling):null;return!0}function df(){for(var t=Fe;t;)t=Vt(t.nextSibling)}function Hn(){Fe=je=null,ie=!1}function Ia(t){rt===null?rt=[t]:rt.push(t)}var Lp=Pt.ReactCurrentBatchConfig;function ar(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function di(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nu(t){var e=t._init;return e(t._payload)}function hf(t){function e(d,h){if(t){var g=d.deletions;g===null?(d.deletions=[h],d.flags|=16):g.push(h)}}function n(d,h){if(!t)return null;for(;h!==null;)e(d,h),h=h.sibling;return null}function r(d,h){for(d=new Map;h!==null;)h.key!==null?d.set(h.key,h):d.set(h.index,h),h=h.sibling;return d}function i(d,h){return d=Ht(d,h),d.index=0,d.sibling=null,d}function o(d,h,g){return d.index=g,t?(g=d.alternate,g!==null?(g=g.index,g<h?(d.flags|=2,h):g):(d.flags|=2,h)):(d.flags|=1048576,h)}function s(d){return t&&d.alternate===null&&(d.flags|=2),d}function a(d,h,g,S){return h===null||h.tag!==6?(h=es(g,d.mode,S),h.return=d,h):(h=i(h,g),h.return=d,h)}function l(d,h,g,S){var P=g.type;return P===xn?u(d,h,g.props.children,S,g.key):h!==null&&(h.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Lt&&nu(P)===h.type)?(S=i(h,g.props),S.ref=ar(d,h,g),S.return=d,S):(S=Ri(g.type,g.key,g.props,null,d.mode,S),S.ref=ar(d,h,g),S.return=d,S)}function c(d,h,g,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=ts(g,d.mode,S),h.return=d,h):(h=i(h,g.children||[]),h.return=d,h)}function u(d,h,g,S,P){return h===null||h.tag!==7?(h=an(g,d.mode,S,P),h.return=d,h):(h=i(h,g),h.return=d,h)}function p(d,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=es(""+h,d.mode,g),h.return=d,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ti:return g=Ri(h.type,h.key,h.props,null,d.mode,g),g.ref=ar(d,null,h),g.return=d,g;case wn:return h=ts(h,d.mode,g),h.return=d,h;case Lt:var S=h._init;return p(d,S(h._payload),g)}if(hr(h)||nr(h))return h=an(h,d.mode,g,null),h.return=d,h;di(d,h)}return null}function m(d,h,g,S){var P=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return P!==null?null:a(d,h,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ti:return g.key===P?l(d,h,g,S):null;case wn:return g.key===P?c(d,h,g,S):null;case Lt:return P=g._init,m(d,h,P(g._payload),S)}if(hr(g)||nr(g))return P!==null?null:u(d,h,g,S,null);di(d,g)}return null}function x(d,h,g,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return d=d.get(g)||null,a(h,d,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ti:return d=d.get(S.key===null?g:S.key)||null,l(h,d,S,P);case wn:return d=d.get(S.key===null?g:S.key)||null,c(h,d,S,P);case Lt:var b=S._init;return x(d,h,g,b(S._payload),P)}if(hr(S)||nr(S))return d=d.get(g)||null,u(h,d,S,P,null);di(h,S)}return null}function k(d,h,g,S){for(var P=null,b=null,R=h,A=h=0,j=null;R!==null&&A<g.length;A++){R.index>A?(j=R,R=null):j=R.sibling;var M=m(d,R,g[A],S);if(M===null){R===null&&(R=j);break}t&&R&&M.alternate===null&&e(d,R),h=o(M,h,A),b===null?P=M:b.sibling=M,b=M,R=j}if(A===g.length)return n(d,R),ie&&Kt(d,A),P;if(R===null){for(;A<g.length;A++)R=p(d,g[A],S),R!==null&&(h=o(R,h,A),b===null?P=R:b.sibling=R,b=R);return ie&&Kt(d,A),P}for(R=r(d,R);A<g.length;A++)j=x(R,d,A,g[A],S),j!==null&&(t&&j.alternate!==null&&R.delete(j.key===null?A:j.key),h=o(j,h,A),b===null?P=j:b.sibling=j,b=j);return t&&R.forEach(function(U){return e(d,U)}),ie&&Kt(d,A),P}function w(d,h,g,S){var P=nr(g);if(typeof P!="function")throw Error(C(150));if(g=P.call(g),g==null)throw Error(C(151));for(var b=P=null,R=h,A=h=0,j=null,M=g.next();R!==null&&!M.done;A++,M=g.next()){R.index>A?(j=R,R=null):j=R.sibling;var U=m(d,R,M.value,S);if(U===null){R===null&&(R=j);break}t&&R&&U.alternate===null&&e(d,R),h=o(U,h,A),b===null?P=U:b.sibling=U,b=U,R=j}if(M.done)return n(d,R),ie&&Kt(d,A),P;if(R===null){for(;!M.done;A++,M=g.next())M=p(d,M.value,S),M!==null&&(h=o(M,h,A),b===null?P=M:b.sibling=M,b=M);return ie&&Kt(d,A),P}for(R=r(d,R);!M.done;A++,M=g.next())M=x(R,d,A,M.value,S),M!==null&&(t&&M.alternate!==null&&R.delete(M.key===null?A:M.key),h=o(M,h,A),b===null?P=M:b.sibling=M,b=M);return t&&R.forEach(function(W){return e(d,W)}),ie&&Kt(d,A),P}function z(d,h,g,S){if(typeof g=="object"&&g!==null&&g.type===xn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ti:e:{for(var P=g.key,b=h;b!==null;){if(b.key===P){if(P=g.type,P===xn){if(b.tag===7){n(d,b.sibling),h=i(b,g.props.children),h.return=d,d=h;break e}}else if(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Lt&&nu(P)===b.type){n(d,b.sibling),h=i(b,g.props),h.ref=ar(d,b,g),h.return=d,d=h;break e}n(d,b);break}else e(d,b);b=b.sibling}g.type===xn?(h=an(g.props.children,d.mode,S,g.key),h.return=d,d=h):(S=Ri(g.type,g.key,g.props,null,d.mode,S),S.ref=ar(d,h,g),S.return=d,d=S)}return s(d);case wn:e:{for(b=g.key;h!==null;){if(h.key===b)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(d,h.sibling),h=i(h,g.children||[]),h.return=d,d=h;break e}else{n(d,h);break}else e(d,h);h=h.sibling}h=ts(g,d.mode,S),h.return=d,d=h}return s(d);case Lt:return b=g._init,z(d,h,b(g._payload),S)}if(hr(g))return k(d,h,g,S);if(nr(g))return w(d,h,g,S);di(d,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(d,h.sibling),h=i(h,g),h.return=d,d=h):(n(d,h),h=es(g,d.mode,S),h.return=d,d=h),s(d)):n(d,h)}return z}var $n=hf(!0),pf=hf(!1),qi=Qt(null),Yi=null,Nn=null,Ua=null;function Ba(){Ua=Nn=Yi=null}function Ga(t){var e=qi.current;re(qi),t._currentValue=e}function Ws(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Gn(t,e){Yi=t,Ua=Nn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ie=!0),t.firstContext=null)}function Ze(t){var e=t._currentValue;if(Ua!==t)if(t={context:t,memoizedValue:e,next:null},Nn===null){if(Yi===null)throw Error(C(308));Nn=t,Yi.dependencies={lanes:0,firstContext:t}}else Nn=Nn.next=t;return e}var rn=null;function Va(t){rn===null?rn=[t]:rn.push(t)}function mf(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Va(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ct(t,r)}function Ct(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rt=!1;function Fa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function St(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ft(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ct(t,n)}return i=r.interleaved,i===null?(e.next=e,Va(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ct(t,n)}function Ci(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ma(t,n)}}function ru(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qi(t,e,n,r){var i=t.updateQueue;Rt=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var p=i.baseState;s=0,u=c=l=null,a=o;do{var m=a.lane,x=a.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var k=t,w=a;switch(m=e,x=n,w.tag){case 1:if(k=w.payload,typeof k=="function"){p=k.call(x,p,m);break e}p=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=w.payload,m=typeof k=="function"?k.call(x,p,m):k,m==null)break e;p=le({},p,m);break e;case 2:Rt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else x={eventTime:x,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=x,l=p):u=u.next=x,s|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(l=p),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);fn|=s,t.lanes=s,t.memoizedState=p}}function iu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(C(191,i));i.call(r)}}}var Qr={},pt=Qt(Qr),Ir=Qt(Qr),Ur=Qt(Qr);function on(t){if(t===Qr)throw Error(C(174));return t}function ja(t,e){switch(ee(Ur,e),ee(Ir,t),ee(pt,Qr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Es(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Es(e,t)}re(pt),ee(pt,e)}function qn(){re(pt),re(Ir),re(Ur)}function yf(t){on(Ur.current);var e=on(pt.current),n=Es(e,t.type);e!==n&&(ee(Ir,t),ee(pt,n))}function Wa(t){Ir.current===t&&(re(pt),re(Ir))}var se=Qt(0);function Xi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yo=[];function Ha(){for(var t=0;t<Yo.length;t++)Yo[t]._workInProgressVersionPrimary=null;Yo.length=0}var Mi=Pt.ReactCurrentDispatcher,Qo=Pt.ReactCurrentBatchConfig,cn=0,ae=null,me=null,ve=null,Ki=!1,kr=!1,Br=0,Rp=0;function Ee(){throw Error(C(321))}function $a(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!st(t[n],e[n]))return!1;return!0}function qa(t,e,n,r,i,o){if(cn=o,ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mi.current=t===null||t.memoizedState===null?Dp:Ip,t=n(r,i),kr){o=0;do{if(kr=!1,Br=0,25<=o)throw Error(C(301));o+=1,ve=me=null,e.updateQueue=null,Mi.current=Up,t=n(r,i)}while(kr)}if(Mi.current=Zi,e=me!==null&&me.next!==null,cn=0,ve=me=ae=null,Ki=!1,e)throw Error(C(300));return t}function Ya(){var t=Br!==0;return Br=0,t}function ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?ae.memoizedState=ve=t:ve=ve.next=t,ve}function Je(){if(me===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=me.next;var e=ve===null?ae.memoizedState:ve.next;if(e!==null)ve=e,me=t;else{if(t===null)throw Error(C(310));me=t,t={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ve===null?ae.memoizedState=ve=t:ve=ve.next=t}return ve}function Gr(t,e){return typeof e=="function"?e(t):e}function Xo(t){var e=Je(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=me,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((cn&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=p,s=r):l=l.next=p,ae.lanes|=u,fn|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,st(r,e.memoizedState)||(Ie=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ae.lanes|=o,fn|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ko(t){var e=Je(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);st(o,e.memoizedState)||(Ie=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function vf(){}function _f(t,e){var n=ae,r=Je(),i=e(),o=!st(r.memoizedState,i);if(o&&(r.memoizedState=i,Ie=!0),r=r.queue,Qa(kf.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,Vr(9,xf.bind(null,n,r,i,e),void 0,null),we===null)throw Error(C(349));cn&30||wf(n,e,i)}return i}function wf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xf(t,e,n,r){e.value=n,e.getSnapshot=r,Sf(e)&&Ef(t)}function kf(t,e,n){return n(function(){Sf(e)&&Ef(t)})}function Sf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!st(t,n)}catch{return!0}}function Ef(t){var e=Ct(t,1);e!==null&&ot(e,t,1,-1)}function ou(t){var e=ft();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:t},e.queue=t,t=t.dispatch=Op.bind(null,ae,t),[e.memoizedState,t]}function Vr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Tf(){return Je().memoizedState}function Pi(t,e,n,r){var i=ft();ae.flags|=t,i.memoizedState=Vr(1|e,n,void 0,r===void 0?null:r)}function mo(t,e,n,r){var i=Je();r=r===void 0?null:r;var o=void 0;if(me!==null){var s=me.memoizedState;if(o=s.destroy,r!==null&&$a(r,s.deps)){i.memoizedState=Vr(e,n,o,r);return}}ae.flags|=t,i.memoizedState=Vr(1|e,n,o,r)}function su(t,e){return Pi(8390656,8,t,e)}function Qa(t,e){return mo(2048,8,t,e)}function Cf(t,e){return mo(4,2,t,e)}function Mf(t,e){return mo(4,4,t,e)}function Pf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Nf(t,e,n){return n=n!=null?n.concat([t]):null,mo(4,4,Pf.bind(null,e,t),n)}function Xa(){}function bf(t,e){var n=Je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$a(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Lf(t,e){var n=Je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$a(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Rf(t,e,n){return cn&21?(st(n,e)||(n=Dc(),ae.lanes|=n,fn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ie=!0),t.memoizedState=n)}function Ap(t,e){var n=K;K=n!==0&&4>n?n:4,t(!0);var r=Qo.transition;Qo.transition={};try{t(!1),e()}finally{K=n,Qo.transition=r}}function Af(){return Je().memoizedState}function zp(t,e,n){var r=Wt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zf(t))Of(e,n);else if(n=mf(t,e,n,r),n!==null){var i=Re();ot(n,t,r,i),Df(n,e,r)}}function Op(t,e,n){var r=Wt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zf(t))Of(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,st(a,s)){var l=e.interleaved;l===null?(i.next=i,Va(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=mf(t,e,i,r),n!==null&&(i=Re(),ot(n,t,r,i),Df(n,e,r))}}function zf(t){var e=t.alternate;return t===ae||e!==null&&e===ae}function Of(t,e){kr=Ki=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Df(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ma(t,n)}}var Zi={readContext:Ze,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},Dp={readContext:Ze,useCallback:function(t,e){return ft().memoizedState=[t,e===void 0?null:e],t},useContext:Ze,useEffect:su,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pi(4194308,4,Pf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pi(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pi(4,2,t,e)},useMemo:function(t,e){var n=ft();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ft();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zp.bind(null,ae,t),[r.memoizedState,t]},useRef:function(t){var e=ft();return t={current:t},e.memoizedState=t},useState:ou,useDebugValue:Xa,useDeferredValue:function(t){return ft().memoizedState=t},useTransition:function(){var t=ou(!1),e=t[0];return t=Ap.bind(null,t[1]),ft().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ae,i=ft();if(ie){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),we===null)throw Error(C(349));cn&30||wf(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,su(kf.bind(null,r,o,t),[t]),r.flags|=2048,Vr(9,xf.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ft(),e=we.identifierPrefix;if(ie){var n=xt,r=wt;n=(r&~(1<<32-it(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Br++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Rp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ip={readContext:Ze,useCallback:bf,useContext:Ze,useEffect:Qa,useImperativeHandle:Nf,useInsertionEffect:Cf,useLayoutEffect:Mf,useMemo:Lf,useReducer:Xo,useRef:Tf,useState:function(){return Xo(Gr)},useDebugValue:Xa,useDeferredValue:function(t){var e=Je();return Rf(e,me.memoizedState,t)},useTransition:function(){var t=Xo(Gr)[0],e=Je().memoizedState;return[t,e]},useMutableSource:vf,useSyncExternalStore:_f,useId:Af,unstable_isNewReconciler:!1},Up={readContext:Ze,useCallback:bf,useContext:Ze,useEffect:Qa,useImperativeHandle:Nf,useInsertionEffect:Cf,useLayoutEffect:Mf,useMemo:Lf,useReducer:Ko,useRef:Tf,useState:function(){return Ko(Gr)},useDebugValue:Xa,useDeferredValue:function(t){var e=Je();return me===null?e.memoizedState=t:Rf(e,me.memoizedState,t)},useTransition:function(){var t=Ko(Gr)[0],e=Je().memoizedState;return[t,e]},useMutableSource:vf,useSyncExternalStore:_f,useId:Af,unstable_isNewReconciler:!1};function tt(t,e){if(t&&t.defaultProps){e=le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hs(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var go={isMounted:function(t){return(t=t._reactInternals)?pn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Re(),i=Wt(t),o=St(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ft(t,o,i),e!==null&&(ot(e,t,i,r),Ci(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Re(),i=Wt(t),o=St(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ft(t,o,i),e!==null&&(ot(e,t,i,r),Ci(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Re(),r=Wt(t),i=St(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ft(t,i,r),e!==null&&(ot(e,t,r,n),Ci(e,t,r))}};function au(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ar(n,r)||!Ar(i,o):!0}function If(t,e,n){var r=!1,i=qt,o=e.contextType;return typeof o=="object"&&o!==null?o=Ze(o):(i=Be(e)?ln:Me.current,r=e.contextTypes,o=(r=r!=null)?Wn(t,i):qt),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=go,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function lu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&go.enqueueReplaceState(e,e.state,null)}function $s(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Fa(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ze(o):(o=Be(e)?ln:Me.current,i.context=Wn(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Hs(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&go.enqueueReplaceState(i,i.state,null),Qi(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yn(t,e){try{var n="",r=e;do n+=dh(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Zo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qs(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Bp=typeof WeakMap=="function"?WeakMap:Map;function Uf(t,e,n){n=St(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){eo||(eo=!0,ra=r),qs(t,e)},n}function Bf(t,e,n){n=St(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qs(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){qs(t,e),typeof r!="function"&&(jt===null?jt=new Set([this]):jt.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function uu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Bp;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Jp.bind(null,t,e,n),e.then(t,t))}function cu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fu(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=St(-1,1),e.tag=2,Ft(n,e,1))),n.lanes|=1),t)}var Gp=Pt.ReactCurrentOwner,Ie=!1;function Ne(t,e,n,r){e.child=t===null?pf(e,null,n,r):$n(e,t.child,n,r)}function du(t,e,n,r,i){n=n.render;var o=e.ref;return Gn(e,i),r=qa(t,e,n,r,o,i),n=Ya(),t!==null&&!Ie?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mt(t,e,i)):(ie&&n&&Oa(e),e.flags|=1,Ne(t,e,r,i),e.child)}function hu(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!il(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Gf(t,e,o,r,i)):(t=Ri(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ar,n(s,r)&&t.ref===e.ref)return Mt(t,e,i)}return e.flags|=1,t=Ht(o,r),t.ref=e.ref,t.return=e,e.child=t}function Gf(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ar(o,r)&&t.ref===e.ref)if(Ie=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ie=!0);else return e.lanes=t.lanes,Mt(t,e,i)}return Ys(t,e,n,r,i)}function Vf(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Ln,Ve),Ve|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ee(Ln,Ve),Ve|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ee(Ln,Ve),Ve|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ee(Ln,Ve),Ve|=r;return Ne(t,e,i,n),e.child}function Ff(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ys(t,e,n,r,i){var o=Be(n)?ln:Me.current;return o=Wn(e,o),Gn(e,i),n=qa(t,e,n,r,o,i),r=Ya(),t!==null&&!Ie?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mt(t,e,i)):(ie&&r&&Oa(e),e.flags|=1,Ne(t,e,n,i),e.child)}function pu(t,e,n,r,i){if(Be(n)){var o=!0;Wi(e)}else o=!1;if(Gn(e,i),e.stateNode===null)Ni(t,e),If(e,n,r),$s(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ze(c):(c=Be(n)?ln:Me.current,c=Wn(e,c));var u=n.getDerivedStateFromProps,p=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&lu(e,s,r,c),Rt=!1;var m=e.memoizedState;s.state=m,Qi(e,r,s,i),l=e.memoizedState,a!==r||m!==l||Ue.current||Rt?(typeof u=="function"&&(Hs(e,n,u,r),l=e.memoizedState),(a=Rt||au(e,n,a,r,m,l,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,gf(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:tt(e.type,a),s.props=c,p=e.pendingProps,m=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ze(l):(l=Be(n)?ln:Me.current,l=Wn(e,l));var x=n.getDerivedStateFromProps;(u=typeof x=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||m!==l)&&lu(e,s,r,l),Rt=!1,m=e.memoizedState,s.state=m,Qi(e,r,s,i);var k=e.memoizedState;a!==p||m!==k||Ue.current||Rt?(typeof x=="function"&&(Hs(e,n,x,r),k=e.memoizedState),(c=Rt||au(e,n,c,r,m,k,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,k,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,k,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),s.props=r,s.state=k,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Qs(t,e,n,r,o,i)}function Qs(t,e,n,r,i,o){Ff(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Jl(e,n,!1),Mt(t,e,o);r=e.stateNode,Gp.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=$n(e,t.child,null,o),e.child=$n(e,null,a,o)):Ne(t,e,a,o),e.memoizedState=r.state,i&&Jl(e,n,!0),e.child}function jf(t){var e=t.stateNode;e.pendingContext?Zl(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zl(t,e.context,!1),ja(t,e.containerInfo)}function mu(t,e,n,r,i){return Hn(),Ia(i),e.flags|=256,Ne(t,e,n,r),e.child}var Xs={dehydrated:null,treeContext:null,retryLane:0};function Ks(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wf(t,e,n){var r=e.pendingProps,i=se.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ee(se,i&1),t===null)return js(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=_o(s,r,0,null),t=an(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ks(n),e.memoizedState=Xs,t):Ka(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Vp(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ht(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ht(a,o):(o=an(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Ks(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Xs,r}return o=t.child,t=o.sibling,r=Ht(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ka(t,e){return e=_o({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hi(t,e,n,r){return r!==null&&Ia(r),$n(e,t.child,null,n),t=Ka(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vp(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Zo(Error(C(422))),hi(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=_o({mode:"visible",children:r.children},i,0,null),o=an(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&$n(e,t.child,null,s),e.child.memoizedState=Ks(s),e.memoizedState=Xs,o);if(!(e.mode&1))return hi(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(C(419)),r=Zo(o,r,void 0),hi(t,e,s,r)}if(a=(s&t.childLanes)!==0,Ie||a){if(r=we,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ct(t,i),ot(r,t,i,-1))}return rl(),r=Zo(Error(C(421))),hi(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=em.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Fe=Vt(i.nextSibling),je=e,ie=!0,rt=null,t!==null&&(Ye[Qe++]=wt,Ye[Qe++]=xt,Ye[Qe++]=un,wt=t.id,xt=t.overflow,un=e),e=Ka(e,r.children),e.flags|=4096,e)}function gu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ws(t.return,e,n)}function Jo(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Hf(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ne(t,e,r.children,n),r=se.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gu(t,n,e);else if(t.tag===19)gu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ee(se,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xi(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jo(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xi(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jo(e,!0,n,null,o);break;case"together":Jo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ni(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=Ht(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ht(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Fp(t,e,n){switch(e.tag){case 3:jf(e),Hn();break;case 5:yf(e);break;case 1:Be(e.type)&&Wi(e);break;case 4:ja(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ee(qi,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ee(se,se.current&1),e.flags|=128,null):n&e.child.childLanes?Wf(t,e,n):(ee(se,se.current&1),t=Mt(t,e,n),t!==null?t.sibling:null);ee(se,se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Hf(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(se,se.current),r)break;return null;case 22:case 23:return e.lanes=0,Vf(t,e,n)}return Mt(t,e,n)}var $f,Zs,qf,Yf;$f=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zs=function(){};qf=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,on(pt.current);var o=null;switch(n){case"input":i=ws(t,i),r=ws(t,r),o=[];break;case"select":i=le({},i,{value:void 0}),r=le({},r,{value:void 0}),o=[];break;case"textarea":i=Ss(t,i),r=Ss(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fi)}Ts(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cr.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cr.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&te("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};Yf=function(t,e,n,r){n!==r&&(e.flags|=4)};function lr(t,e){if(!ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Te(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jp(t,e,n){var r=e.pendingProps;switch(Da(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(e),null;case 1:return Be(e.type)&&ji(),Te(e),null;case 3:return r=e.stateNode,qn(),re(Ue),re(Me),Ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rt!==null&&(sa(rt),rt=null))),Zs(t,e),Te(e),null;case 5:Wa(e);var i=on(Ur.current);if(n=e.type,t!==null&&e.stateNode!=null)qf(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return Te(e),null}if(t=on(pt.current),fi(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[dt]=e,r[Dr]=o,t=(e.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(i=0;i<mr.length;i++)te(mr[i],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":Tl(r,o),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},te("invalid",r);break;case"textarea":Ml(r,o),te("invalid",r)}Ts(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ci(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ci(r.textContent,a,t),i=["children",""+a]):Cr.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&te("scroll",r)}switch(n){case"input":ni(r),Cl(r,o,!0);break;case"textarea":ni(r),Pl(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Fi)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[dt]=e,t[Dr]=r,$f(t,e,!1,!1),e.stateNode=t;e:{switch(s=Cs(n,r),n){case"dialog":te("cancel",t),te("close",t),i=r;break;case"iframe":case"object":case"embed":te("load",t),i=r;break;case"video":case"audio":for(i=0;i<mr.length;i++)te(mr[i],t);i=r;break;case"source":te("error",t),i=r;break;case"img":case"image":case"link":te("error",t),te("load",t),i=r;break;case"details":te("toggle",t),i=r;break;case"input":Tl(t,r),i=ws(t,r),te("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=le({},r,{value:void 0}),te("invalid",t);break;case"textarea":Ml(t,r),i=Ss(t,r),te("invalid",t);break;default:i=r}Ts(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Ec(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kc(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Mr(t,l):typeof l=="number"&&Mr(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Cr.hasOwnProperty(o)?l!=null&&o==="onScroll"&&te("scroll",t):l!=null&&xa(t,o,l,s))}switch(n){case"input":ni(t),Cl(t,r,!1);break;case"textarea":ni(t),Pl(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$t(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Dn(t,!!r.multiple,o,!1):r.defaultValue!=null&&Dn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Te(e),null;case 6:if(t&&e.stateNode!=null)Yf(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=on(Ur.current),on(pt.current),fi(e)){if(r=e.stateNode,n=e.memoizedProps,r[dt]=e,(o=r.nodeValue!==n)&&(t=je,t!==null))switch(t.tag){case 3:ci(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ci(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dt]=e,e.stateNode=r}return Te(e),null;case 13:if(re(se),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ie&&Fe!==null&&e.mode&1&&!(e.flags&128))df(),Hn(),e.flags|=98560,o=!1;else if(o=fi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(C(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(C(317));o[dt]=e}else Hn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Te(e),o=!1}else rt!==null&&(sa(rt),rt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||se.current&1?ge===0&&(ge=3):rl())),e.updateQueue!==null&&(e.flags|=4),Te(e),null);case 4:return qn(),Zs(t,e),t===null&&zr(e.stateNode.containerInfo),Te(e),null;case 10:return Ga(e.type._context),Te(e),null;case 17:return Be(e.type)&&ji(),Te(e),null;case 19:if(re(se),o=e.memoizedState,o===null)return Te(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)lr(o,!1);else{if(ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Xi(t),s!==null){for(e.flags|=128,lr(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ee(se,se.current&1|2),e.child}t=t.sibling}o.tail!==null&&fe()>Qn&&(e.flags|=128,r=!0,lr(o,!1),e.lanes=4194304)}else{if(!r)if(t=Xi(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),lr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ie)return Te(e),null}else 2*fe()-o.renderingStartTime>Qn&&n!==1073741824&&(e.flags|=128,r=!0,lr(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=fe(),e.sibling=null,n=se.current,ee(se,r?n&1|2:n&1),e):(Te(e),null);case 22:case 23:return nl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ve&1073741824&&(Te(e),e.subtreeFlags&6&&(e.flags|=8192)):Te(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function Wp(t,e){switch(Da(e),e.tag){case 1:return Be(e.type)&&ji(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qn(),re(Ue),re(Me),Ha(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wa(e),null;case 13:if(re(se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Hn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(se),null;case 4:return qn(),null;case 10:return Ga(e.type._context),null;case 22:case 23:return nl(),null;case 24:return null;default:return null}}var pi=!1,Ce=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,O=null;function bn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ce(t,e,r)}else n.current=null}function Js(t,e,n){try{n()}catch(r){ce(t,e,r)}}var yu=!1;function $p(t,e){if(Ds=Bi,t=Zc(),za(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,p=t,m=null;t:for(;;){for(var x;p!==n||i!==0&&p.nodeType!==3||(a=s+i),p!==o||r!==0&&p.nodeType!==3||(l=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(x=p.firstChild)!==null;)m=p,p=x;for(;;){if(p===t)break t;if(m===n&&++c===i&&(a=s),m===o&&++u===r&&(l=s),(x=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=x}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Is={focusedElem:t,selectionRange:n},Bi=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var w=k.memoizedProps,z=k.memoizedState,d=e.stateNode,h=d.getSnapshotBeforeUpdate(e.elementType===e.type?w:tt(e.type,w),z);d.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(S){ce(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return k=yu,yu=!1,k}function Sr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Js(e,n,o)}i=i.next}while(i!==r)}}function yo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ea(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Qf(t){var e=t.alternate;e!==null&&(t.alternate=null,Qf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dt],delete e[Dr],delete e[Gs],delete e[Pp],delete e[Np])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xf(t){return t.tag===5||t.tag===3||t.tag===4}function vu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ta(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fi));else if(r!==4&&(t=t.child,t!==null))for(ta(t,e,n),t=t.sibling;t!==null;)ta(t,e,n),t=t.sibling}function na(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(na(t,e,n),t=t.sibling;t!==null;)na(t,e,n),t=t.sibling}var xe=null,nt=!1;function bt(t,e,n){for(n=n.child;n!==null;)Kf(t,e,n),n=n.sibling}function Kf(t,e,n){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(lo,n)}catch{}switch(n.tag){case 5:Ce||bn(n,e);case 6:var r=xe,i=nt;xe=null,bt(t,e,n),xe=r,nt=i,xe!==null&&(nt?(t=xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xe.removeChild(n.stateNode));break;case 18:xe!==null&&(nt?(t=xe,n=n.stateNode,t.nodeType===8?$o(t.parentNode,n):t.nodeType===1&&$o(t,n),Lr(t)):$o(xe,n.stateNode));break;case 4:r=xe,i=nt,xe=n.stateNode.containerInfo,nt=!0,bt(t,e,n),xe=r,nt=i;break;case 0:case 11:case 14:case 15:if(!Ce&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Js(n,e,s),i=i.next}while(i!==r)}bt(t,e,n);break;case 1:if(!Ce&&(bn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ce(n,e,a)}bt(t,e,n);break;case 21:bt(t,e,n);break;case 22:n.mode&1?(Ce=(r=Ce)||n.memoizedState!==null,bt(t,e,n),Ce=r):bt(t,e,n);break;default:bt(t,e,n)}}function _u(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Hp),e.forEach(function(r){var i=tm.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function et(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:xe=a.stateNode,nt=!1;break e;case 3:xe=a.stateNode.containerInfo,nt=!0;break e;case 4:xe=a.stateNode.containerInfo,nt=!0;break e}a=a.return}if(xe===null)throw Error(C(160));Kf(o,s,i),xe=null,nt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ce(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Zf(e,t),e=e.sibling}function Zf(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(et(e,t),ut(t),r&4){try{Sr(3,t,t.return),yo(3,t)}catch(w){ce(t,t.return,w)}try{Sr(5,t,t.return)}catch(w){ce(t,t.return,w)}}break;case 1:et(e,t),ut(t),r&512&&n!==null&&bn(n,n.return);break;case 5:if(et(e,t),ut(t),r&512&&n!==null&&bn(n,n.return),t.flags&32){var i=t.stateNode;try{Mr(i,"")}catch(w){ce(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&_c(i,o),Cs(a,s);var c=Cs(a,o);for(s=0;s<l.length;s+=2){var u=l[s],p=l[s+1];u==="style"?Ec(i,p):u==="dangerouslySetInnerHTML"?kc(i,p):u==="children"?Mr(i,p):xa(i,u,p,c)}switch(a){case"input":xs(i,o);break;case"textarea":wc(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?Dn(i,!!o.multiple,x,!1):m!==!!o.multiple&&(o.defaultValue!=null?Dn(i,!!o.multiple,o.defaultValue,!0):Dn(i,!!o.multiple,o.multiple?[]:"",!1))}i[Dr]=o}catch(w){ce(t,t.return,w)}}break;case 6:if(et(e,t),ut(t),r&4){if(t.stateNode===null)throw Error(C(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){ce(t,t.return,w)}}break;case 3:if(et(e,t),ut(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lr(e.containerInfo)}catch(w){ce(t,t.return,w)}break;case 4:et(e,t),ut(t);break;case 13:et(e,t),ut(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(el=fe())),r&4&&_u(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ce=(c=Ce)||u,et(e,t),Ce=c):et(e,t),ut(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(O=t,u=t.child;u!==null;){for(p=O=u;O!==null;){switch(m=O,x=m.child,m.tag){case 0:case 11:case 14:case 15:Sr(4,m,m.return);break;case 1:bn(m,m.return);var k=m.stateNode;if(typeof k.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(w){ce(r,n,w)}}break;case 5:bn(m,m.return);break;case 22:if(m.memoizedState!==null){xu(p);continue}}x!==null?(x.return=m,O=x):xu(p)}u=u.sibling}e:for(u=null,p=t;;){if(p.tag===5){if(u===null){u=p;try{i=p.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=p.stateNode,l=p.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Sc("display",s))}catch(w){ce(t,t.return,w)}}}else if(p.tag===6){if(u===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(w){ce(t,t.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:et(e,t),ut(t),r&4&&_u(t);break;case 21:break;default:et(e,t),ut(t)}}function ut(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Xf(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Mr(i,""),r.flags&=-33);var o=vu(t);na(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=vu(t);ta(t,a,s);break;default:throw Error(C(161))}}catch(l){ce(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qp(t,e,n){O=t,Jf(t)}function Jf(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var i=O,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||pi;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ce;a=pi;var c=Ce;if(pi=s,(Ce=l)&&!c)for(O=i;O!==null;)s=O,l=s.child,s.tag===22&&s.memoizedState!==null?ku(i):l!==null?(l.return=s,O=l):ku(i);for(;o!==null;)O=o,Jf(o),o=o.sibling;O=i,pi=a,Ce=c}wu(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,O=o):wu(t)}}function wu(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ce||yo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ce)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:tt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&iu(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iu(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var p=u.dehydrated;p!==null&&Lr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ce||e.flags&512&&ea(e)}catch(m){ce(e,e.return,m)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function xu(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function ku(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yo(4,e)}catch(l){ce(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ce(e,i,l)}}var o=e.return;try{ea(e)}catch(l){ce(e,o,l)}break;case 5:var s=e.return;try{ea(e)}catch(l){ce(e,s,l)}}}catch(l){ce(e,e.return,l)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var Yp=Math.ceil,Ji=Pt.ReactCurrentDispatcher,Za=Pt.ReactCurrentOwner,Ke=Pt.ReactCurrentBatchConfig,Y=0,we=null,pe=null,ke=0,Ve=0,Ln=Qt(0),ge=0,Fr=null,fn=0,vo=0,Ja=0,Er=null,De=null,el=0,Qn=1/0,yt=null,eo=!1,ra=null,jt=null,mi=!1,It=null,to=0,Tr=0,ia=null,bi=-1,Li=0;function Re(){return Y&6?fe():bi!==-1?bi:bi=fe()}function Wt(t){return t.mode&1?Y&2&&ke!==0?ke&-ke:Lp.transition!==null?(Li===0&&(Li=Dc()),Li):(t=K,t!==0||(t=window.event,t=t===void 0?16:jc(t.type)),t):1}function ot(t,e,n,r){if(50<Tr)throw Tr=0,ia=null,Error(C(185));$r(t,n,r),(!(Y&2)||t!==we)&&(t===we&&(!(Y&2)&&(vo|=n),ge===4&&Ot(t,ke)),Ge(t,r),n===1&&Y===0&&!(e.mode&1)&&(Qn=fe()+500,po&&Xt()))}function Ge(t,e){var n=t.callbackNode;Lh(t,e);var r=Ui(t,t===we?ke:0);if(r===0)n!==null&&Ll(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ll(n),e===1)t.tag===0?bp(Su.bind(null,t)):uf(Su.bind(null,t)),Cp(function(){!(Y&6)&&Xt()}),n=null;else{switch(Ic(r)){case 1:n=Ca;break;case 4:n=zc;break;case 16:n=Ii;break;case 536870912:n=Oc;break;default:n=Ii}n=ad(n,ed.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ed(t,e){if(bi=-1,Li=0,Y&6)throw Error(C(327));var n=t.callbackNode;if(Vn()&&t.callbackNode!==n)return null;var r=Ui(t,t===we?ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=no(t,r);else{e=r;var i=Y;Y|=2;var o=nd();(we!==t||ke!==e)&&(yt=null,Qn=fe()+500,sn(t,e));do try{Kp();break}catch(a){td(t,a)}while(!0);Ba(),Ji.current=o,Y=i,pe!==null?e=0:(we=null,ke=0,e=ge)}if(e!==0){if(e===2&&(i=Ls(t),i!==0&&(r=i,e=oa(t,i))),e===1)throw n=Fr,sn(t,0),Ot(t,r),Ge(t,fe()),n;if(e===6)Ot(t,r);else{if(i=t.current.alternate,!(r&30)&&!Qp(i)&&(e=no(t,r),e===2&&(o=Ls(t),o!==0&&(r=o,e=oa(t,o))),e===1))throw n=Fr,sn(t,0),Ot(t,r),Ge(t,fe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:Zt(t,De,yt);break;case 3:if(Ot(t,r),(r&130023424)===r&&(e=el+500-fe(),10<e)){if(Ui(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Re(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Bs(Zt.bind(null,t,De,yt),e);break}Zt(t,De,yt);break;case 4:if(Ot(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-it(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yp(r/1960))-r,10<r){t.timeoutHandle=Bs(Zt.bind(null,t,De,yt),r);break}Zt(t,De,yt);break;case 5:Zt(t,De,yt);break;default:throw Error(C(329))}}}return Ge(t,fe()),t.callbackNode===n?ed.bind(null,t):null}function oa(t,e){var n=Er;return t.current.memoizedState.isDehydrated&&(sn(t,e).flags|=256),t=no(t,e),t!==2&&(e=De,De=n,e!==null&&sa(e)),t}function sa(t){De===null?De=t:De.push.apply(De,t)}function Qp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!st(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ot(t,e){for(e&=~Ja,e&=~vo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-it(e),r=1<<n;t[n]=-1,e&=~r}}function Su(t){if(Y&6)throw Error(C(327));Vn();var e=Ui(t,0);if(!(e&1))return Ge(t,fe()),null;var n=no(t,e);if(t.tag!==0&&n===2){var r=Ls(t);r!==0&&(e=r,n=oa(t,r))}if(n===1)throw n=Fr,sn(t,0),Ot(t,e),Ge(t,fe()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zt(t,De,yt),Ge(t,fe()),null}function tl(t,e){var n=Y;Y|=1;try{return t(e)}finally{Y=n,Y===0&&(Qn=fe()+500,po&&Xt())}}function dn(t){It!==null&&It.tag===0&&!(Y&6)&&Vn();var e=Y;Y|=1;var n=Ke.transition,r=K;try{if(Ke.transition=null,K=1,t)return t()}finally{K=r,Ke.transition=n,Y=e,!(Y&6)&&Xt()}}function nl(){Ve=Ln.current,re(Ln)}function sn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Tp(n)),pe!==null)for(n=pe.return;n!==null;){var r=n;switch(Da(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ji();break;case 3:qn(),re(Ue),re(Me),Ha();break;case 5:Wa(r);break;case 4:qn();break;case 13:re(se);break;case 19:re(se);break;case 10:Ga(r.type._context);break;case 22:case 23:nl()}n=n.return}if(we=t,pe=t=Ht(t.current,null),ke=Ve=e,ge=0,Fr=null,Ja=vo=fn=0,De=Er=null,rn!==null){for(e=0;e<rn.length;e++)if(n=rn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}rn=null}return t}function td(t,e){do{var n=pe;try{if(Ba(),Mi.current=Zi,Ki){for(var r=ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ki=!1}if(cn=0,ve=me=ae=null,kr=!1,Br=0,Za.current=null,n===null||n.return===null){ge=1,Fr=e,pe=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,p=u.tag;if(!(u.mode&1)&&(p===0||p===11||p===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=cu(s);if(x!==null){x.flags&=-257,fu(x,s,a,o,e),x.mode&1&&uu(o,c,e),e=x,l=c;var k=e.updateQueue;if(k===null){var w=new Set;w.add(l),e.updateQueue=w}else k.add(l);break e}else{if(!(e&1)){uu(o,c,e),rl();break e}l=Error(C(426))}}else if(ie&&a.mode&1){var z=cu(s);if(z!==null){!(z.flags&65536)&&(z.flags|=256),fu(z,s,a,o,e),Ia(Yn(l,a));break e}}o=l=Yn(l,a),ge!==4&&(ge=2),Er===null?Er=[o]:Er.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var d=Uf(o,l,e);ru(o,d);break e;case 1:a=l;var h=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(jt===null||!jt.has(g)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=Bf(o,a,e);ru(o,S);break e}}o=o.return}while(o!==null)}id(n)}catch(P){e=P,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(!0)}function nd(){var t=Ji.current;return Ji.current=Zi,t===null?Zi:t}function rl(){(ge===0||ge===3||ge===2)&&(ge=4),we===null||!(fn&268435455)&&!(vo&268435455)||Ot(we,ke)}function no(t,e){var n=Y;Y|=2;var r=nd();(we!==t||ke!==e)&&(yt=null,sn(t,e));do try{Xp();break}catch(i){td(t,i)}while(!0);if(Ba(),Y=n,Ji.current=r,pe!==null)throw Error(C(261));return we=null,ke=0,ge}function Xp(){for(;pe!==null;)rd(pe)}function Kp(){for(;pe!==null&&!kh();)rd(pe)}function rd(t){var e=sd(t.alternate,t,Ve);t.memoizedProps=t.pendingProps,e===null?id(t):pe=e,Za.current=null}function id(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Wp(n,e),n!==null){n.flags&=32767,pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ge=6,pe=null;return}}else if(n=jp(n,e,Ve),n!==null){pe=n;return}if(e=e.sibling,e!==null){pe=e;return}pe=e=t}while(e!==null);ge===0&&(ge=5)}function Zt(t,e,n){var r=K,i=Ke.transition;try{Ke.transition=null,K=1,Zp(t,e,n,r)}finally{Ke.transition=i,K=r}return null}function Zp(t,e,n,r){do Vn();while(It!==null);if(Y&6)throw Error(C(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Rh(t,o),t===we&&(pe=we=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mi||(mi=!0,ad(Ii,function(){return Vn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ke.transition,Ke.transition=null;var s=K;K=1;var a=Y;Y|=4,Za.current=null,$p(t,n),Zf(n,t),vp(Is),Bi=!!Ds,Is=Ds=null,t.current=n,qp(n),Sh(),Y=a,K=s,Ke.transition=o}else t.current=n;if(mi&&(mi=!1,It=t,to=i),o=t.pendingLanes,o===0&&(jt=null),Ch(n.stateNode),Ge(t,fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(eo)throw eo=!1,t=ra,ra=null,t;return to&1&&t.tag!==0&&Vn(),o=t.pendingLanes,o&1?t===ia?Tr++:(Tr=0,ia=t):Tr=0,Xt(),null}function Vn(){if(It!==null){var t=Ic(to),e=Ke.transition,n=K;try{if(Ke.transition=null,K=16>t?16:t,It===null)var r=!1;else{if(t=It,It=null,to=0,Y&6)throw Error(C(331));var i=Y;for(Y|=4,O=t.current;O!==null;){var o=O,s=o.child;if(O.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(O=c;O!==null;){var u=O;switch(u.tag){case 0:case 11:case 15:Sr(8,u,o)}var p=u.child;if(p!==null)p.return=u,O=p;else for(;O!==null;){u=O;var m=u.sibling,x=u.return;if(Qf(u),u===c){O=null;break}if(m!==null){m.return=x,O=m;break}O=x}}}var k=o.alternate;if(k!==null){var w=k.child;if(w!==null){k.child=null;do{var z=w.sibling;w.sibling=null,w=z}while(w!==null)}}O=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,O=s;else e:for(;O!==null;){if(o=O,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Sr(9,o,o.return)}var d=o.sibling;if(d!==null){d.return=o.return,O=d;break e}O=o.return}}var h=t.current;for(O=h;O!==null;){s=O;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,O=g;else e:for(s=h;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yo(9,a)}}catch(P){ce(a,a.return,P)}if(a===s){O=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,O=S;break e}O=a.return}}if(Y=i,Xt(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(lo,t)}catch{}r=!0}return r}finally{K=n,Ke.transition=e}}return!1}function Eu(t,e,n){e=Yn(n,e),e=Uf(t,e,1),t=Ft(t,e,1),e=Re(),t!==null&&($r(t,1,e),Ge(t,e))}function ce(t,e,n){if(t.tag===3)Eu(t,t,n);else for(;e!==null;){if(e.tag===3){Eu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jt===null||!jt.has(r))){t=Yn(n,t),t=Bf(e,t,1),e=Ft(e,t,1),t=Re(),e!==null&&($r(e,1,t),Ge(e,t));break}}e=e.return}}function Jp(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Re(),t.pingedLanes|=t.suspendedLanes&n,we===t&&(ke&n)===n&&(ge===4||ge===3&&(ke&130023424)===ke&&500>fe()-el?sn(t,0):Ja|=n),Ge(t,e)}function od(t,e){e===0&&(t.mode&1?(e=oi,oi<<=1,!(oi&130023424)&&(oi=4194304)):e=1);var n=Re();t=Ct(t,e),t!==null&&($r(t,e,n),Ge(t,n))}function em(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),od(t,n)}function tm(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),od(t,n)}var sd;sd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ue.current)Ie=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ie=!1,Fp(t,e,n);Ie=!!(t.flags&131072)}else Ie=!1,ie&&e.flags&1048576&&cf(e,$i,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ni(t,e),t=e.pendingProps;var i=Wn(e,Me.current);Gn(e,n),i=qa(null,e,r,t,i,n);var o=Ya();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Be(r)?(o=!0,Wi(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fa(e),i.updater=go,e.stateNode=i,i._reactInternals=e,$s(e,r,t,n),e=Qs(null,e,r,!0,o,n)):(e.tag=0,ie&&o&&Oa(e),Ne(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ni(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rm(r),t=tt(r,t),i){case 0:e=Ys(null,e,r,t,n);break e;case 1:e=pu(null,e,r,t,n);break e;case 11:e=du(null,e,r,t,n);break e;case 14:e=hu(null,e,r,tt(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tt(r,i),Ys(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tt(r,i),pu(t,e,r,i,n);case 3:e:{if(jf(e),t===null)throw Error(C(387));r=e.pendingProps,o=e.memoizedState,i=o.element,gf(t,e),Qi(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Yn(Error(C(423)),e),e=mu(t,e,r,n,i);break e}else if(r!==i){i=Yn(Error(C(424)),e),e=mu(t,e,r,n,i);break e}else for(Fe=Vt(e.stateNode.containerInfo.firstChild),je=e,ie=!0,rt=null,n=pf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hn(),r===i){e=Mt(t,e,n);break e}Ne(t,e,r,n)}e=e.child}return e;case 5:return yf(e),t===null&&js(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Us(r,i)?s=null:o!==null&&Us(r,o)&&(e.flags|=32),Ff(t,e),Ne(t,e,s,n),e.child;case 6:return t===null&&js(e),null;case 13:return Wf(t,e,n);case 4:return ja(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$n(e,null,r,n):Ne(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tt(r,i),du(t,e,r,i,n);case 7:return Ne(t,e,e.pendingProps,n),e.child;case 8:return Ne(t,e,e.pendingProps.children,n),e.child;case 12:return Ne(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ee(qi,r._currentValue),r._currentValue=s,o!==null)if(st(o.value,s)){if(o.children===i.children&&!Ue.current){e=Mt(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=St(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ws(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(C(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ws(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ne(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Gn(e,n),i=Ze(i),r=r(i),e.flags|=1,Ne(t,e,r,n),e.child;case 14:return r=e.type,i=tt(r,e.pendingProps),i=tt(r.type,i),hu(t,e,r,i,n);case 15:return Gf(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tt(r,i),Ni(t,e),e.tag=1,Be(r)?(t=!0,Wi(e)):t=!1,Gn(e,n),If(e,r,i),$s(e,r,i,n),Qs(null,e,r,!0,t,n);case 19:return Hf(t,e,n);case 22:return Vf(t,e,n)}throw Error(C(156,e.tag))};function ad(t,e){return Ac(t,e)}function nm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(t,e,n,r){return new nm(t,e,n,r)}function il(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rm(t){if(typeof t=="function")return il(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sa)return 11;if(t===Ea)return 14}return 2}function Ht(t,e){var n=t.alternate;return n===null?(n=Xe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ri(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")il(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case xn:return an(n.children,i,o,e);case ka:s=8,i|=8;break;case gs:return t=Xe(12,n,e,i|2),t.elementType=gs,t.lanes=o,t;case ys:return t=Xe(13,n,e,i),t.elementType=ys,t.lanes=o,t;case vs:return t=Xe(19,n,e,i),t.elementType=vs,t.lanes=o,t;case gc:return _o(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pc:s=10;break e;case mc:s=9;break e;case Sa:s=11;break e;case Ea:s=14;break e;case Lt:s=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=Xe(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function an(t,e,n,r){return t=Xe(7,t,r,e),t.lanes=n,t}function _o(t,e,n,r){return t=Xe(22,t,r,e),t.elementType=gc,t.lanes=n,t.stateNode={isHidden:!1},t}function es(t,e,n){return t=Xe(6,t,null,e),t.lanes=n,t}function ts(t,e,n){return e=Xe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function im(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oo(0),this.expirationTimes=Oo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ol(t,e,n,r,i,o,s,a,l){return t=new im(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Xe(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(o),t}function om(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ld(t){if(!t)return qt;t=t._reactInternals;e:{if(pn(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(Be(n))return lf(t,n,e)}return e}function ud(t,e,n,r,i,o,s,a,l){return t=ol(n,r,!0,t,i,o,s,a,l),t.context=ld(null),n=t.current,r=Re(),i=Wt(n),o=St(r,i),o.callback=e??null,Ft(n,o,i),t.current.lanes=i,$r(t,i,r),Ge(t,r),t}function wo(t,e,n,r){var i=e.current,o=Re(),s=Wt(i);return n=ld(n),e.context===null?e.context=n:e.pendingContext=n,e=St(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ft(i,e,s),t!==null&&(ot(t,i,s,o),Ci(t,i,s)),s}function ro(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sl(t,e){Tu(t,e),(t=t.alternate)&&Tu(t,e)}function sm(){return null}var cd=typeof reportError=="function"?reportError:function(t){console.error(t)};function al(t){this._internalRoot=t}xo.prototype.render=al.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));wo(t,e,null,null)};xo.prototype.unmount=al.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;dn(function(){wo(null,t,null,null)}),e[Tt]=null}};function xo(t){this._internalRoot=t}xo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zt.length&&e!==0&&e<zt[n].priority;n++);zt.splice(n,0,t),n===0&&Fc(t)}};function ll(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ko(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cu(){}function am(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=ro(s);o.call(c)}}var s=ud(e,r,t,0,null,!1,!1,"",Cu);return t._reactRootContainer=s,t[Tt]=s.current,zr(t.nodeType===8?t.parentNode:t),dn(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=ro(l);a.call(c)}}var l=ol(t,0,!1,null,null,!1,!1,"",Cu);return t._reactRootContainer=l,t[Tt]=l.current,zr(t.nodeType===8?t.parentNode:t),dn(function(){wo(e,l,n,r)}),l}function So(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=ro(s);a.call(l)}}wo(e,s,t,i)}else s=am(n,e,t,i,r);return ro(s)}Uc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pr(e.pendingLanes);n!==0&&(Ma(e,n|1),Ge(e,fe()),!(Y&6)&&(Qn=fe()+500,Xt()))}break;case 13:dn(function(){var r=Ct(t,1);if(r!==null){var i=Re();ot(r,t,1,i)}}),sl(t,1)}};Pa=function(t){if(t.tag===13){var e=Ct(t,134217728);if(e!==null){var n=Re();ot(e,t,134217728,n)}sl(t,134217728)}};Bc=function(t){if(t.tag===13){var e=Wt(t),n=Ct(t,e);if(n!==null){var r=Re();ot(n,t,e,r)}sl(t,e)}};Gc=function(){return K};Vc=function(t,e){var n=K;try{return K=t,e()}finally{K=n}};Ps=function(t,e,n){switch(e){case"input":if(xs(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ho(r);if(!i)throw Error(C(90));vc(r),xs(r,i)}}}break;case"textarea":wc(t,n);break;case"select":e=n.value,e!=null&&Dn(t,!!n.multiple,e,!1)}};Mc=tl;Pc=dn;var lm={usingClientEntryPoint:!1,Events:[Yr,Tn,ho,Tc,Cc,tl]},ur={findFiberByHostInstance:nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},um={bundleType:ur.bundleType,version:ur.version,rendererPackageName:ur.rendererPackageName,rendererConfig:ur.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lc(t),t===null?null:t.stateNode},findFiberByHostInstance:ur.findFiberByHostInstance||sm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gi.isDisabled&&gi.supportsFiber)try{lo=gi.inject(um),ht=gi}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lm;He.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ll(e))throw Error(C(200));return om(t,e,null,n)};He.createRoot=function(t,e){if(!ll(t))throw Error(C(299));var n=!1,r="",i=cd;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ol(t,1,!1,null,null,n,!1,r,i),t[Tt]=e.current,zr(t.nodeType===8?t.parentNode:t),new al(e)};He.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=Lc(e),t=t===null?null:t.stateNode,t};He.flushSync=function(t){return dn(t)};He.hydrate=function(t,e,n){if(!ko(e))throw Error(C(200));return So(null,t,e,!0,n)};He.hydrateRoot=function(t,e,n){if(!ll(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=cd;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=ud(e,null,t,1,n??null,i,!1,o,s),t[Tt]=e.current,zr(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xo(e)};He.render=function(t,e,n){if(!ko(e))throw Error(C(200));return So(null,t,e,!1,n)};He.unmountComponentAtNode=function(t){if(!ko(t))throw Error(C(40));return t._reactRootContainer?(dn(function(){So(null,null,t,!1,function(){t._reactRootContainer=null,t[Tt]=null})}),!0):!1};He.unstable_batchedUpdates=tl;He.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ko(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return So(t,e,n,!1,r)};He.version="18.3.1-next-f1338f8080-20240426";function fd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fd)}catch(t){console.error(t)}}fd(),cc.exports=He;var cm=cc.exports,Mu=cm;ps.createRoot=Mu.createRoot,ps.hydrateRoot=Mu.hydrateRoot;const dd=`
struct PointLight {
    @location(0) position: vec3f,
    @location(1) radius: f32,
    @location(2) color: vec4f,
    @location(3) brightness: f32,
}

struct Vertex {
    @location(0) position: vec3f,
    // @location(1) uv: vec2f,
    // @location(1) normal: vec3f,
    @location(2) color: vec4f,
    @location(3) transformationIndex: f32,
    @location(4) ignoreLighting: f32,
    // @location(3) textureId: f32,
    // @location(2) offset: vec3f,
    // @location(3) scale: vec3f,
    // @location(4) rotation: vec3f
}

struct VertexShaderOut {
    @builtin(position) position: vec4f,
    @location(0) color: vec4f,
    @location(1) originalPosition: vec3f,
    @location(2) texcoord: vec2f,
    @location(3) worldPosition: vec3f,
    @interpolate(flat) @location(4) ignoreLighting: u32,
    // @location(5) shadowMapPosition: vec4f,
    // @interpolate(flat) @location(4) textureId: u32,
    // @location(1) scale: vec3f
}

struct FragmentShaderOut {
    @location(0) canvasColor: vec4f,
    @location(1) brightColor: vec4f,
}

// @group(0) @binding(0) var<uniform> projectionMatrix: mat4x4f;
@group(0) @binding(1) var<storage> transformationMatrixs: array<mat4x4f>;
@group(0) @binding(2) var testTexture: texture_2d<f32>;
@group(0) @binding(3) var ourSampler: sampler;
@group(0) @binding(4) var<uniform> lightDirection: vec3f;
@group(0) @binding(5) var<storage> worldTransformationMatrixs: array<mat4x4f>;
@group(0) @binding(6) var<storage> pointLights: array<PointLight>;
@group(0) @binding(7) var<uniform> numPointLights: u32;
@group(0) @binding(8) var<storage> uvs: array<vec2f>;
@group(0) @binding(9) var<storage> directionalLightMatrices: array<mat4x4f>;
@group(0) @binding(10) var shadowMapTexture: texture_depth_2d_array;
@group(0) @binding(11) var shadowMapSampler: sampler;
@group(0) @binding(12) var<storage> cascadePlaneDistances: array<f32>;
@group(0) @binding(13) var<uniform> cameraView: mat4x4f;
@group(0) @binding(14) var<uniform> cameraFarPlane: f32;
@group(0) @binding(15) var<uniform> shadowsEnabled: u32;

@group(1) @binding(0) var selectedTexture: texture_2d<f32>;
@group(1) @binding(1) var<uniform> hasTexture: u32;

@vertex
fn vertexMain(vertex: Vertex, @builtin(instance_index) instanceIndex: u32, @builtin(vertex_index) vertexIndex: u32) -> VertexShaderOut {
    let transformationIndex = u32(vertex.transformationIndex);
    let transformationMatrix = transformationMatrixs[transformationIndex];
    let transformedPosition = transformationMatrix * vec4f(vertex.position, 1);

    // let shadowMapPosition = directionalLightMatrix * worldTransformationMatrixs[transformationIndex] * vec4f(vertex.position, 1);

    var output: VertexShaderOut;
    output.position = transformedPosition;
    output.color = vertex.color;
    output.originalPosition = vertex.position;
    // output.texcoord = vertex.uv;
    output.texcoord = (vec2f(vertex.position.xy) + 0.5) * 1;
    output.worldPosition = (worldTransformationMatrixs[transformationIndex] * vec4f(vertex.position, 1)).xyz;
    output.ignoreLighting = u32(vertex.ignoreLighting);
    // output.shadowMapPosition = shadowMapPosition;
    // output.textureId = u32(vertex.textureId);
    // output.scale = vertex.scale;

    return output;
}

@fragment
fn fragmentMain(data: VertexShaderOut) -> FragmentShaderOut {
    // let textureId = data.textureId;

    let textureColor = textureSample(selectedTexture, ourSampler, data.texcoord) * data.color;
    let lightAmbient = select(vec4f(0.5, 0.5, 0.5, 1), vec4f(1, 1, 1, 1), data.ignoreLighting == 1);
    // let combinedPosition = data.position.x + data.position.y + data.position.z;
    // let zColor = vec4f(data.originalPosition.z / 3, 0, 0, 1);
    // let textureColor = textureSample(testTexture, ourSampler, data.texcoord);
    // let dataColor = vec4f(min(1, data.worldPosition.x), min(1, data.worldPosition.y), min(1, data.worldPosition.z), 1);

    let baseColor = select(data.color, textureColor, hasTexture == 1);
    if (baseColor.a < 0.01) {
        discard;
    }
    let dx = dpdx(data.worldPosition);
    let dy = dpdy(data.worldPosition);
    let faceNormal = normalize(cross(dx, dy));
    let directionalLightingColorAllowed = max(0.0, -dot(faceNormal, lightDirection));
    
    var pointLightingColor = baseColor * lightAmbient;
    var test: f32;

    if (data.ignoreLighting == 0) {
        for (var i: u32 = 0; i < numPointLights; i++) {
            let pointLightPos = pointLights[i].position;
            let pointLightRadius = pointLights[i].radius;
            let pointLightColor = pointLights[i].color * pointLights[i].brightness;
            
            let lightWorldPos = data.worldPosition - pointLightPos;
            let distanceToLightNorm = sqrt(pow(lightWorldPos.x, 2) + pow(lightWorldPos.y, 2) + pow(lightWorldPos.z, 2)) / pointLightRadius;
            let lightFactor = 1 - distanceToLightNorm;
            test += pointLights[i].brightness;

            if (distanceToLightNorm > 1) {
                continue;
            };

            pointLightingColor *= vec4f(((pointLightColor * lightFactor) + 1).xyz, 1);
        };
    }

    // let finalColor = dataColor * vec4f(min(lightAmbient + directionalLightingColorAllowed, vec4f(1)).rgb, dataColor.a);
    
    // return vec4f(f32(numPointLights) / 5, 0, 0, 1);
    // return vec4f(test / 2, 0, 0, 1);

    // select cascade layer
    // let depthTextureSize = textureDimensions(depthTextureToRender);
    let cascadeCount = arrayLength(&cascadePlaneDistances);
    let fragPosViewSpace = cameraView * vec4(data.worldPosition, 1.0);
    let depthValue = abs(fragPosViewSpace.z);
        
    var layer: u32 = 9999;
    for (var i: u32 = 0; i < cascadeCount; i++) {
        if (depthValue < cascadePlaneDistances[i]) {
            layer = i;
            break;
        }
    }
    if (layer == 9999) {
        layer = cascadeCount;
    }
    
    let shadowMapSize = textureDimensions(shadowMapTexture).x;
    let oneOverSize = 1.0 / f32(shadowMapSize);
    let depthBias = 2.0 * oneOverSize;
    let normalOffset = faceNormal * 1;
    let fragPosLightSpace = directionalLightMatrices[layer] * vec4(data.worldPosition.xyz + (faceNormal * 0.5), 1.0);
    // var shadowMapUV = fragPosLightSpace.xyz / fragPosLightSpace.w;
    // shadowMapUV = shadowMapUV * 0.5 + 0.5;
    let shadowMapUV = vec4(fragPosLightSpace.xy*vec2(0.5, -0.5) + vec2(0.5, 0.5), fragPosLightSpace.z, 1.0);

    let currentDepth = shadowMapUV.z;
    var shadow = 0.0;
    // if (currentDepth <= 1.0) {
        var bias = max(0.05 * (1.0 - dot(faceNormal, lightDirection)), 0.005);
        if (layer == cascadeCount) {
            bias *= 1 / (cameraFarPlane * 0.5);
        } else {
            bias *= 1 / (cascadePlaneDistances[layer] * 0.5);
        }

        // PCF
        // var shadow = 0.0;
        let texelSize = 1.0 / vec2f(textureDimensions(shadowMapTexture));
        for(var x: i32 = -1; x <= 1; x++) {
            for(var y: i32 = -1; y <= 1; y++) {
                let offset = vec2(f32(x) * oneOverSize, f32(y) * oneOverSize);
                // let pcfDepth = textureSample(shadowMapTexture, shadowMapSampler, shadowMapUV.xy + vec2f(f32(x), f32(y)) * texelSize, layer);
                let pcfDepth = textureSample(shadowMapTexture, shadowMapSampler, shadowMapUV.xy + offset, layer);
                shadow += select(1.0, 0.0, currentDepth - depthBias > pcfDepth);
                // shadow += select(1.0, 0.0, currentDepth - bias > pcfDepth);
            }
        }
        shadow /= 9.0;
            
        // keep the shadow at 0.0 when outside the far_plane region of the light's frustum.
        if (currentDepth > 1.0) {
            shadow = 0.0;
        }
    // }

    shadow = select(shadow, 1, shadowsEnabled == 0 || data.ignoreLighting == 1);
    let shadowColor = max(0.1, shadow);

    // let worldTransformation = worldTransformationMatrixs[u32(vertex.transformationIndex)]; TEMPORARILY HERE for comparison with ShadowMap.wgsl
    // let transformedPosition = directionalLightMatrix * worldTransformation * vec4f(vertex.position, 1);

    // let shadowMapUV = (data.shadowMapPosition.xyz / data.shadowMapPosition.w) * 0.5 + 0.5; // Can try modifying this incase not working

    // let shadowDepth = textureSample(shadowMapTexture, shadowMapSampler, shadowMapUV.xy, layer);
    // let shadowColor = select(0.1, 1, shadowMapUV.z > shadowDepth);
    // var cascadeColor: vec4f;
    // if (layer == 0) {
    //     cascadeColor = vec4f(1, 0, 0, 1);
    // } else if (layer == 1) {
    //     cascadeColor = vec4f(0, 1, 0, 1);
    // } else if (layer == 2) {
    //     cascadeColor = vec4f(0, 0, 1, 1);
    // } else if (layer == 3) {
    //     cascadeColor = vec4f(1, 1, 0, 1);
    // } else if (layer == 4) {
    //     cascadeColor = vec4f(1, 0, 1, 1);
    // } else if (layer == 5) {
    //     cascadeColor = vec4f(1, 1, 1, 1);
    // }

    // let finalColor = cascadeColor;
    let finalColor = pointLightingColor * vec4f(shadowColor, shadowColor, shadowColor, 1);
    // let finalColor = pointLightingColor;
    // let finalColor = vec4f(shadowMapUV.xy, 0, 1);
    // let finalColor = vec4f(shadowColor, shadowColor, shadowColor, 1);

    var output: FragmentShaderOut;
    output.canvasColor = finalColor;

    let brightness = dot(finalColor.rgb, vec3(0.2126, 0.7152, 0.0722));
    if(brightness > 0.95) {
        output.brightColor = vec4f(finalColor.rgb, 1.0);
    } else {
        output.brightColor = vec4f(0.0, 0.0, 0.0, 1.0);
    }

    return output;
}
`,fm=`
@group(0) @binding(0) var mySampler: sampler;
@group(0) @binding(1) var textureToBlur: texture_2d<f32>;
@group(0) @binding(2) var<uniform> horizontal: u32;

const weights = array<f32, 5>(0.227027, 0.1945946, 0.1216216, 0.054054, 0.016216);

@vertex
fn vertexMain(@builtin(vertex_index) vertexIndex: u32) -> @builtin(position) vec4f {
    let vertices = array(
        // Left Triangle
        vec2f(-1, -1),
        vec2f(-1, 1),
        vec2f(1, 1),
        // Right Triangle
        vec2f(-1, -1),
        vec2f(1, 1),
        vec2f(1, -1),
    );

    return vec4f(vertices[vertexIndex], 1.0, 1.0);
}

@fragment
fn fragmentMain(@builtin(position) position: vec4f) -> @location(0) vec4f {
    let textureSize = textureDimensions(textureToBlur);
    let uv = vec2f(position.x / f32(textureSize.x), position.y / f32(textureSize.y));

    let tex_offset = 1.0 / vec2f(textureSize); // gets size of single texel
    var result = textureSample(textureToBlur, mySampler, uv).rgb * weights[0]; // current fragment's contribution

    var test = 0.0;

    if (horizontal == 1) {
        test += 0.5;
        for (var i: u32 = 1; i < 5; i++) {
            result += textureSample(textureToBlur, mySampler, uv + vec2f(tex_offset.x * f32(i), 0.0)).rgb * weights[i];
            result += textureSample(textureToBlur, mySampler, uv - vec2f(tex_offset.x * f32(i), 0.0)).rgb * weights[i];
        }
    } else {
        // test += 0.5;
        for (var i: u32 = 1; i < 5; i++) {
            result += textureSample(textureToBlur, mySampler, uv + vec2f(0.0, tex_offset.y * f32(i))).rgb * weights[i];
            result += textureSample(textureToBlur, mySampler, uv - vec2f(0.0, tex_offset.y * f32(i))).rgb * weights[i];
        }
    }

    // return vec4f(test, 0, 0, 1);
    return vec4(result, 1.0);
}
`,dm=`
// @group(0) @binding(0) var<uniform> directionalLightMatrix: mat4x4f;
@group(0) @binding(0) var<storage> worldTransformationMatrixs: array<mat4x4f>;

@group(1) @binding(0) var<uniform> directionalLightMatrix: mat4x4f;

struct Vertex {
    @location(0) position: vec3f,
    @location(1) transformationIndex: f32,
}

@vertex
fn vertexMain(vertex: Vertex) -> @builtin(position) vec4f {
    let worldTransformation = worldTransformationMatrixs[u32(vertex.transformationIndex)];

    let worldPosition = (worldTransformationMatrixs[u32(vertex.transformationIndex)] * vec4f(vertex.position, 1)).xyz;
    let fragPosLightSpace = directionalLightMatrix * vec4(worldPosition.xyz, 1.0);
    // let transformedPosition = directionalLightMatrix * worldTransformation * vec4f(vertex.position, 1);
    // return vec4f(0.5, 0.5, 0.5, 1);
    return fragPosLightSpace;
}

@fragment
fn fragmentMain(@builtin(position) position: vec4f) -> @location(0) vec4f {
    return vec4f(1, 0, 0, 1);
    // return vec4f(position.z, position.z, position.z, 1);
}
`,hm=`
@group(0) @binding(0) var mySampler: sampler;
@group(0) @binding(1) var renderGeometryTexture: texture_2d<f32>;
@group(0) @binding(2) var bloomTexture: texture_2d<f32>;
@group(0) @binding(3) var depthTextureToRender: texture_depth_2d_array;

@vertex
fn vertexMain(@builtin(vertex_index) vertexIndex: u32) -> @builtin(position) vec4f {
    let vertices = array(
        // Left Triangle
        vec2f(-1, -1),
        vec2f(-1, 1),
        vec2f(1, 1),
        // Right Triangle
        vec2f(-1, -1),
        vec2f(1, 1),
        vec2f(1, -1),
    );

    return vec4f(vertices[vertexIndex], 1.0, 1.0);
}

@fragment
fn fragmentMain(@builtin(position) position: vec4f) -> @location(0) vec4f {
    let textureSize = textureDimensions(renderGeometryTexture);
    let uv = vec2f(position.x / f32(textureSize.x), position.y / f32(textureSize.y));

    let renderGeometryColor = textureSample(renderGeometryTexture, mySampler, uv);
    let bloomTextureColor = textureSample(bloomTexture, mySampler, uv);

    let finalColor = renderGeometryColor + bloomTextureColor;

    return finalColor;

    // let depthTextureSize = textureDimensions(depthTextureToRender);
    // let uv = vec2f(position.x / f32(depthTextureSize.x) * 3.413, position.y / f32(depthTextureSize.y) * 3.413);

    // let depth = textureSample(depthTextureToRender, mySampler, uv, 0);

    // return vec4f(depth, depth, depth, 1);
}
`;class I{constructor(e){lt(this,"vector");this.vector=e}GetMagnitude(){return Math.sqrt(Math.pow(this.vector[0],2)+Math.pow(this.vector[1],2)+Math.pow(this.vector[2],2))}GetUnitVector(){const e=this.vector,n=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return n>1e-5?new I([e[0]/n,e[1]/n,e[2]/n]):new I([0,0,0])}GetLookVector(){const e=this.vector,n=-Math.sin(e[1]),r=Math.sin(e[0])*Math.cos(e[1]),i=-(Math.cos(e[0])*Math.cos(e[1]));return new I([n,r,i])}GetRightVector(){this.vector;const e=this.GetLookVector();e.vector[0]=Math.abs(e.vector[0])<1e-4?1e-4:e.vector[0],e.vector[2]=Math.abs(e.vector[2])<1e-4?1e-4:e.vector[2];const n=new I([0,1,0]);console.log(e.vector);const r=e.CrossProduct(n);return console.log(r.vector),r}GetInverse(){return new I([-this.vector[0],-this.vector[1],-this.vector[2]])}MultiplyScalar(e){const n=this.vector;return new I([n[0]*e,n[1]*e,n[2]*e])}DivideScalar(e){const n=this.vector;return new I([n[0]/e,n[1]/e,n[2]/e])}AddVector(e){return new I([this.vector[0]+e.vector[0],this.vector[1]+e.vector[1],this.vector[2]+e.vector[2]])}SubtractVector(e){return new I([this.vector[0]-e.vector[0],this.vector[1]-e.vector[1],this.vector[2]-e.vector[2]])}MultiplyVector(e){return new I([this.vector[0]*e.vector[0],this.vector[1]*e.vector[1],this.vector[2]*e.vector[2]])}DotProduct(e){return this.vector[0]*e.vector[0]+this.vector[1]*e.vector[1]+this.vector[2]*e.vector[2]}CrossProduct(e){const n=this.vector[1]*e.vector[2]-this.vector[2]*e.vector[1],r=this.vector[2]*e.vector[0]-this.vector[0]*e.vector[2],i=this.vector[0]*e.vector[1]-this.vector[1]*e.vector[0];return new I([n,r,i])}}class G{constructor(e){lt(this,"matrix");this.matrix=e}lookAt(e,n,r=new I([0,1,0])){const i=n.SubtractVector(e).GetUnitVector(),o=r.CrossProduct(i).GetUnitVector(),s=i.CrossProduct(o).GetUnitVector();return new G([o.vector[0],o.vector[1],o.vector[2],0,s.vector[0],s.vector[1],s.vector[2],0,i.vector[0],i.vector[1],i.vector[2],0,e.vector[0],e.vector[1],e.vector[2],1])}RotationMatrixToEulerAngles(){const e=this.matrix;let n=0,r=0,i=0;return e[8]<1?e[8]>-1?(r=Math.asin(e[8]),n=Math.atan2(-e[9],e[10]),i=Math.atan2(-e[4],e[0])):(r=-Math.PI/2,n-Math.atan2(e[1],e[5]),i=0):(r=Math.PI/2,n=Math.atan2(e[1],e[5]),i=0),[n,r,i]}RotationMatrixToLookVector(){return[-this.matrix[8],-this.matrix[9],-this.matrix[10]]}RotationMatrixToUpVector(){return[this.matrix[4],this.matrix[5],this.matrix[6]]}RotationMatrixToRightVector(){return[this.matrix[0],this.matrix[1],this.matrix[2]]}Multiply(e){const n=this.matrix,r=e.matrix,i=r[0*4+0],o=r[0*4+1],s=r[0*4+2],a=r[0*4+3],l=r[1*4+0],c=r[1*4+1],u=r[1*4+2],p=r[1*4+3],m=r[2*4+0],x=r[2*4+1],k=r[2*4+2],w=r[2*4+3],z=r[3*4+0],d=r[3*4+1],h=r[3*4+2],g=r[3*4+3],S=n[0*4+0],P=n[0*4+1],b=n[0*4+2],R=n[0*4+3],A=n[1*4+0],j=n[1*4+1],M=n[1*4+2],U=n[1*4+3],W=n[2*4+0],F=n[2*4+1],X=n[2*4+2],J=n[2*4+3],Z=n[3*4+0],Q=n[3*4+1],N=n[3*4+2],D=n[3*4+3];return new G([i*S+o*A+s*W+a*Z,i*P+o*j+s*F+a*Q,i*b+o*M+s*X+a*N,i*R+o*U+s*J+a*D,l*S+c*A+u*W+p*Z,l*P+c*j+u*F+p*Q,l*b+c*M+u*X+p*N,l*R+c*U+u*J+p*D,m*S+x*A+k*W+w*Z,m*P+x*j+k*F+w*Q,m*b+x*M+k*X+w*N,m*R+x*U+k*J+w*D,z*S+d*A+h*W+g*Z,z*P+d*j+h*F+g*Q,z*b+d*M+h*X+g*N,z*R+d*U+h*J+g*D])}TranslationMatrix(e,n,r){return new G([1,0,0,0,0,1,0,0,0,0,1,0,e,n,r,1])}RotationZMatrix(e){const n=Math.cos(e),r=Math.sin(e);return new G([n,r,0,0,-r,n,0,0,0,0,1,0,0,0,0,1])}RotationYMatrix(e){const n=Math.cos(e),r=Math.sin(e);return new G([n,0,-r,0,0,1,0,0,r,0,n,0,0,0,0,1])}RotationXMatrix(e){const n=Math.cos(e),r=Math.sin(e);return new G([1,0,0,0,0,n,r,0,0,-r,n,0,0,0,0,1])}ScalingMatrix(e,n,r){return new G([e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1])}IdentityMatrix(){return new G([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}OrthographicMatrix(e,n,r,i,o,s){return new G([2/(n-e),0,0,0,0,2/(i-r),0,0,0,0,1/(o-s),0,(n+e)/(e-n),(i+r)/(r-i),o/(o-s),1])}PerspectiveMatrix(e,n,r,i,o){const s=e*Math.PI/180,a=Math.tan(Math.PI*.5-.5*s),l=1/(i-o),c=n/r;return new G([a/c,0,0,0,0,a,0,0,0,0,o*l,-1,0,0,i*o*l,0])}InverseSigns(){const e=this.matrix;return new G([-e[0],-e[1],-e[2],-e[3],-e[4],-e[5],-e[6],-e[7],-e[8],-e[9],-e[10],-e[11],-e[12],-e[13],-e[14],-e[15]])}Inverse(){const e=this.matrix,n=e[0*4+0],r=e[0*4+1],i=e[0*4+2],o=e[0*4+3],s=e[1*4+0],a=e[1*4+1],l=e[1*4+2],c=e[1*4+3],u=e[2*4+0],p=e[2*4+1],m=e[2*4+2],x=e[2*4+3],k=e[3*4+0],w=e[3*4+1],z=e[3*4+2],d=e[3*4+3],h=m*d,g=z*x,S=l*d,P=z*c,b=l*x,R=m*c,A=i*d,j=z*o,M=i*x,U=m*o,W=i*c,F=l*o,X=u*w,J=k*p,Z=s*w,Q=k*a,N=s*p,D=u*a,L=n*w,B=k*r,V=n*p,de=u*r,ue=n*a,Pe=s*r,qe=h*a+P*p+b*w-(g*a+S*p+R*w),mt=g*r+A*p+U*w-(h*r+j*p+M*w),Zr=S*r+j*a+W*w-(P*r+A*a+F*w),Jr=R*r+M*a+F*p-(b*r+U*a+W*p),ye=1/(n*qe+s*mt+u*Zr+k*Jr);return new G([ye*qe,ye*mt,ye*Zr,ye*Jr,ye*(g*s+S*u+R*k-(h*s+P*u+b*k)),ye*(h*n+j*u+M*k-(g*n+A*u+U*k)),ye*(P*n+A*s+F*k-(S*n+j*s+W*k)),ye*(b*n+U*s+W*u-(R*n+M*s+F*u)),ye*(X*c+Q*x+N*d-(J*c+Z*x+D*d)),ye*(J*o+L*x+de*d-(X*o+B*x+V*d)),ye*(Z*o+B*c+ue*d-(Q*o+L*c+Pe*d)),ye*(D*o+V*c+Pe*x-(N*o+de*c+ue*x)),ye*(Z*m+D*z+J*l-(N*z+X*l+Q*m)),ye*(V*z+X*i+B*m-(L*m+de*z+J*i)),ye*(L*l+Pe*z+Q*i-(ue*z+Z*i+B*l)),ye*(ue*m+N*i+de*l-(V*l+Pe*m+D*i))])}}const cr=7500,pm=1,E={Width:500,Height:500,FOV:90,Gamemode:"Edit",NumTextures:6,EditMoveSpeed:1.5,IngameMoveSpeed:1,MoveCooldown:5,LightDirection:[1,0,0],CameraFarPlane:cr,CameraNearPlane:pm,ShadowCascadeLevels:[cr/10,cr/7.5,cr/5,cr/1.5],ShadowsEnabled:!1,RotationVisuals:!0,RayVisuals:!0},Le=[0,0,0],be=[0,0,0];function Pu(t){const e=E.Width/E.Height,n=new I([(E.Width-t[0])/E.Width-.5,t[1]/E.Height-.5,1]),r=.5*(E.FOV*Math.PI/180),i=2*Math.tan(r),o=n.MultiplyScalar(i);o.vector[0]*=e,o.vector[2]=1;const s=new G([]).RotationXMatrix(be[0]),a=new G([]).RotationYMatrix(be[1]),l=new G([]).RotationZMatrix(be[2]),c=a.Multiply(s).Multiply(l),u=new G([]).TranslationMatrix(o.vector[0],o.vector[1],o.vector[2]),p=c.Multiply(u);return new I([p.matrix[12],p.matrix[13],p.matrix[14]]).GetUnitVector().GetInverse()}function Xr(t){const e=t.Vertices,n=new G([]).TranslationMatrix(t.Data.Offset[0],t.Data.Offset[1],t.Data.Offset[2]),r=new G([]).ScalingMatrix(t.Data.Scale[0],t.Data.Scale[1],t.Data.Scale[2]),i=new G([]).RotationZMatrix(t.Data.Rotation[2]),o=new G([]).RotationYMatrix(t.Data.Rotation[1]),s=new G([]).RotationXMatrix(t.Data.Rotation[0]),a=n.Multiply(s).Multiply(o).Multiply(i).Multiply(r),l=[];return e.forEach((c,u)=>{const p=u%3;p===0&&l.push([0,0,0]),l[Math.floor(u/3)][p]=c}),l.map((c,u)=>{const p=new G([]).TranslationMatrix(c[0],c[1],c[2]),m=a.Multiply(p);return[m.matrix[12],m.matrix[13],m.matrix[14]]})}function hd(t,e){return e===void 0&&(e=Xr(t)),new I(ul(e,"Center"))}function pd(t,e){return e===void 0&&(e=Xr(t)),new I(ul(e,"Min"))}function md(t,e){return e===void 0&&(e=Xr(t)),new I(ul(e,"Max"))}function ul(t,e){let n=[9999999999,9999999999,9999999999],r=[-9999999999,-9999999999,-9999999999];t.forEach((l,c)=>{for(let u=0;u<3;u++)l[u]<n[u]&&(n[u]=l[u]),l[u]>r[u]&&(r[u]=l[u])});const i=[r[0]-n[0],r[1]-n[1],r[2]-n[2]],o=[i[0]/2,i[1]/2,i[2]/2],s=[o[0]+n[0],o[1]+n[1],o[2]+n[2]];return{Min:n,Max:r,Center:s}[e]}function mm(){const e=new G([]).lookAt(new I([0,0,0]),new I(E.LightDirection)).RotationMatrixToEulerAngles(),r=vd({DontSave:!0,IgnoreLighting:!0,DontCastShadow:!0,IgnoreRaycast:!0,Scale:[2e3,2e3,25],Rotation:e,Color:[.9,.9,.9,1]});r.Data.TextureId=6,r.Data.Name="Sun";const i=new I(e).GetLookVector().MultiplyScalar(E.CameraFarPlane-50).AddVector(new I(Le));return r.Data.Offset=i.vector,r}const Oe={Vertices:[.5,-.5,.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5],Index:[0,1,5,0,5,4,0,7,3,0,4,7,0,3,2,0,2,1,4,6,7,4,5,6,3,7,6,3,6,2,2,5,1,2,6,5],Normals:[],Data:{Color:[1,1,1,1],Offset:[0,0,-250],Scale:[75,75,75],Rotation:[0,0,0],Name:"Cube"}},gm={Vertices:[0,0,0],Index:[0,0,0],Normals:[],Data:{Name:"DefaultObject",Offset:[0,0,0],Scale:[0,0,0],Color:[0,0,0,0],Rotation:[0,0,0],IgnoreRaycast:!0,DontSave:!0,DontShowInExplorer:!0}},io=[gm];function mn(){return io}function Eo(t){io.push(t)}function gd(){io.splice(1,io.length)}function ym(t){const e=mn();let n=0;e.forEach(r=>{t.indexOf(r)>-1?e.splice(n,1):n++})}function ns(t){const e=mn();let n=0;e.forEach(r=>{r.Data.Name===t?e.splice(n,1):n++})}function vm(t){const e=mn();let n=0;e.forEach(r=>{r.Data.InternalName===t?e.splice(n,1):n++})}function yd(t){return mn().filter(e=>e.Data.Name===t)}function rs(){return mn().filter(t=>!t.Data.DontSave)}function aa(t,e){e=e||new G([]).IdentityMatrix();const n=t.Multiply(e).Inverse(),r=[];for(let i=0;i<2;i++)for(let o=0;o<2;o++)for(let s=0;s<2;s++){const a=new I([2*i-1,2*o-1,s]).vector,l=n.Multiply(new G([]).TranslationMatrix(a[0],a[1],a[2])).matrix,c=new I([l[12],l[13],l[14]]).DivideScalar(l[15]);r.push(c)}return r}function To(t,e){const n=Le,r=be,i=new G([]).TranslationMatrix(n[0],n[1],n[2]),o=new G([]).RotationXMatrix(r[0]),s=new G([]).RotationYMatrix(r[1]),a=new G([]).RotationZMatrix(r[2]);return i.Multiply(s).Multiply(o).Multiply(a).Inverse()}function _m(){const t=new G([]).PerspectiveMatrix(E.FOV,E.Width,E.Height,E.CameraNearPlane,E.CameraFarPlane),e=To();return t.Multiply(e)}function is(t,e){let r=new I([0,0,0]);const i=new G([]).PerspectiveMatrix(E.FOV,E.Width,E.Height,t,e),o=aa(i,To());o.forEach(w=>{r=r.AddVector(w)}),r=r.DivideScalar(o.length),r.AddVector(new I(E.LightDirection).GetUnitVector());const s=new G([]).lookAt(new I([0,0,0]),new I(E.LightDirection).GetInverse().GetUnitVector());let a=99999999999,l=-99999999999,c=99999999999,u=-99999999999,p=99999999999,m=-99999999999;o.forEach(w=>{const z=s.Multiply(new G([]).TranslationMatrix(w.vector[0],w.vector[1],w.vector[2])).matrix,d=new I([z[12],z[13],z[14]]).vector;a=Math.min(a,d[0]),l=Math.max(l,d[0]),c=Math.min(c,d[1]),u=Math.max(u,d[1]),p=Math.min(p,d[2]),m=Math.max(m,d[2])}),p=p<0?p*5:p/5;let x;{const w=o[7].SubtractVector(o[1]).GetMagnitude(),z=o[7].SubtractVector(o[0]).GetMagnitude();x=Math.max(w,z)}{const w=l-a,z=u-c;let d=x-z;d>0&&(u+=d/2,c-=d/2),d=x-w,d>0&&(l+=d/2,a-=d/2)}return new G([]).OrthographicMatrix(a,l,c,u,-p,-m).Multiply(s)}function cl(){const t=E.ShadowCascadeLevels,e=[];for(let n=0;n<t.length+1;n++)n==0?e.push(is(E.CameraNearPlane,t[n])):n<t.length?e.push(is(t[n-1],t[n])):e.push(is(t[n-1],E.CameraFarPlane));return e}function wm(){const t=_m(),e=[],n=[],r=[],i=[],o=[],s=[],a=[],l=[{position:[0,0,0],radius:0,color:[0,0,0,0],brightness:0}];let c=1,u=0,p=0,m=0,x=0;return[...mn(),mm()].forEach((w,z)=>{const d=w.Data.Light;let h=0,g=0,S=0,P=0;if(w.Vertices.forEach(F=>{h+=4,e.push(F)}),w.Index.forEach(F=>{g+=4,n.push(F)}),w.Data.Color.forEach(F=>{S+=4,r.push(F)}),S+=8,r.push(z),r.push(w.Data.IgnoreLighting?1:0),w.UV&&w.IndexUVs){const F=w.UV;w.IndexUVs.forEach(X=>{P+=8,i.push(F[X*2+0]),i.push(F[X*2+1])})}else w.Index.forEach(F=>{P+=8,i.push(F),i.push(F)});const b=new G([]).TranslationMatrix(w.Data.Offset[0],w.Data.Offset[1],w.Data.Offset[2]),R=new G([]).ScalingMatrix(w.Data.Scale[0],w.Data.Scale[1],w.Data.Scale[2]),A=new G([]).RotationZMatrix(w.Data.Rotation[2]),j=new G([]).RotationYMatrix(w.Data.Rotation[1]),M=new G([]).RotationXMatrix(w.Data.Rotation[0]);if(t.Multiply(b).Multiply(M).Multiply(j).Multiply(A).Multiply(R).matrix.forEach(F=>{o.push(F)}),b.Multiply(M).Multiply(j).Multiply(A).Multiply(R).matrix.forEach(F=>{s.push(F)}),d){const F=hd(w).vector,X={position:[F[0],F[1],F[2]],radius:d.Radius,color:[d.Color[0],d.Color[1],d.Color[2],d.Color[3]],brightness:d.Brightness};l.push(X),c+=1}a.push({VertexOffset:u,VertexSize:h,IndexOffset:p,IndexSize:g,InstanceDataOffset:m,InstanceDataSize:S,VertexDataOffset:x,VertexDataSize:P,TextureId:Math.min(w.Data.TextureId||0,E.NumTextures),DontCastShadow:w.Data.DontCastShadow}),u+=h,p+=g,m+=S,x+=P}),{Vertices:new Float32Array(e),Index:new Uint32Array(n),Data:new Float32Array(r),VertexData:new Float32Array(i),Transformation:new Float32Array(o),WorldTransformation:new Float32Array(s),DirectionalLightMatrices:cl().map(w=>new Float32Array(w.matrix.flat())),OffsetData:a,PointLights:l,NumPointLights:c}}function vd(t){const e=t.RandomColor?[Math.random(),Math.random(),Math.random(),1]:t.Color||[1,1,1,1];let n=Array.from(Oe.Data.Offset);return t.UseCameraOffset?n=[Le[0],Le[1],Le[2]]:t.Offset&&(n=Array.from(t.Offset)),{Vertices:Array.from(Oe.Vertices),Index:Array.from(Oe.Index),Normals:Array.from(Oe.Normals),UV:Oe.UV?Array.from(Oe.UV):void 0,IndexUVs:Oe.IndexUVs?Array.from(Oe.IndexUVs):void 0,Data:{Color:e,Offset:n,Scale:t.Scale?Array.from(t.Scale):Array.from(Oe.Data.Scale),Rotation:t.Rotation?Array.from(t.Rotation):Array.from(Oe.Data.Rotation),Name:t.Name||Oe.Data.Name,DontSave:t.DontSave,IgnoreRaycast:t.IgnoreRaycast,IgnoreLighting:t.IgnoreLighting,DontCastShadow:t.DontCastShadow}}}function Rn(t){const e=vd(t);return Eo(e),e}function os(t){gd(),JSON.parse(t).forEach(e=>{Eo(e)})}const fl=(t,e)=>((t+e-1)/e|0)*e;function xm(t){return Object.keys(t)}function km(t,e){return new Array(t).fill(0).map((n,r)=>e(r))}const Nu=t=>t&&typeof t.length=="number"&&t.buffer instanceof ArrayBuffer&&typeof t.byteLength=="number",_d=t=>t,q=_d({i32:{numElements:1,align:4,size:4,type:"i32",View:Int32Array},u32:{numElements:1,align:4,size:4,type:"u32",View:Uint32Array},f32:{numElements:1,align:4,size:4,type:"f32",View:Float32Array},f16:{numElements:1,align:2,size:2,type:"u16",View:Uint16Array},vec2f:{numElements:2,align:8,size:8,type:"f32",View:Float32Array},vec2i:{numElements:2,align:8,size:8,type:"i32",View:Int32Array},vec2u:{numElements:2,align:8,size:8,type:"u32",View:Uint32Array},vec2h:{numElements:2,align:4,size:4,type:"u16",View:Uint16Array},vec3i:{numElements:3,align:16,size:12,type:"i32",View:Int32Array},vec3u:{numElements:3,align:16,size:12,type:"u32",View:Uint32Array},vec3f:{numElements:3,align:16,size:12,type:"f32",View:Float32Array},vec3h:{numElements:3,align:8,size:6,type:"u16",View:Uint16Array},vec4i:{numElements:4,align:16,size:16,type:"i32",View:Int32Array},vec4u:{numElements:4,align:16,size:16,type:"u32",View:Uint32Array},vec4f:{numElements:4,align:16,size:16,type:"f32",View:Float32Array},vec4h:{numElements:4,align:8,size:8,type:"u16",View:Uint16Array},mat2x2f:{numElements:4,align:8,size:16,type:"f32",View:Float32Array},mat2x2h:{numElements:4,align:4,size:8,type:"u16",View:Uint16Array},mat3x2f:{numElements:6,align:8,size:24,type:"f32",View:Float32Array},mat3x2h:{numElements:6,align:4,size:12,type:"u16",View:Uint16Array},mat4x2f:{numElements:8,align:8,size:32,type:"f32",View:Float32Array},mat4x2h:{numElements:8,align:4,size:16,type:"u16",View:Uint16Array},mat2x3f:{numElements:8,align:16,size:32,pad:[3,1],type:"f32",View:Float32Array},mat2x3h:{numElements:8,align:8,size:16,pad:[3,1],type:"u16",View:Uint16Array},mat3x3f:{numElements:12,align:16,size:48,pad:[3,1],type:"f32",View:Float32Array},mat3x3h:{numElements:12,align:8,size:24,pad:[3,1],type:"u16",View:Uint16Array},mat4x3f:{numElements:16,align:16,size:64,pad:[3,1],type:"f32",View:Float32Array},mat4x3h:{numElements:16,align:8,size:32,pad:[3,1],type:"u16",View:Uint16Array},mat2x4f:{numElements:8,align:16,size:32,type:"f32",View:Float32Array},mat2x4h:{numElements:8,align:8,size:16,type:"u16",View:Uint16Array},mat3x4f:{numElements:12,align:16,size:48,pad:[3,1],type:"f32",View:Float32Array},mat3x4h:{numElements:12,align:8,size:24,pad:[3,1],type:"u16",View:Uint16Array},mat4x4f:{numElements:16,align:16,size:64,type:"f32",View:Float32Array},mat4x4h:{numElements:16,align:8,size:32,type:"u16",View:Uint16Array},bool:{numElements:0,align:1,size:0,type:"bool",View:Uint32Array}}),er=_d({...q,"atomic<i32>":q.i32,"atomic<u32>":q.u32,"vec2<i32>":q.vec2i,"vec2<u32>":q.vec2u,"vec2<f32>":q.vec2f,"vec2<f16>":q.vec2h,"vec3<i32>":q.vec3i,"vec3<u32>":q.vec3u,"vec3<f32>":q.vec3f,"vec3<f16>":q.vec3h,"vec4<i32>":q.vec4i,"vec4<u32>":q.vec4u,"vec4<f32>":q.vec4f,"vec4<f16>":q.vec4h,"mat2x2<f32>":q.mat2x2f,"mat2x2<f16>":q.mat2x2h,"mat3x2<f32>":q.mat3x2f,"mat3x2<f16>":q.mat3x2h,"mat4x2<f32>":q.mat4x2f,"mat4x2<f16>":q.mat4x2h,"mat2x3<f32>":q.mat2x3f,"mat2x3<f16>":q.mat2x3h,"mat3x3<f32>":q.mat3x3f,"mat3x3<f16>":q.mat3x3h,"mat4x3<f32>":q.mat4x3f,"mat4x3<f16>":q.mat4x3h,"mat2x4<f32>":q.mat2x4f,"mat2x4<f16>":q.mat2x4h,"mat3x4<f32>":q.mat3x4f,"mat3x4<f16>":q.mat3x4h,"mat4x4<f32>":q.mat4x4f,"mat4x4<f16>":q.mat4x4h}),Sm=xm(er);function Em(t=[],e){const n=new Set;for(const r of Sm){const i=er[r];n.has(i)||(n.add(i),i.flatten=t.includes(r)?e:!e)}}Em();function Tm(t){const e=t;if(e.elementType)return e.size;{const r=t,i=e.numElements||1;if(r.fields)return t.size*i;{const o=t,{align:s}=er[o.type];return i>1?fl(t.size,s)*i:t.size}}}function bu(t,e,n,r){const{size:i,type:o}=t;try{const{View:s,align:a}=er[o],l=r!==void 0,c=l?fl(i,a):i,u=c/s.BYTES_PER_ELEMENT,p=l?r===0?(e.byteLength-n)/c:r:1;return new s(e,n,u*p)}catch{throw new Error(`unknown type: ${o}`)}}function Cm(t){return!t.fields&&!t.elementType}function Mm(t,e,n){const r=n||0,i=e||new ArrayBuffer(Tm(t)),o=(s,a)=>{const l=s,c=l.elementType;if(c){if(Cm(c)&&er[c.type].flatten)return bu(c,i,a,l.numElements);{const{size:u}=dl(s),p=l.numElements===0?(i.byteLength-a)/u:l.numElements;return km(p,m=>o(c,a+u*m))}}else{if(typeof s=="string")throw Error("unreachable");{const u=s.fields;if(u){const p={};for(const[m,{type:x,offset:k}]of Object.entries(u))p[m]=o(x,a+k);return p}else return bu(s,i,a)}}};return{views:o(t,r),arrayBuffer:i}}function la(t,e){if(t!==void 0)if(Nu(e)){const n=e;if(n.length===1&&typeof t=="number")n[0]=t;else if(Array.isArray(t[0])||Nu(t[0])){const r=t[0].length,i=r===3?4:r;for(let o=0;o<t.length;++o){const s=o*i;n.set(t[o],s)}}else n.set(t)}else if(Array.isArray(e)){const n=e;t.forEach((r,i)=>{la(r,n[i])})}else{const n=e;for(const[r,i]of Object.entries(t)){const o=n[r];o&&la(i,o)}}}function Pm(t,e,n=0){const r=t,i=r.group===void 0?t:r.typeDefinition,o=Mm(i,e,n);return{...o,set(s){la(s,o.views)}}}function ua(t){const n=t.elementType;if(n)return ua(n);const i=t.fields;if(i)return Object.values(i).reduce((a,{type:l})=>Math.max(a,ua(l)),0);const{type:o}=t,{align:s}=er[o];return s}function dl(t){const n=t.elementType;if(n){const o=n.size,s=ua(n);return{unalignedSize:o,align:s,size:fl(o,s)}}const i=t.fields;if(i){const o=Object.values(i).pop();if(o.type.size===0)return dl(o.type)}return{size:0,unalignedSize:0,align:1}}function Nm(t){const e=t,n=e.group===void 0?t:e.typeDefinition;return dl(n)}class bm{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}}class Nt{constructor(){}get isAstNode(){return!0}get astNodeType(){return""}evaluate(e){throw new Error("Cannot evaluate node")}evaluateString(e){return this.evaluate(e).toString()}search(e){}searchBlock(e,n){if(e){n(oo.instance);for(const r of e)r instanceof Array?this.searchBlock(r,n):r.search(n);n(so.instance)}}}class oo extends Nt{}oo.instance=new oo;class so extends Nt{}so.instance=new so;class oe extends Nt{constructor(){super()}}class ca extends oe{constructor(e,n,r,i,o,s){super(),this.calls=new Set,this.name=e,this.args=n,this.returnType=r,this.body=i,this.startLine=o,this.endLine=s}get astNodeType(){return"function"}search(e){this.searchBlock(this.body,e)}}class Lm extends oe{constructor(e){super(),this.expression=e}get astNodeType(){return"staticAssert"}search(e){this.expression.search(e)}}class Rm extends oe{constructor(e,n){super(),this.condition=e,this.body=n}get astNodeType(){return"while"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}}class Am extends oe{constructor(e){super(),this.body=e}get astNodeType(){return"continuing"}search(e){this.searchBlock(this.body,e)}}class zm extends oe{constructor(e,n,r,i){super(),this.init=e,this.condition=n,this.increment=r,this.body=i}get astNodeType(){return"for"}search(e){var n,r,i;(n=this.init)===null||n===void 0||n.search(e),(r=this.condition)===null||r===void 0||r.search(e),(i=this.increment)===null||i===void 0||i.search(e),this.searchBlock(this.body,e)}}class en extends oe{constructor(e,n,r,i,o){super(),this.name=e,this.type=n,this.storage=r,this.access=i,this.value=o}get astNodeType(){return"var"}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}}class wd extends oe{constructor(e,n,r){super(),this.name=e,this.type=n,this.value=r}get astNodeType(){return"override"}search(e){var n;(n=this.value)===null||n===void 0||n.search(e)}}class fa extends oe{constructor(e,n,r,i,o){super(),this.name=e,this.type=n,this.storage=r,this.access=i,this.value=o}get astNodeType(){return"let"}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}}class Lu extends oe{constructor(e,n,r,i,o){super(),this.name=e,this.type=n,this.storage=r,this.access=i,this.value=o}get astNodeType(){return"const"}evaluate(e){return this.value.evaluate(e)}search(e){var n;e(this),(n=this.value)===null||n===void 0||n.search(e)}}var Xn;(function(t){t.increment="++",t.decrement="--"})(Xn||(Xn={}));(function(t){function e(n){const r=n;if(r=="parse")throw new Error("Invalid value for IncrementOperator");return t[r]}t.parse=e})(Xn||(Xn={}));class Om extends oe{constructor(e,n){super(),this.operator=e,this.variable=n}get astNodeType(){return"increment"}search(e){this.variable.search(e)}}var jr;(function(t){t.assign="=",t.addAssign="+=",t.subtractAssin="-=",t.multiplyAssign="*=",t.divideAssign="/=",t.moduloAssign="%=",t.andAssign="&=",t.orAssign="|=",t.xorAssign="^=",t.shiftLeftAssign="<<=",t.shiftRightAssign=">>="})(jr||(jr={}));(function(t){function e(n){const r=n;if(r=="parse")throw new Error("Invalid value for AssignOperator");return r}t.parse=e})(jr||(jr={}));class Dm extends oe{constructor(e,n,r){super(),this.operator=e,this.variable=n,this.value=r}get astNodeType(){return"assign"}search(e){this.variable.search(e),this.value.search(e)}}class xd extends oe{constructor(e,n){super(),this.name=e,this.args=n}get astNodeType(){return"call"}search(e){for(const n of this.args)n.search(e);e(this)}}class Im extends oe{constructor(e,n){super(),this.body=e,this.continuing=n}get astNodeType(){return"loop"}}class Um extends oe{constructor(e,n){super(),this.condition=e,this.body=n}get astNodeType(){return"body"}}class Bm extends oe{constructor(e,n,r,i){super(),this.condition=e,this.body=n,this.elseif=r,this.else=i}get astNodeType(){return"if"}search(e){this.condition.search(e),this.searchBlock(this.body,e),this.searchBlock(this.elseif,e),this.searchBlock(this.else,e)}}class Gm extends oe{constructor(e){super(),this.value=e}get astNodeType(){return"return"}search(e){var n;(n=this.value)===null||n===void 0||n.search(e)}}class Vm extends oe{constructor(e){super(),this.name=e}get astNodeType(){return"enable"}}class Fm extends oe{constructor(e){super(),this.extensions=e}get astNodeType(){return"requires"}}class jm extends oe{constructor(e,n){super(),this.severity=e,this.rule=n}get astNodeType(){return"diagnostic"}}class kd extends oe{constructor(e,n){super(),this.name=e,this.type=n}get astNodeType(){return"alias"}}class Wm extends oe{constructor(){super()}get astNodeType(){return"discard"}}class Hm extends oe{constructor(){super()}get astNodeType(){return"break"}}class $m extends oe{constructor(){super()}get astNodeType(){return"continue"}}class gn extends oe{constructor(e){super(),this.name=e}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}}class Jt extends gn{constructor(e,n,r,i){super(e),this.members=n,this.startLine=r,this.endLine=i}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex(e){for(let n=0;n<this.members.length;n++)if(this.members[n].name==e)return n;return-1}}class Sd extends gn{constructor(e,n,r){super(e),this.format=n,this.access=r}get astNodeType(){return"template"}}class qm extends gn{constructor(e,n,r,i){super(e),this.storage=n,this.type=r,this.access=i}get astNodeType(){return"pointer"}}class Ed extends gn{constructor(e,n,r,i){super(e),this.attributes=n,this.format=r,this.count=i}get astNodeType(){return"array"}get isArray(){return!0}}class gr extends gn{constructor(e,n,r){super(e),this.format=n,this.access=r}get astNodeType(){return"sampler"}}class at extends Nt{constructor(){super()}}class Ru extends at{constructor(e){super(),this.value=e}get astNodeType(){return"stringExpr"}toString(){return this.value}evaluateString(){return this.value}}class An extends at{constructor(e,n){super(),this.type=e,this.args=n}get astNodeType(){return"createExpr"}search(e){e(this);for(const n of this.args)n.search(e)}}class Td extends at{constructor(e,n){super(),this.name=e,this.args=n}get astNodeType(){return"callExpr"}evaluate(e){switch(this.name){case"abs":return Math.abs(this.args[0].evaluate(e));case"acos":return Math.acos(this.args[0].evaluate(e));case"acosh":return Math.acosh(this.args[0].evaluate(e));case"asin":return Math.asin(this.args[0].evaluate(e));case"asinh":return Math.asinh(this.args[0].evaluate(e));case"atan":return Math.atan(this.args[0].evaluate(e));case"atan2":return Math.atan2(this.args[0].evaluate(e),this.args[1].evaluate(e));case"atanh":return Math.atanh(this.args[0].evaluate(e));case"ceil":return Math.ceil(this.args[0].evaluate(e));case"clamp":return Math.min(Math.max(this.args[0].evaluate(e),this.args[1].evaluate(e)),this.args[2].evaluate(e));case"cos":return Math.cos(this.args[0].evaluate(e));case"degrees":return this.args[0].evaluate(e)*180/Math.PI;case"distance":return Math.sqrt(Math.pow(this.args[0].evaluate(e)-this.args[1].evaluate(e),2));case"dot":case"exp":return Math.exp(this.args[0].evaluate(e));case"exp2":return Math.pow(2,this.args[0].evaluate(e));case"floor":return Math.floor(this.args[0].evaluate(e));case"fma":return this.args[0].evaluate(e)*this.args[1].evaluate(e)+this.args[2].evaluate(e);case"fract":return this.args[0].evaluate(e)-Math.floor(this.args[0].evaluate(e));case"inverseSqrt":return 1/Math.sqrt(this.args[0].evaluate(e));case"log":return Math.log(this.args[0].evaluate(e));case"log2":return Math.log2(this.args[0].evaluate(e));case"max":return Math.max(this.args[0].evaluate(e),this.args[1].evaluate(e));case"min":return Math.min(this.args[0].evaluate(e),this.args[1].evaluate(e));case"mix":return this.args[0].evaluate(e)*(1-this.args[2].evaluate(e))+this.args[1].evaluate(e)*this.args[2].evaluate(e);case"modf":return this.args[0].evaluate(e)-Math.floor(this.args[0].evaluate(e));case"pow":return Math.pow(this.args[0].evaluate(e),this.args[1].evaluate(e));case"radians":return this.args[0].evaluate(e)*Math.PI/180;case"round":return Math.round(this.args[0].evaluate(e));case"sign":return Math.sign(this.args[0].evaluate(e));case"sin":return Math.sin(this.args[0].evaluate(e));case"sinh":return Math.sinh(this.args[0].evaluate(e));case"saturate":return Math.min(Math.max(this.args[0].evaluate(e),0),1);case"smoothstep":return this.args[0].evaluate(e)*this.args[0].evaluate(e)*(3-2*this.args[0].evaluate(e));case"sqrt":return Math.sqrt(this.args[0].evaluate(e));case"step":return this.args[0].evaluate(e)<this.args[1].evaluate(e)?0:1;case"tan":return Math.tan(this.args[0].evaluate(e));case"tanh":return Math.tanh(this.args[0].evaluate(e));case"trunc":return Math.trunc(this.args[0].evaluate(e));default:throw new Error("Non const function: "+this.name)}}search(e){for(const n of this.args)n.search(e);e(this)}}class da extends at{constructor(e){super(),this.name=e}get astNodeType(){return"varExpr"}search(e){e(this),this.postfix&&this.postfix.search(e)}evaluate(e){const n=e.constants.get(this.name);if(!n)throw new Error("Cannot evaluate node");return n.evaluate(e)}}class Au extends at{constructor(e,n){super(),this.name=e,this.initializer=n}get astNodeType(){return"constExpr"}evaluate(e){var n,r;if(this.initializer instanceof An){const i=(n=this.postfix)===null||n===void 0?void 0:n.evaluateString(e),o=(r=this.initializer.type)===null||r===void 0?void 0:r.name,s=e.structs.get(o),a=s==null?void 0:s.getMemberIndex(i);if(a!=-1)return this.initializer.args[a].evaluate(e);console.log(a)}return this.initializer.evaluate(e)}search(e){this.initializer.search(e)}}class zu extends at{constructor(e){super(),this.value=e}get astNodeType(){return"literalExpr"}evaluate(){return this.value}}class Ym extends at{constructor(e,n){super(),this.type=e,this.value=n}get astNodeType(){return"bitcastExpr"}search(e){this.value.search(e)}}class Qm extends at{constructor(e,n){super(),this.type=e,this.args=n}get astNodeType(){return"typecastExpr"}evaluate(e){return this.args[0].evaluate(e)}search(e){this.searchBlock(this.args,e)}}class Ou extends at{constructor(e){super(),this.contents=e}get astNodeType(){return"groupExpr"}evaluate(e){return this.contents[0].evaluate(e)}search(e){this.searchBlock(this.contents,e)}}class Xm extends at{constructor(e){super(),this.index=e}search(e){this.index.search(e)}}class Cd extends at{constructor(){super()}}class Km extends Cd{constructor(e,n){super(),this.operator=e,this.right=n}get astNodeType(){return"unaryOp"}evaluate(e){switch(this.operator){case"+":return this.right.evaluate(e);case"-":return-this.right.evaluate(e);case"!":return this.right.evaluate(e)?0:1;case"~":return~this.right.evaluate(e);default:throw new Error("Unknown unary operator: "+this.operator)}}search(e){this.right.search(e)}}class ct extends Cd{constructor(e,n,r){super(),this.operator=e,this.left=n,this.right=r}get astNodeType(){return"binaryOp"}evaluate(e){switch(this.operator){case"+":return this.left.evaluate(e)+this.right.evaluate(e);case"-":return this.left.evaluate(e)-this.right.evaluate(e);case"*":return this.left.evaluate(e)*this.right.evaluate(e);case"/":return this.left.evaluate(e)/this.right.evaluate(e);case"%":return this.left.evaluate(e)%this.right.evaluate(e);case"==":return this.left.evaluate(e)==this.right.evaluate(e)?1:0;case"!=":return this.left.evaluate(e)!=this.right.evaluate(e)?1:0;case"<":return this.left.evaluate(e)<this.right.evaluate(e)?1:0;case">":return this.left.evaluate(e)>this.right.evaluate(e)?1:0;case"<=":return this.left.evaluate(e)<=this.right.evaluate(e)?1:0;case">=":return this.left.evaluate(e)>=this.right.evaluate(e)?1:0;case"&&":return this.left.evaluate(e)&&this.right.evaluate(e)?1:0;case"||":return this.left.evaluate(e)||this.right.evaluate(e)?1:0;default:throw new Error(`Unknown operator ${this.operator}`)}}search(e){this.left.search(e),this.right.search(e)}}class Md extends Nt{constructor(){super()}}class Zm extends Md{constructor(e,n){super(),this.selector=e,this.body=n}get astNodeType(){return"case"}search(e){this.searchBlock(this.body,e)}}class Jm extends Md{constructor(e){super(),this.body=e}get astNodeType(){return"default"}search(e){this.searchBlock(this.body,e)}}class eg extends Nt{constructor(e,n,r){super(),this.name=e,this.type=n,this.attributes=r}get astNodeType(){return"argument"}}class tg extends Nt{constructor(e,n){super(),this.condition=e,this.body=n}get astNodeType(){return"elseif"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}}class ng extends Nt{constructor(e,n,r){super(),this.name=e,this.type=n,this.attributes=r}get astNodeType(){return"member"}}class Du extends Nt{constructor(e,n){super(),this.name=e,this.value=n}get astNodeType(){return"attribute"}}var _,y;(function(t){t[t.token=0]="token",t[t.keyword=1]="keyword",t[t.reserved=2]="reserved"})(y||(y={}));class v{constructor(e,n,r){this.name=e,this.type=n,this.rule=r}toString(){return this.name}}class f{}_=f;f.none=new v("",y.reserved,"");f.eof=new v("EOF",y.token,"");f.reserved={asm:new v("asm",y.reserved,"asm"),bf16:new v("bf16",y.reserved,"bf16"),do:new v("do",y.reserved,"do"),enum:new v("enum",y.reserved,"enum"),f16:new v("f16",y.reserved,"f16"),f64:new v("f64",y.reserved,"f64"),handle:new v("handle",y.reserved,"handle"),i8:new v("i8",y.reserved,"i8"),i16:new v("i16",y.reserved,"i16"),i64:new v("i64",y.reserved,"i64"),mat:new v("mat",y.reserved,"mat"),premerge:new v("premerge",y.reserved,"premerge"),regardless:new v("regardless",y.reserved,"regardless"),typedef:new v("typedef",y.reserved,"typedef"),u8:new v("u8",y.reserved,"u8"),u16:new v("u16",y.reserved,"u16"),u64:new v("u64",y.reserved,"u64"),unless:new v("unless",y.reserved,"unless"),using:new v("using",y.reserved,"using"),vec:new v("vec",y.reserved,"vec"),void:new v("void",y.reserved,"void")};f.keywords={array:new v("array",y.keyword,"array"),atomic:new v("atomic",y.keyword,"atomic"),bool:new v("bool",y.keyword,"bool"),f32:new v("f32",y.keyword,"f32"),i32:new v("i32",y.keyword,"i32"),mat2x2:new v("mat2x2",y.keyword,"mat2x2"),mat2x3:new v("mat2x3",y.keyword,"mat2x3"),mat2x4:new v("mat2x4",y.keyword,"mat2x4"),mat3x2:new v("mat3x2",y.keyword,"mat3x2"),mat3x3:new v("mat3x3",y.keyword,"mat3x3"),mat3x4:new v("mat3x4",y.keyword,"mat3x4"),mat4x2:new v("mat4x2",y.keyword,"mat4x2"),mat4x3:new v("mat4x3",y.keyword,"mat4x3"),mat4x4:new v("mat4x4",y.keyword,"mat4x4"),ptr:new v("ptr",y.keyword,"ptr"),sampler:new v("sampler",y.keyword,"sampler"),sampler_comparison:new v("sampler_comparison",y.keyword,"sampler_comparison"),struct:new v("struct",y.keyword,"struct"),texture_1d:new v("texture_1d",y.keyword,"texture_1d"),texture_2d:new v("texture_2d",y.keyword,"texture_2d"),texture_2d_array:new v("texture_2d_array",y.keyword,"texture_2d_array"),texture_3d:new v("texture_3d",y.keyword,"texture_3d"),texture_cube:new v("texture_cube",y.keyword,"texture_cube"),texture_cube_array:new v("texture_cube_array",y.keyword,"texture_cube_array"),texture_multisampled_2d:new v("texture_multisampled_2d",y.keyword,"texture_multisampled_2d"),texture_storage_1d:new v("texture_storage_1d",y.keyword,"texture_storage_1d"),texture_storage_2d:new v("texture_storage_2d",y.keyword,"texture_storage_2d"),texture_storage_2d_array:new v("texture_storage_2d_array",y.keyword,"texture_storage_2d_array"),texture_storage_3d:new v("texture_storage_3d",y.keyword,"texture_storage_3d"),texture_depth_2d:new v("texture_depth_2d",y.keyword,"texture_depth_2d"),texture_depth_2d_array:new v("texture_depth_2d_array",y.keyword,"texture_depth_2d_array"),texture_depth_cube:new v("texture_depth_cube",y.keyword,"texture_depth_cube"),texture_depth_cube_array:new v("texture_depth_cube_array",y.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new v("texture_depth_multisampled_2d",y.keyword,"texture_depth_multisampled_2d"),texture_external:new v("texture_external",y.keyword,"texture_external"),u32:new v("u32",y.keyword,"u32"),vec2:new v("vec2",y.keyword,"vec2"),vec3:new v("vec3",y.keyword,"vec3"),vec4:new v("vec4",y.keyword,"vec4"),bitcast:new v("bitcast",y.keyword,"bitcast"),block:new v("block",y.keyword,"block"),break:new v("break",y.keyword,"break"),case:new v("case",y.keyword,"case"),continue:new v("continue",y.keyword,"continue"),continuing:new v("continuing",y.keyword,"continuing"),default:new v("default",y.keyword,"default"),diagnostic:new v("diagnostic",y.keyword,"diagnostic"),discard:new v("discard",y.keyword,"discard"),else:new v("else",y.keyword,"else"),enable:new v("enable",y.keyword,"enable"),fallthrough:new v("fallthrough",y.keyword,"fallthrough"),false:new v("false",y.keyword,"false"),fn:new v("fn",y.keyword,"fn"),for:new v("for",y.keyword,"for"),function:new v("function",y.keyword,"function"),if:new v("if",y.keyword,"if"),let:new v("let",y.keyword,"let"),const:new v("const",y.keyword,"const"),loop:new v("loop",y.keyword,"loop"),while:new v("while",y.keyword,"while"),private:new v("private",y.keyword,"private"),read:new v("read",y.keyword,"read"),read_write:new v("read_write",y.keyword,"read_write"),return:new v("return",y.keyword,"return"),requires:new v("requires",y.keyword,"requires"),storage:new v("storage",y.keyword,"storage"),switch:new v("switch",y.keyword,"switch"),true:new v("true",y.keyword,"true"),alias:new v("alias",y.keyword,"alias"),type:new v("type",y.keyword,"type"),uniform:new v("uniform",y.keyword,"uniform"),var:new v("var",y.keyword,"var"),override:new v("override",y.keyword,"override"),workgroup:new v("workgroup",y.keyword,"workgroup"),write:new v("write",y.keyword,"write"),r8unorm:new v("r8unorm",y.keyword,"r8unorm"),r8snorm:new v("r8snorm",y.keyword,"r8snorm"),r8uint:new v("r8uint",y.keyword,"r8uint"),r8sint:new v("r8sint",y.keyword,"r8sint"),r16uint:new v("r16uint",y.keyword,"r16uint"),r16sint:new v("r16sint",y.keyword,"r16sint"),r16float:new v("r16float",y.keyword,"r16float"),rg8unorm:new v("rg8unorm",y.keyword,"rg8unorm"),rg8snorm:new v("rg8snorm",y.keyword,"rg8snorm"),rg8uint:new v("rg8uint",y.keyword,"rg8uint"),rg8sint:new v("rg8sint",y.keyword,"rg8sint"),r32uint:new v("r32uint",y.keyword,"r32uint"),r32sint:new v("r32sint",y.keyword,"r32sint"),r32float:new v("r32float",y.keyword,"r32float"),rg16uint:new v("rg16uint",y.keyword,"rg16uint"),rg16sint:new v("rg16sint",y.keyword,"rg16sint"),rg16float:new v("rg16float",y.keyword,"rg16float"),rgba8unorm:new v("rgba8unorm",y.keyword,"rgba8unorm"),rgba8unorm_srgb:new v("rgba8unorm_srgb",y.keyword,"rgba8unorm_srgb"),rgba8snorm:new v("rgba8snorm",y.keyword,"rgba8snorm"),rgba8uint:new v("rgba8uint",y.keyword,"rgba8uint"),rgba8sint:new v("rgba8sint",y.keyword,"rgba8sint"),bgra8unorm:new v("bgra8unorm",y.keyword,"bgra8unorm"),bgra8unorm_srgb:new v("bgra8unorm_srgb",y.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new v("rgb10a2unorm",y.keyword,"rgb10a2unorm"),rg11b10float:new v("rg11b10float",y.keyword,"rg11b10float"),rg32uint:new v("rg32uint",y.keyword,"rg32uint"),rg32sint:new v("rg32sint",y.keyword,"rg32sint"),rg32float:new v("rg32float",y.keyword,"rg32float"),rgba16uint:new v("rgba16uint",y.keyword,"rgba16uint"),rgba16sint:new v("rgba16sint",y.keyword,"rgba16sint"),rgba16float:new v("rgba16float",y.keyword,"rgba16float"),rgba32uint:new v("rgba32uint",y.keyword,"rgba32uint"),rgba32sint:new v("rgba32sint",y.keyword,"rgba32sint"),rgba32float:new v("rgba32float",y.keyword,"rgba32float"),static_assert:new v("static_assert",y.keyword,"static_assert")};f.tokens={decimal_float_literal:new v("decimal_float_literal",y.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?f?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+f?)|([0-9]+f)/),hex_float_literal:new v("hex_float_literal",y.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+f?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+f?))/),int_literal:new v("int_literal",y.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new v("uint_literal",y.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),ident:new v("ident",y.token,/[_a-zA-Z][0-9a-zA-Z_]*/),and:new v("and",y.token,"&"),and_and:new v("and_and",y.token,"&&"),arrow:new v("arrow ",y.token,"->"),attr:new v("attr",y.token,"@"),attr_left:new v("attr_left",y.token,"[["),attr_right:new v("attr_right",y.token,"]]"),forward_slash:new v("forward_slash",y.token,"/"),bang:new v("bang",y.token,"!"),bracket_left:new v("bracket_left",y.token,"["),bracket_right:new v("bracket_right",y.token,"]"),brace_left:new v("brace_left",y.token,"{"),brace_right:new v("brace_right",y.token,"}"),colon:new v("colon",y.token,":"),comma:new v("comma",y.token,","),equal:new v("equal",y.token,"="),equal_equal:new v("equal_equal",y.token,"=="),not_equal:new v("not_equal",y.token,"!="),greater_than:new v("greater_than",y.token,">"),greater_than_equal:new v("greater_than_equal",y.token,">="),shift_right:new v("shift_right",y.token,">>"),less_than:new v("less_than",y.token,"<"),less_than_equal:new v("less_than_equal",y.token,"<="),shift_left:new v("shift_left",y.token,"<<"),modulo:new v("modulo",y.token,"%"),minus:new v("minus",y.token,"-"),minus_minus:new v("minus_minus",y.token,"--"),period:new v("period",y.token,"."),plus:new v("plus",y.token,"+"),plus_plus:new v("plus_plus",y.token,"++"),or:new v("or",y.token,"|"),or_or:new v("or_or",y.token,"||"),paren_left:new v("paren_left",y.token,"("),paren_right:new v("paren_right",y.token,")"),semicolon:new v("semicolon",y.token,";"),star:new v("star",y.token,"*"),tilde:new v("tilde",y.token,"~"),underscore:new v("underscore",y.token,"_"),xor:new v("xor",y.token,"^"),plus_equal:new v("plus_equal",y.token,"+="),minus_equal:new v("minus_equal",y.token,"-="),times_equal:new v("times_equal",y.token,"*="),division_equal:new v("division_equal",y.token,"/="),modulo_equal:new v("modulo_equal",y.token,"%="),and_equal:new v("and_equal",y.token,"&="),or_equal:new v("or_equal",y.token,"|="),xor_equal:new v("xor_equal",y.token,"^="),shift_right_equal:new v("shift_right_equal",y.token,">>="),shift_left_equal:new v("shift_left_equal",y.token,"<<=")};f.simpleTokens={"@":_.tokens.attr,"{":_.tokens.brace_left,"}":_.tokens.brace_right,":":_.tokens.colon,",":_.tokens.comma,"(":_.tokens.paren_left,")":_.tokens.paren_right,";":_.tokens.semicolon};f.literalTokens={"&":_.tokens.and,"&&":_.tokens.and_and,"->":_.tokens.arrow,"[[":_.tokens.attr_left,"]]":_.tokens.attr_right,"/":_.tokens.forward_slash,"!":_.tokens.bang,"[":_.tokens.bracket_left,"]":_.tokens.bracket_right,"=":_.tokens.equal,"==":_.tokens.equal_equal,"!=":_.tokens.not_equal,">":_.tokens.greater_than,">=":_.tokens.greater_than_equal,">>":_.tokens.shift_right,"<":_.tokens.less_than,"<=":_.tokens.less_than_equal,"<<":_.tokens.shift_left,"%":_.tokens.modulo,"-":_.tokens.minus,"--":_.tokens.minus_minus,".":_.tokens.period,"+":_.tokens.plus,"++":_.tokens.plus_plus,"|":_.tokens.or,"||":_.tokens.or_or,"*":_.tokens.star,"~":_.tokens.tilde,_:_.tokens.underscore,"^":_.tokens.xor,"+=":_.tokens.plus_equal,"-=":_.tokens.minus_equal,"*=":_.tokens.times_equal,"/=":_.tokens.division_equal,"%=":_.tokens.modulo_equal,"&=":_.tokens.and_equal,"|=":_.tokens.or_equal,"^=":_.tokens.xor_equal,">>=":_.tokens.shift_right_equal,"<<=":_.tokens.shift_left_equal};f.regexTokens={decimal_float_literal:_.tokens.decimal_float_literal,hex_float_literal:_.tokens.hex_float_literal,int_literal:_.tokens.int_literal,uint_literal:_.tokens.uint_literal,ident:_.tokens.ident};f.storage_class=[_.keywords.function,_.keywords.private,_.keywords.workgroup,_.keywords.uniform,_.keywords.storage];f.access_mode=[_.keywords.read,_.keywords.write,_.keywords.read_write];f.sampler_type=[_.keywords.sampler,_.keywords.sampler_comparison];f.sampled_texture_type=[_.keywords.texture_1d,_.keywords.texture_2d,_.keywords.texture_2d_array,_.keywords.texture_3d,_.keywords.texture_cube,_.keywords.texture_cube_array];f.multisampled_texture_type=[_.keywords.texture_multisampled_2d];f.storage_texture_type=[_.keywords.texture_storage_1d,_.keywords.texture_storage_2d,_.keywords.texture_storage_2d_array,_.keywords.texture_storage_3d];f.depth_texture_type=[_.keywords.texture_depth_2d,_.keywords.texture_depth_2d_array,_.keywords.texture_depth_cube,_.keywords.texture_depth_cube_array,_.keywords.texture_depth_multisampled_2d];f.texture_external_type=[_.keywords.texture_external];f.any_texture_type=[..._.sampled_texture_type,..._.multisampled_texture_type,..._.storage_texture_type,..._.depth_texture_type,..._.texture_external_type];f.texel_format=[_.keywords.r8unorm,_.keywords.r8snorm,_.keywords.r8uint,_.keywords.r8sint,_.keywords.r16uint,_.keywords.r16sint,_.keywords.r16float,_.keywords.rg8unorm,_.keywords.rg8snorm,_.keywords.rg8uint,_.keywords.rg8sint,_.keywords.r32uint,_.keywords.r32sint,_.keywords.r32float,_.keywords.rg16uint,_.keywords.rg16sint,_.keywords.rg16float,_.keywords.rgba8unorm,_.keywords.rgba8unorm_srgb,_.keywords.rgba8snorm,_.keywords.rgba8uint,_.keywords.rgba8sint,_.keywords.bgra8unorm,_.keywords.bgra8unorm_srgb,_.keywords.rgb10a2unorm,_.keywords.rg11b10float,_.keywords.rg32uint,_.keywords.rg32sint,_.keywords.rg32float,_.keywords.rgba16uint,_.keywords.rgba16sint,_.keywords.rgba16float,_.keywords.rgba32uint,_.keywords.rgba32sint,_.keywords.rgba32float];f.const_literal=[_.tokens.int_literal,_.tokens.uint_literal,_.tokens.decimal_float_literal,_.tokens.hex_float_literal,_.keywords.true,_.keywords.false];f.literal_or_ident=[_.tokens.ident,_.tokens.int_literal,_.tokens.uint_literal,_.tokens.decimal_float_literal,_.tokens.hex_float_literal];f.element_count_expression=[_.tokens.int_literal,_.tokens.uint_literal,_.tokens.ident];f.template_types=[_.keywords.vec2,_.keywords.vec3,_.keywords.vec4,_.keywords.mat2x2,_.keywords.mat2x3,_.keywords.mat2x4,_.keywords.mat3x2,_.keywords.mat3x3,_.keywords.mat3x4,_.keywords.mat4x2,_.keywords.mat4x3,_.keywords.mat4x4,_.keywords.atomic,_.keywords.bitcast,..._.any_texture_type];f.attribute_name=[_.tokens.ident,_.keywords.block,_.keywords.diagnostic];f.assignment_operators=[_.tokens.equal,_.tokens.plus_equal,_.tokens.minus_equal,_.tokens.times_equal,_.tokens.division_equal,_.tokens.modulo_equal,_.tokens.and_equal,_.tokens.or_equal,_.tokens.xor_equal,_.tokens.shift_right_equal,_.tokens.shift_left_equal];f.increment_operators=[_.tokens.plus_plus,_.tokens.minus_minus];class Iu{constructor(e,n,r){this.type=e,this.lexeme=n,this.line=r}toString(){return this.lexeme}isTemplateType(){return f.template_types.indexOf(this.type)!=-1}isArrayType(){return this.type==f.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}}class rg{constructor(e){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=e??""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new Iu(f.eof,"",this._line)),this._tokens}scanToken(){let e=this._advance();if(e==`
`)return this._line++,!0;if(this._isWhitespace(e))return!0;if(e=="/"){if(this._peekAhead()=="/"){for(;e!=`
`;){if(this._isAtEnd())return!0;e=this._advance()}return this._line++,!0}else if(this._peekAhead()=="*"){this._advance();let s=1;for(;s>0;){if(this._isAtEnd())return!0;if(e=this._advance(),e==`
`)this._line++;else if(e=="*"){if(this._peekAhead()=="/"&&(this._advance(),s--,s==0))return!0}else e=="/"&&this._peekAhead()=="*"&&(this._advance(),s++)}return!0}}const n=f.simpleTokens[e];if(n)return this._addToken(n),!0;let r=f.none;const i=this._isAlpha(e),o=e==="_";if(this._isAlphaNumeric(e)){let s=this._peekAhead();for(;this._isAlphaNumeric(s);)e+=this._advance(),s=this._peekAhead()}if(i){const s=f.keywords[e];if(s)return this._addToken(s),!0}if(i||o)return this._addToken(f.tokens.ident),!0;for(;;){let s=this._findType(e);const a=this._peekAhead();if(e==">"&&(a==">"||a=="=")){let l=!1,c=this._tokens.length-1;for(let u=0;u<5&&c>=0;++u,--c)if(this._tokens[c].type===f.tokens.less_than){c>0&&this._tokens[c-1].isArrayOrTemplateType()&&(l=!0);break}if(l)return this._addToken(s),!0}if(s===f.none){let l=e,c=0;const u=2;for(let p=0;p<u;++p)if(l+=this._peekAhead(p),s=this._findType(l),s!==f.none){c=p;break}if(s===f.none)return r===f.none?!1:(this._current--,this._addToken(r),!0);e=l,this._current+=c+1}if(r=s,this._isAtEnd())break;e+=this._advance()}return r===f.none?!1:(this._addToken(r),!0)}_findType(e){for(const r in f.regexTokens){const i=f.regexTokens[r];if(this._match(e,i.rule))return i}const n=f.literalTokens[e];return n||f.none}_match(e,n){const r=n.exec(e);return r&&r.index==0&&r[0]==e}_isAtEnd(){return this._current>=this._source.length}_isAlpha(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}_isAlphaNumeric(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e=="_"||e>="0"&&e<="9"}_isWhitespace(e){return e==" "||e=="	"||e=="\r"}_advance(e=0){let n=this._source[this._current];return e=e||0,e++,this._current+=e,n}_peekAhead(e=0){return e=e||0,this._current+e>=this._source.length?"\0":this._source[this._current+e]}_addToken(e){const n=this._source.substring(this._start,this._current);this._tokens.push(new Iu(e,n,this._line))}}class ig{constructor(){this._tokens=[],this._current=0,this._currentLine=0,this._context=new bm,this._deferArrayCountEval=[]}parse(e){this._initialize(e),this._deferArrayCountEval.length=0;const n=[];for(;!this._isAtEnd();){const r=this._global_decl_or_directive();if(!r)break;n.push(r)}if(this._deferArrayCountEval.length>0){for(const r of this._deferArrayCountEval){const i=r.arrayType,o=r.countNode;if(o instanceof da){const a=o.name,l=this._context.constants.get(a);if(l)try{const c=l.evaluate(this._context);i.count=c}catch{}}}this._deferArrayCountEval.length=0}return n}_initialize(e){if(e)if(typeof e=="string"){const n=new rg(e);this._tokens=n.scanTokens()}else this._tokens=e;else this._tokens=[];this._current=0}_error(e,n){return{token:e,message:n,toString:function(){return`${n}`}}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==f.eof}_match(e){if(e instanceof v)return this._check(e)?(this._advance(),!0):!1;for(let n=0,r=e.length;n<r;++n){const i=e[n];if(this._check(i))return this._advance(),!0}return!1}_consume(e,n){if(this._check(e))return this._advance();throw this._error(this._peek(),n)}_check(e){if(this._isAtEnd())return!1;const n=this._peek();if(e instanceof Array){const r=n.type;return e.indexOf(r)!=-1}return n.type==e}_advance(){var e,n;return this._currentLine=(n=(e=this._peek())===null||e===void 0?void 0:e.line)!==null&&n!==void 0?n:-1,this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(f.tokens.semicolon)&&!this._isAtEnd(););if(this._match(f.keywords.alias)){const n=this._type_alias();return this._consume(f.tokens.semicolon,"Expected ';'"),n}if(this._match(f.keywords.diagnostic)){const n=this._diagnostic();return this._consume(f.tokens.semicolon,"Expected ';'"),n}if(this._match(f.keywords.requires)){const n=this._requires_directive();return this._consume(f.tokens.semicolon,"Expected ';'"),n}if(this._match(f.keywords.enable)){const n=this._enable_directive();return this._consume(f.tokens.semicolon,"Expected ';'"),n}const e=this._attribute();if(this._check(f.keywords.var)){const n=this._global_variable_decl();return n!=null&&(n.attributes=e),this._consume(f.tokens.semicolon,"Expected ';'."),n}if(this._check(f.keywords.override)){const n=this._override_variable_decl();return n!=null&&(n.attributes=e),this._consume(f.tokens.semicolon,"Expected ';'."),n}if(this._check(f.keywords.let)){const n=this._global_let_decl();return n!=null&&(n.attributes=e),this._consume(f.tokens.semicolon,"Expected ';'."),n}if(this._check(f.keywords.const)){const n=this._global_const_decl();return n!=null&&(n.attributes=e),this._consume(f.tokens.semicolon,"Expected ';'."),n}if(this._check(f.keywords.struct)){const n=this._struct_decl();return n!=null&&(n.attributes=e),n}if(this._check(f.keywords.fn)){const n=this._function_decl();return n!=null&&(n.attributes=e),n}return null}_function_decl(){if(!this._match(f.keywords.fn))return null;const e=this._currentLine,n=this._consume(f.tokens.ident,"Expected function name.").toString();this._consume(f.tokens.paren_left,"Expected '(' for function arguments.");const r=[];if(!this._check(f.tokens.paren_right))do{if(this._check(f.tokens.paren_right))break;const a=this._attribute(),l=this._consume(f.tokens.ident,"Expected argument name.").toString();this._consume(f.tokens.colon,"Expected ':' for argument type.");const c=this._attribute(),u=this._type_decl();u!=null&&(u.attributes=c,r.push(new eg(l,u,a)))}while(this._match(f.tokens.comma));this._consume(f.tokens.paren_right,"Expected ')' after function arguments.");let i=null;if(this._match(f.tokens.arrow)){const a=this._attribute();i=this._type_decl(),i!=null&&(i.attributes=a)}const o=this._compound_statement(),s=this._currentLine;return new ca(n,r,i,o,e,s)}_compound_statement(){const e=[];for(this._consume(f.tokens.brace_left,"Expected '{' for block.");!this._check(f.tokens.brace_right);){const n=this._statement();n!==null&&e.push(n)}return this._consume(f.tokens.brace_right,"Expected '}' for block."),e}_statement(){for(;this._match(f.tokens.semicolon)&&!this._isAtEnd(););if(this._check(f.tokens.attr)&&this._attribute(),this._check(f.keywords.if))return this._if_statement();if(this._check(f.keywords.switch))return this._switch_statement();if(this._check(f.keywords.loop))return this._loop_statement();if(this._check(f.keywords.for))return this._for_statement();if(this._check(f.keywords.while))return this._while_statement();if(this._check(f.keywords.continuing))return this._continuing_statement();if(this._check(f.keywords.static_assert))return this._static_assert_statement();if(this._check(f.tokens.brace_left))return this._compound_statement();let e=null;return this._check(f.keywords.return)?e=this._return_statement():this._check([f.keywords.var,f.keywords.let,f.keywords.const])?e=this._variable_statement():this._match(f.keywords.discard)?e=new Wm:this._match(f.keywords.break)?e=new Hm:this._match(f.keywords.continue)?e=new $m:e=this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement(),e!=null&&this._consume(f.tokens.semicolon,"Expected ';' after statement."),e}_static_assert_statement(){if(!this._match(f.keywords.static_assert))return null;const e=this._optional_paren_expression();return new Lm(e)}_while_statement(){if(!this._match(f.keywords.while))return null;const e=this._optional_paren_expression();this._check(f.tokens.attr)&&this._attribute();const n=this._compound_statement();return new Rm(e,n)}_continuing_statement(){if(!this._match(f.keywords.continuing))return null;const e=this._compound_statement();return new Am(e)}_for_statement(){if(!this._match(f.keywords.for))return null;this._consume(f.tokens.paren_left,"Expected '('.");const e=this._check(f.tokens.semicolon)?null:this._for_init();this._consume(f.tokens.semicolon,"Expected ';'.");const n=this._check(f.tokens.semicolon)?null:this._short_circuit_or_expression();this._consume(f.tokens.semicolon,"Expected ';'.");const r=this._check(f.tokens.paren_right)?null:this._for_increment();this._consume(f.tokens.paren_right,"Expected ')'."),this._check(f.tokens.attr)&&this._attribute();const i=this._compound_statement();return new zm(e,n,r,i)}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(f.keywords.var)){const e=this._variable_decl();if(e===null)throw this._error(this._peek(),"Variable declaration expected.");let n=null;return this._match(f.tokens.equal)&&(n=this._short_circuit_or_expression()),new en(e.name,e.type,e.storage,e.access,n)}if(this._match(f.keywords.let)){const e=this._consume(f.tokens.ident,"Expected name for let.").toString();let n=null;if(this._match(f.tokens.colon)){const i=this._attribute();n=this._type_decl(),n!=null&&(n.attributes=i)}this._consume(f.tokens.equal,"Expected '=' for let.");const r=this._short_circuit_or_expression();return new fa(e,n,null,null,r)}if(this._match(f.keywords.const)){const e=this._consume(f.tokens.ident,"Expected name for const.").toString();let n=null;if(this._match(f.tokens.colon)){const i=this._attribute();n=this._type_decl(),n!=null&&(n.attributes=i)}this._consume(f.tokens.equal,"Expected '=' for const.");const r=this._short_circuit_or_expression();return new Lu(e,n,null,null,r)}return null}_increment_decrement_statement(){const e=this._current,n=this._unary_expression();if(n==null)return null;if(!this._check(f.increment_operators))return this._current=e,null;const r=this._consume(f.increment_operators,"Expected increment operator");return new Om(r.type===f.tokens.plus_plus?Xn.increment:Xn.decrement,n)}_assignment_statement(){let e=null;if(this._check(f.tokens.brace_right))return null;let n=this._match(f.tokens.underscore);if(n||(e=this._unary_expression()),!n&&e==null)return null;const r=this._consume(f.assignment_operators,"Expected assignment operator."),i=this._short_circuit_or_expression();return new Dm(jr.parse(r.lexeme),e,i)}_func_call_statement(){if(!this._check(f.tokens.ident))return null;const e=this._current,n=this._consume(f.tokens.ident,"Expected function name."),r=this._argument_expression_list();return r===null?(this._current=e,null):new xd(n.lexeme,r)}_loop_statement(){if(!this._match(f.keywords.loop))return null;this._check(f.tokens.attr)&&this._attribute(),this._consume(f.tokens.brace_left,"Expected '{' for loop.");const e=[];let n=this._statement();for(;n!==null;){if(Array.isArray(n))for(let i of n)e.push(i);else e.push(n);n=this._statement()}let r=null;return this._match(f.keywords.continuing)&&(r=this._compound_statement()),this._consume(f.tokens.brace_right,"Expected '}' for loop."),new Im(e,r)}_switch_statement(){if(!this._match(f.keywords.switch))return null;const e=this._optional_paren_expression();this._check(f.tokens.attr)&&this._attribute(),this._consume(f.tokens.brace_left,"Expected '{' for switch.");const n=this._switch_body();if(n==null||n.length==0)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(f.tokens.brace_right,"Expected '}' for switch."),new Um(e,n)}_switch_body(){const e=[];if(this._match(f.keywords.case)){const n=this._case_selectors();this._match(f.tokens.colon),this._check(f.tokens.attr)&&this._attribute(),this._consume(f.tokens.brace_left,"Exected '{' for switch case.");const r=this._case_body();this._consume(f.tokens.brace_right,"Exected '}' for switch case."),e.push(new Zm(n,r))}if(this._match(f.keywords.default)){this._match(f.tokens.colon),this._check(f.tokens.attr)&&this._attribute(),this._consume(f.tokens.brace_left,"Exected '{' for switch default.");const n=this._case_body();this._consume(f.tokens.brace_right,"Exected '}' for switch default."),e.push(new Jm(n))}if(this._check([f.keywords.default,f.keywords.case])){const n=this._switch_body();e.push(n[0])}return e}_case_selectors(){const e=[this._shift_expression()];for(;this._match(f.tokens.comma);)e.push(this._shift_expression());return e}_case_body(){if(this._match(f.keywords.fallthrough))return this._consume(f.tokens.semicolon,"Expected ';'"),[];let e=this._statement();if(e==null)return[];e instanceof Array||(e=[e]);const n=this._case_body();return n.length==0?e:[...e,n[0]]}_if_statement(){if(!this._match(f.keywords.if))return null;const e=this._optional_paren_expression();this._check(f.tokens.attr)&&this._attribute();const n=this._compound_statement();let r=[];this._match_elseif()&&(this._check(f.tokens.attr)&&this._attribute(),r=this._elseif_statement(r));let i=null;return this._match(f.keywords.else)&&(this._check(f.tokens.attr)&&this._attribute(),i=this._compound_statement()),new Bm(e,n,r,i)}_match_elseif(){return this._tokens[this._current].type===f.keywords.else&&this._tokens[this._current+1].type===f.keywords.if?(this._advance(),this._advance(),!0):!1}_elseif_statement(e=[]){const n=this._optional_paren_expression(),r=this._compound_statement();return e.push(new tg(n,r)),this._match_elseif()&&(this._check(f.tokens.attr)&&this._attribute(),this._elseif_statement(e)),e}_return_statement(){if(!this._match(f.keywords.return))return null;const e=this._short_circuit_or_expression();return new Gm(e)}_short_circuit_or_expression(){let e=this._short_circuit_and_expr();for(;this._match(f.tokens.or_or);)e=new ct(this._previous().toString(),e,this._short_circuit_and_expr());return e}_short_circuit_and_expr(){let e=this._inclusive_or_expression();for(;this._match(f.tokens.and_and);)e=new ct(this._previous().toString(),e,this._inclusive_or_expression());return e}_inclusive_or_expression(){let e=this._exclusive_or_expression();for(;this._match(f.tokens.or);)e=new ct(this._previous().toString(),e,this._exclusive_or_expression());return e}_exclusive_or_expression(){let e=this._and_expression();for(;this._match(f.tokens.xor);)e=new ct(this._previous().toString(),e,this._and_expression());return e}_and_expression(){let e=this._equality_expression();for(;this._match(f.tokens.and);)e=new ct(this._previous().toString(),e,this._equality_expression());return e}_equality_expression(){const e=this._relational_expression();return this._match([f.tokens.equal_equal,f.tokens.not_equal])?new ct(this._previous().toString(),e,this._relational_expression()):e}_relational_expression(){let e=this._shift_expression();for(;this._match([f.tokens.less_than,f.tokens.greater_than,f.tokens.less_than_equal,f.tokens.greater_than_equal]);)e=new ct(this._previous().toString(),e,this._shift_expression());return e}_shift_expression(){let e=this._additive_expression();for(;this._match([f.tokens.shift_left,f.tokens.shift_right]);)e=new ct(this._previous().toString(),e,this._additive_expression());return e}_additive_expression(){let e=this._multiplicative_expression();for(;this._match([f.tokens.plus,f.tokens.minus]);)e=new ct(this._previous().toString(),e,this._multiplicative_expression());return e}_multiplicative_expression(){let e=this._unary_expression();for(;this._match([f.tokens.star,f.tokens.forward_slash,f.tokens.modulo]);)e=new ct(this._previous().toString(),e,this._unary_expression());return e}_unary_expression(){return this._match([f.tokens.minus,f.tokens.bang,f.tokens.tilde,f.tokens.star,f.tokens.and])?new Km(this._previous().toString(),this._unary_expression()):this._singular_expression()}_singular_expression(){const e=this._primary_expression(),n=this._postfix_expression();return n&&(e.postfix=n),e}_postfix_expression(){if(this._match(f.tokens.bracket_left)){const e=this._short_circuit_or_expression();this._consume(f.tokens.bracket_right,"Expected ']'.");const n=new Xm(e),r=this._postfix_expression();return r&&(n.postfix=r),n}if(this._match(f.tokens.period)){const e=this._consume(f.tokens.ident,"Expected member name."),n=this._postfix_expression(),r=new Ru(e.lexeme);return n&&(r.postfix=n),r}return null}_getStruct(e){return this._context.aliases.has(e)?this._context.aliases.get(e).type:this._context.structs.has(e)?this._context.structs.get(e):null}_primary_expression(){if(this._match(f.tokens.ident)){const r=this._previous().toString();if(this._check(f.tokens.paren_left)){const i=this._argument_expression_list(),o=this._getStruct(r);return o!=null?new An(o,i):new Td(r,i)}if(this._context.constants.has(r)){const i=this._context.constants.get(r);return new Au(r,i.value)}return new da(r)}if(this._match(f.const_literal))return new zu(parseFloat(this._previous().toString()));if(this._check(f.tokens.paren_left))return this._paren_expression();if(this._match(f.keywords.bitcast)){this._consume(f.tokens.less_than,"Expected '<'.");const r=this._type_decl();this._consume(f.tokens.greater_than,"Expected '>'.");const i=this._paren_expression();return new Ym(r,i)}const e=this._type_decl(),n=this._argument_expression_list();return new Qm(e,n)}_argument_expression_list(){if(!this._match(f.tokens.paren_left))return null;const e=[];do{if(this._check(f.tokens.paren_right))break;const n=this._short_circuit_or_expression();e.push(n)}while(this._match(f.tokens.comma));return this._consume(f.tokens.paren_right,"Expected ')' for agument list"),e}_optional_paren_expression(){this._match(f.tokens.paren_left);const e=this._short_circuit_or_expression();return this._match(f.tokens.paren_right),new Ou([e])}_paren_expression(){this._consume(f.tokens.paren_left,"Expected '('.");const e=this._short_circuit_or_expression();return this._consume(f.tokens.paren_right,"Expected ')'."),new Ou([e])}_struct_decl(){if(!this._match(f.keywords.struct))return null;const e=this._currentLine,n=this._consume(f.tokens.ident,"Expected name for struct.").toString();this._consume(f.tokens.brace_left,"Expected '{' for struct body.");const r=[];for(;!this._check(f.tokens.brace_right);){const s=this._attribute(),a=this._consume(f.tokens.ident,"Expected variable name.").toString();this._consume(f.tokens.colon,"Expected ':' for struct member type.");const l=this._attribute(),c=this._type_decl();c!=null&&(c.attributes=l),this._check(f.tokens.brace_right)?this._match(f.tokens.comma):this._consume(f.tokens.comma,"Expected ',' for struct member."),r.push(new ng(a,c,s))}this._consume(f.tokens.brace_right,"Expected '}' after struct body.");const i=this._currentLine,o=new Jt(n,r,e,i);return this._context.structs.set(n,o),o}_global_variable_decl(){const e=this._variable_decl();return e&&this._match(f.tokens.equal)&&(e.value=this._const_expression()),e}_override_variable_decl(){const e=this._override_decl();return e&&this._match(f.tokens.equal)&&(e.value=this._const_expression()),e}_global_const_decl(){if(!this._match(f.keywords.const))return null;const e=this._consume(f.tokens.ident,"Expected variable name");let n=null;if(this._match(f.tokens.colon)){const o=this._attribute();n=this._type_decl(),n!=null&&(n.attributes=o)}let r=null;if(this._match(f.tokens.equal)){const o=this._short_circuit_or_expression();if(o instanceof An)r=o;else if(o instanceof Au&&o.initializer instanceof An)r=o.initializer;else try{const s=o.evaluate(this._context);r=new zu(s)}catch{r=o}}const i=new Lu(e.toString(),n,"","",r);return this._context.constants.set(i.name,i),i}_global_let_decl(){if(!this._match(f.keywords.let))return null;const e=this._consume(f.tokens.ident,"Expected variable name");let n=null;if(this._match(f.tokens.colon)){const i=this._attribute();n=this._type_decl(),n!=null&&(n.attributes=i)}let r=null;return this._match(f.tokens.equal)&&(r=this._const_expression()),new fa(e.toString(),n,"","",r)}_const_expression(){if(this._match(f.const_literal))return new Ru(this._previous().toString());const e=this._type_decl();this._consume(f.tokens.paren_left,"Expected '('.");let n=[];for(;!this._check(f.tokens.paren_right)&&(n.push(this._const_expression()),!!this._check(f.tokens.comma));)this._advance();return this._consume(f.tokens.paren_right,"Expected ')'."),new An(e,n)}_variable_decl(){if(!this._match(f.keywords.var))return null;let e="",n="";this._match(f.tokens.less_than)&&(e=this._consume(f.storage_class,"Expected storage_class.").toString(),this._match(f.tokens.comma)&&(n=this._consume(f.access_mode,"Expected access_mode.").toString()),this._consume(f.tokens.greater_than,"Expected '>'."));const r=this._consume(f.tokens.ident,"Expected variable name");let i=null;if(this._match(f.tokens.colon)){const o=this._attribute();i=this._type_decl(),i!=null&&(i.attributes=o)}return new en(r.toString(),i,e,n,null)}_override_decl(){if(!this._match(f.keywords.override))return null;const e=this._consume(f.tokens.ident,"Expected variable name");let n=null;if(this._match(f.tokens.colon)){const r=this._attribute();n=this._type_decl(),n!=null&&(n.attributes=r)}return new wd(e.toString(),n,null)}_diagnostic(){this._consume(f.tokens.paren_left,"Expected '('");const e=this._consume(f.tokens.ident,"Expected severity control name.");this._consume(f.tokens.comma,"Expected ','");const n=this._consume(f.tokens.ident,"Expected diagnostic rule name.");return this._consume(f.tokens.paren_right,"Expected ')'"),new jm(e.toString(),n.toString())}_enable_directive(){const e=this._consume(f.tokens.ident,"identity expected.");return new Vm(e.toString())}_requires_directive(){const e=[this._consume(f.tokens.ident,"identity expected.").toString()];for(;this._match(f.tokens.comma);){const n=this._consume(f.tokens.ident,"identity expected.");e.push(n.toString())}return new Fm(e)}_type_alias(){const e=this._consume(f.tokens.ident,"identity expected.");this._consume(f.tokens.equal,"Expected '=' for type alias.");let n=this._type_decl();if(n===null)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(n.name)&&(n=this._context.aliases.get(n.name).type);const r=new kd(e.toString(),n);return this._context.aliases.set(r.name,r),r}_type_decl(){if(this._check([f.tokens.ident,...f.texel_format,f.keywords.bool,f.keywords.f32,f.keywords.i32,f.keywords.u32])){const r=this._advance(),i=r.toString();return this._context.structs.has(i)?this._context.structs.get(i):this._context.aliases.has(i)?this._context.aliases.get(i).type:new gn(r.toString())}let e=this._texture_sampler_types();if(e)return e;if(this._check(f.template_types)){let r=this._advance().toString(),i=null,o=null;return this._match(f.tokens.less_than)&&(i=this._type_decl(),o=null,this._match(f.tokens.comma)&&(o=this._consume(f.access_mode,"Expected access_mode for pointer").toString()),this._consume(f.tokens.greater_than,"Expected '>' for type.")),new Sd(r,i,o)}if(this._match(f.keywords.ptr)){let r=this._previous().toString();this._consume(f.tokens.less_than,"Expected '<' for pointer.");const i=this._consume(f.storage_class,"Expected storage_class for pointer");this._consume(f.tokens.comma,"Expected ',' for pointer.");const o=this._type_decl();let s=null;return this._match(f.tokens.comma)&&(s=this._consume(f.access_mode,"Expected access_mode for pointer").toString()),this._consume(f.tokens.greater_than,"Expected '>' for pointer."),new qm(r,i.toString(),o,s)}const n=this._attribute();if(this._match(f.keywords.array)){let r=null,i=-1;const o=this._previous();let s=null;if(this._match(f.tokens.less_than)){r=this._type_decl(),this._context.aliases.has(r.name)&&(r=this._context.aliases.get(r.name).type);let l="";if(this._match(f.tokens.comma)){s=this._shift_expression();try{l=s.evaluate(this._context).toString(),s=null}catch{l="1"}}this._consume(f.tokens.greater_than,"Expected '>' for array."),i=l?parseInt(l):0}const a=new Ed(o.toString(),n,r,i);return s&&this._deferArrayCountEval.push({arrayType:a,countNode:s}),a}return null}_texture_sampler_types(){if(this._match(f.sampler_type))return new gr(this._previous().toString(),null,null);if(this._match(f.depth_texture_type))return new gr(this._previous().toString(),null,null);if(this._match(f.sampled_texture_type)||this._match(f.multisampled_texture_type)){const e=this._previous();this._consume(f.tokens.less_than,"Expected '<' for sampler type.");const n=this._type_decl();return this._consume(f.tokens.greater_than,"Expected '>' for sampler type."),new gr(e.toString(),n,null)}if(this._match(f.storage_texture_type)){const e=this._previous();this._consume(f.tokens.less_than,"Expected '<' for sampler type.");const n=this._consume(f.texel_format,"Invalid texel format.").toString();this._consume(f.tokens.comma,"Expected ',' after texel format.");const r=this._consume(f.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(f.tokens.greater_than,"Expected '>' for sampler type."),new gr(e.toString(),n,r)}return null}_attribute(){let e=[];for(;this._match(f.tokens.attr);){const n=this._consume(f.attribute_name,"Expected attribute name"),r=new Du(n.toString(),null);if(this._match(f.tokens.paren_left)){if(r.value=this._consume(f.literal_or_ident,"Expected attribute value").toString(),this._check(f.tokens.comma)){this._advance();do{const i=this._consume(f.literal_or_ident,"Expected attribute value").toString();r.value instanceof Array||(r.value=[r.value]),r.value.push(i)}while(this._match(f.tokens.comma))}this._consume(f.tokens.paren_right,"Expected ')'")}e.push(r)}for(;this._match(f.tokens.attr_left);){if(!this._check(f.tokens.attr_right))do{const n=this._consume(f.attribute_name,"Expected attribute name"),r=new Du(n.toString(),null);if(this._match(f.tokens.paren_left)){if(r.value=[this._consume(f.literal_or_ident,"Expected attribute value").toString()],this._check(f.tokens.comma)){this._advance();do{const i=this._consume(f.literal_or_ident,"Expected attribute value").toString();r.value.push(i)}while(this._match(f.tokens.comma))}this._consume(f.tokens.paren_right,"Expected ')'")}e.push(r)}while(this._match(f.tokens.comma));this._consume(f.tokens.attr_right,"Expected ']]' after attribute declarations")}return e.length==0?null:e}}class Fn{constructor(e,n){this.name=e,this.attributes=n,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}}class Uu{constructor(e,n,r){this.name=e,this.type=n,this.attributes=r,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray?this.type.format:this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class yi extends Fn{constructor(e,n){super(e,n),this.members=[],this.align=0,this.startLine=-1,this.endLine=-1,this.inUse=!1}get isStruct(){return!0}}class ss extends Fn{constructor(e,n){super(e,n),this.count=0,this.stride=0}get isArray(){return!0}}class Bu extends Fn{constructor(e,n,r,i){super(e,r),this.format=n,this.access=i}get isTemplate(){return!0}}var _e;(function(t){t[t.Uniform=0]="Uniform",t[t.Storage=1]="Storage",t[t.Texture=2]="Texture",t[t.Sampler=3]="Sampler",t[t.StorageTexture=4]="StorageTexture"})(_e||(_e={}));class vi{constructor(e,n,r,i,o,s,a){this.name=e,this.type=n,this.group=r,this.binding=i,this.attributes=o,this.resourceType=s,this.access=a}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray?this.type.format:this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class og{constructor(e,n){this.name=e,this.type=n}}class _i{constructor(e,n){this.align=e,this.size=n}}class sg{constructor(e,n,r,i){this.name=e,this.type=n,this.locationType=r,this.location=i,this.interpolation=null}}class Gu{constructor(e,n,r,i){this.name=e,this.type=n,this.locationType=r,this.location=i}}class ag{constructor(e,n=null){this.stage=null,this.inputs=[],this.outputs=[],this.resources=[],this.startLine=-1,this.endLine=-1,this.inUse=!1,this.calls=new Set,this.name=e,this.stage=n}}class lg{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}}class ug{constructor(e,n,r,i){this.name=e,this.type=n,this.attributes=r,this.id=i}}class cg{constructor(e){this.resources=null,this.inUse=!1,this.info=null,this.node=e}}class kt{constructor(e){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new lg,this.functions=[],this._types=new Map,this._functions=new Map,e&&this.update(e)}_isStorageTexture(e){return e.name=="texture_storage_1d"||e.name=="texture_storage_2d"||e.name=="texture_storage_2d_array"||e.name=="texture_storage_3d"}update(e){const r=new ig().parse(e);for(const i of r)i instanceof ca&&this._functions.set(i.name,new cg(i));for(const i of r)if(i instanceof Jt){const o=this._getTypeInfo(i,null);o instanceof yi&&this.structs.push(o)}for(const i of r){if(i instanceof kd){this.aliases.push(this._getAliasInfo(i));continue}if(i instanceof wd){const o=i,s=this._getAttributeNum(o.attributes,"id",0),a=o.type!=null?this._getTypeInfo(o.type,o.attributes):null;this.overrides.push(new ug(o.name,a,o.attributes,s));continue}if(this._isUniformVar(i)){const o=i,s=this._getAttributeNum(o.attributes,"group",0),a=this._getAttributeNum(o.attributes,"binding",0),l=this._getTypeInfo(o.type,o.attributes),c=new vi(o.name,l,s,a,o.attributes,_e.Uniform,o.access);this.uniforms.push(c);continue}if(this._isStorageVar(i)){const o=i,s=this._getAttributeNum(o.attributes,"group",0),a=this._getAttributeNum(o.attributes,"binding",0),l=this._getTypeInfo(o.type,o.attributes),c=this._isStorageTexture(l),u=new vi(o.name,l,s,a,o.attributes,c?_e.StorageTexture:_e.Storage,o.access);this.storage.push(u);continue}if(this._isTextureVar(i)){const o=i,s=this._getAttributeNum(o.attributes,"group",0),a=this._getAttributeNum(o.attributes,"binding",0),l=this._getTypeInfo(o.type,o.attributes),c=this._isStorageTexture(l),u=new vi(o.name,l,s,a,o.attributes,c?_e.StorageTexture:_e.Texture,o.access);c?this.storage.push(u):this.textures.push(u);continue}if(this._isSamplerVar(i)){const o=i,s=this._getAttributeNum(o.attributes,"group",0),a=this._getAttributeNum(o.attributes,"binding",0),l=this._getTypeInfo(o.type,o.attributes),c=new vi(o.name,l,s,a,o.attributes,_e.Sampler,o.access);this.samplers.push(c);continue}if(i instanceof ca){const o=this._getAttribute(i,"vertex"),s=this._getAttribute(i,"fragment"),a=this._getAttribute(i,"compute"),l=o||s||a,c=new ag(i.name,l==null?void 0:l.name);c.startLine=i.startLine,c.endLine=i.endLine,this.functions.push(c),this._functions.get(i.name).info=c,l&&(this._functions.get(i.name).inUse=!0,c.inUse=!0,c.resources=this._findResources(i,!!l),c.inputs=this._getInputs(i.args),c.outputs=this._getOutputs(i.returnType),this.entry[l.name].push(c));continue}}for(const i of this._functions.values())i.info&&(i.info.inUse=i.inUse,this._addCalls(i.node,i.info.calls));for(const i of this.uniforms)this._markStructsInUse(i.type);for(const i of this.storage)this._markStructsInUse(i.type)}_markStructsInUse(e){if(e.isStruct){e.inUse=!0;for(const n of e.members)this._markStructsInUse(n.type)}else if(e.isArray)this._markStructsInUse(e.format);else if(e.isTemplate)this._markStructsInUse(e.format);else{const n=this._getAlias(e.name);n&&this._markStructsInUse(n)}}_addCalls(e,n){var r;for(const i of e.calls){const o=(r=this._functions.get(i.name))===null||r===void 0?void 0:r.info;o&&n.add(o)}}findResource(e,n){for(const r of this.uniforms)if(r.group==e&&r.binding==n)return r;for(const r of this.storage)if(r.group==e&&r.binding==n)return r;for(const r of this.textures)if(r.group==e&&r.binding==n)return r;for(const r of this.samplers)if(r.group==e&&r.binding==n)return r;return null}_findResource(e){for(const n of this.uniforms)if(n.name==e)return n;for(const n of this.storage)if(n.name==e)return n;for(const n of this.textures)if(n.name==e)return n;for(const n of this.samplers)if(n.name==e)return n;return null}_markStructsFromAST(e){const n=this._getTypeInfo(e,null);this._markStructsInUse(n)}_findResources(e,n){const r=[],i=this,o=[];return e.search(s=>{if(s instanceof oo)o.push({});else if(s instanceof so)o.pop();else if(s instanceof en){const a=s;n&&a.type!==null&&this._markStructsFromAST(a.type),o.length>0&&(o[o.length-1][a.name]=a)}else if(s instanceof An){const a=s;n&&a.type!==null&&this._markStructsFromAST(a.type)}else if(s instanceof fa){const a=s;n&&a.type!==null&&this._markStructsFromAST(a.type),o.length>0&&(o[o.length-1][a.name]=a)}else if(s instanceof da){const a=s;if(o.length>0&&o[o.length-1][a.name])return;const l=i._findResource(a.name);l&&r.push(l)}else if(s instanceof Td){const a=s,l=i._functions.get(a.name);l&&(n&&(l.inUse=!0),e.calls.add(l.node),l.resources===null&&(l.resources=i._findResources(l.node,n)),r.push(...l.resources))}else if(s instanceof xd){const a=s,l=i._functions.get(a.name);l&&(n&&(l.inUse=!0),e.calls.add(l.node),l.resources===null&&(l.resources=i._findResources(l.node,n)),r.push(...l.resources))}}),[...new Map(r.map(s=>[s.name,s])).values()]}getBindGroups(){const e=[];function n(r,i){r>=e.length&&(e.length=r+1),e[r]===void 0&&(e[r]=[]),i>=e[r].length&&(e[r].length=i+1)}for(const r of this.uniforms){n(r.group,r.binding);const i=e[r.group];i[r.binding]=r}for(const r of this.storage){n(r.group,r.binding);const i=e[r.group];i[r.binding]=r}for(const r of this.textures){n(r.group,r.binding);const i=e[r.group];i[r.binding]=r}for(const r of this.samplers){n(r.group,r.binding);const i=e[r.group];i[r.binding]=r}return e}_getOutputs(e,n=void 0){if(n===void 0&&(n=[]),e instanceof Jt)this._getStructOutputs(e,n);else{const r=this._getOutputInfo(e);r!==null&&n.push(r)}return n}_getStructOutputs(e,n){for(const r of e.members)if(r.type instanceof Jt)this._getStructOutputs(r.type,n);else{const i=this._getAttribute(r,"location")||this._getAttribute(r,"builtin");if(i!==null){const o=this._getTypeInfo(r.type,r.type.attributes),s=this._parseInt(i.value),a=new Gu(r.name,o,i.name,s);n.push(a)}}}_getOutputInfo(e){const n=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(n!==null){const r=this._getTypeInfo(e,e.attributes),i=this._parseInt(n.value);return new Gu("",r,n.name,i)}return null}_getInputs(e,n=void 0){n===void 0&&(n=[]);for(const r of e)if(r.type instanceof Jt)this._getStructInputs(r.type,n);else{const i=this._getInputInfo(r);i!==null&&n.push(i)}return n}_getStructInputs(e,n){for(const r of e.members)if(r.type instanceof Jt)this._getStructInputs(r.type,n);else{const i=this._getInputInfo(r);i!==null&&n.push(i)}}_getInputInfo(e){const n=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(n!==null){const r=this._getAttribute(e,"interpolation"),i=this._getTypeInfo(e.type,e.attributes),o=this._parseInt(n.value),s=new sg(e.name,i,n.name,o);return r!==null&&(s.interpolation=this._parseString(r.value)),s}return null}_parseString(e){return e instanceof Array&&(e=e[0]),e}_parseInt(e){e instanceof Array&&(e=e[0]);const n=parseInt(e);return isNaN(n)?e:n}_getAlias(e){for(const n of this.aliases)if(n.name==e)return n.type;return null}_getAliasInfo(e){return new og(e.name,this._getTypeInfo(e.type,null))}_getTypeInfo(e,n){if(this._types.has(e))return this._types.get(e);if(e instanceof Ed){const i=e,o=this._getTypeInfo(i.format,i.attributes),s=new ss(i.name,n);return s.format=o,s.count=i.count,this._types.set(e,s),this._updateTypeInfo(s),s}if(e instanceof Jt){const i=e,o=new yi(i.name,n);o.startLine=i.startLine,o.endLine=i.endLine;for(const s of i.members){const a=this._getTypeInfo(s.type,s.attributes);o.members.push(new Uu(s.name,a,s.attributes))}return this._types.set(e,o),this._updateTypeInfo(o),o}if(e instanceof gr){const i=e,o=i.format instanceof gn,s=i.format?o?this._getTypeInfo(i.format,null):new Fn(i.format,null):null,a=new Bu(i.name,s,n,i.access);return this._types.set(e,a),this._updateTypeInfo(a),a}if(e instanceof Sd){const i=e,o=i.format?this._getTypeInfo(i.format,null):null,s=new Bu(i.name,o,n,i.access);return this._types.set(e,s),this._updateTypeInfo(s),s}const r=new Fn(e.name,n);return this._types.set(e,r),this._updateTypeInfo(r),r}_updateTypeInfo(e){var n,r;const i=this._getTypeSize(e);if(e.size=(n=i==null?void 0:i.size)!==null&&n!==void 0?n:0,e instanceof ss){const o=this._getTypeSize(e.format);e.stride=(r=o==null?void 0:o.size)!==null&&r!==void 0?r:0,this._updateTypeInfo(e.format)}e instanceof yi&&this._updateStructInfo(e)}_updateStructInfo(e){var n;let r=0,i=0,o=0,s=0;for(let a=0,l=e.members.length;a<l;++a){const c=e.members[a],u=this._getTypeSize(c);if(!u)continue;(n=this._getAlias(c.type.name))!==null&&n!==void 0||c.type;const p=u.align,m=u.size;r=this._roundUp(p,r+i),i=m,o=r,s=Math.max(s,p),c.offset=r,c.size=m,this._updateTypeInfo(c.type)}e.size=this._roundUp(s,o+i),e.align=s}_getTypeSize(e){var n;if(e==null)return null;const r=this._getAttributeNum(e.attributes,"size",0),i=this._getAttributeNum(e.attributes,"align",0);if(e instanceof Uu&&(e=e.type),e instanceof Fn){const o=this._getAlias(e.name);o!==null&&(e=o)}{const o=kt._typeInfo[e.name];if(o!==void 0){const s=e.format==="f16"?2:1;return new _i(Math.max(i,o.align/s),Math.max(r,o.size/s))}}{const o=kt._typeInfo[e.name.substring(0,e.name.length-1)];if(o){const s=e.name[e.name.length-1]==="h"?2:1;return new _i(Math.max(i,o.align/s),Math.max(r,o.size/s))}}if(e instanceof ss){let o=e,s=8,a=8;const l=this._getTypeSize(o.format);l!==null&&(a=l.size,s=l.align);const c=o.count,u=this._getAttributeNum((n=e==null?void 0:e.attributes)!==null&&n!==void 0?n:null,"stride",this._roundUp(s,a));return a=c*u,r&&(a=r),new _i(Math.max(i,s),Math.max(r,a))}if(e instanceof yi){let o=0,s=0,a=0,l=0,c=0;for(const u of e.members){const p=this._getTypeSize(u.type);p!==null&&(o=Math.max(p.align,o),a=this._roundUp(p.align,a+l),l=p.size,c=a)}return s=this._roundUp(o,c+l),new _i(Math.max(i,o),Math.max(r,s))}return null}_isUniformVar(e){return e instanceof en&&e.storage=="uniform"}_isStorageVar(e){return e instanceof en&&e.storage=="storage"}_isTextureVar(e){return e instanceof en&&e.type!==null&&kt._textureTypes.indexOf(e.type.name)!=-1}_isSamplerVar(e){return e instanceof en&&e.type!==null&&kt._samplerTypes.indexOf(e.type.name)!=-1}_getAttribute(e,n){const r=e;if(!r||!r.attributes)return null;const i=r.attributes;for(let o of i)if(o.name==n)return o;return null}_getAttributeNum(e,n,r){if(e===null)return r;for(let i of e)if(i.name==n){let o=i!==null&&i.value!==null?i.value:r;return o instanceof Array&&(o=o[0]),typeof o=="number"?o:typeof o=="string"?parseInt(o):r}return r}_roundUp(e,n){return Math.ceil(n/e)*e}}kt._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}};kt._textureTypes=f.any_texture_type.map(t=>t.name);kt._samplerTypes=f.sampler_type.map(t=>t.name);function vn(t,e){return Object.fromEntries(e.map(n=>{const r=gg(t,n,0);return[n.name,{typeDefinition:r,group:n.group,binding:n.binding,size:r.size}]}))}function Pd(t,e,n){return{fields:Object.fromEntries(e.members.map(i=>[i.name,{offset:i.offset,type:hl(t,i.type,0)}])),size:e.size,offset:n}}function fg(t){var e;if(t.name.includes("depth"))return"depth";switch((e=t.format)==null?void 0:e.name){case"f32":return"float";case"i32":return"sint";case"u32":return"uint";default:throw new Error("unknown texture sample type")}}function Vu(t){return t.name.includes("2d_array")?"2d-array":t.name.includes("cube_array")?"cube-array":t.name.includes("3d")?"3d":t.name.includes("1d")?"1d":t.name.includes("cube")?"cube":"2d"}function dg(t){switch(t.access){case"read":return"read-only";case"write":return"write-only";case"read_write":return"read-write";default:throw new Error("unknonw storage texture access")}}function hg(t){return t.name.endsWith("_comparison")?"comparison":"filtering"}function pg(t,e){const{binding:n,access:r,type:i}=t;switch(t.resourceType){case _e.Uniform:return{binding:n,visibility:e,buffer:{...t.size&&{minBindingSize:t.size}}};case _e.Storage:return{binding:n,visibility:e,buffer:{type:r===""||r==="read"?"read-only-storage":"storage",...t.size&&{minBindingSize:t.size}}};case _e.Texture:{if(i.name==="texture_external")return{binding:n,visibility:e,externalTexture:{}};const o=i.name.includes("multisampled");return{binding:n,visibility:e,texture:{sampleType:fg(i),viewDimension:Vu(i),multisampled:o}}}case _e.Sampler:return{binding:n,visibility:e,sampler:{type:hg(i)}};case _e.StorageTexture:return{binding:n,visibility:e,storageTexture:{access:dg(i),format:i.format.name,viewDimension:Vu(i)}};default:throw new Error("unknown resource type")}}function as(t,e){const n={};for(const r of t)n[r.name]={stage:e,resources:r.resources.map(i=>{const{name:o,group:s}=i;return{name:o,group:s,entry:pg(i,e)}})};return n}function mg(t){const e=new kt(t),n=Object.fromEntries(e.structs.map(u=>[u.name,Pd(e,u,0)])),r=vn(e,e.uniforms),i=vn(e,e.storage.filter(u=>u.resourceType===_e.Storage)),o=vn(e,e.storage.filter(u=>u.resourceType===_e.StorageTexture)),s=vn(e,e.textures.filter(u=>u.type.name!=="texture_external")),a=vn(e,e.textures.filter(u=>u.type.name==="texture_external")),l=vn(e,e.samplers),c={...as(e.entry.vertex,GPUShaderStage.VERTEX),...as(e.entry.fragment,GPUShaderStage.FRAGMENT),...as(e.entry.compute,GPUShaderStage.COMPUTE)};return{externalTextures:a,samplers:l,structs:n,storages:i,storageTextures:o,textures:s,uniforms:r,entryPoints:c}}function ls(t,e=""){if(!t)throw new Error(e)}function gg(t,e,n){switch(e.resourceType){case _e.Uniform:case _e.Storage:case _e.StorageTexture:return hl(t,e.type,n);default:return{size:0,type:e.type.name}}}function hl(t,e,n){if(e.isArray){ls(!e.isStruct,"struct array is invalid"),ls(!e.isStruct,"template array is invalid");const r=e;return{size:r.size,elementType:hl(t,r.format,n),numElements:r.count}}else{if(e.isStruct)return ls(!e.isTemplate,"template struct is invalid"),Pd(t,e,n);{const r=e,i=e.isTemplate?`${r.name}<${r.format.name}>`:e.name;return{size:e.size,type:i}}}}const yg=new Map([[Int8Array,{formats:["sint8","snorm8"],defaultForType:1}],[Uint8Array,{formats:["uint8","unorm8"],defaultForType:1}],[Int16Array,{formats:["sint16","snorm16"],defaultForType:1}],[Uint16Array,{formats:["uint16","unorm16"],defaultForType:1}],[Int32Array,{formats:["sint32","snorm32"],defaultForType:0}],[Uint32Array,{formats:["uint32","unorm32"],defaultForType:0}],[Float32Array,{formats:["float32","float32"],defaultForType:0}]]);new Map([...yg.entries()].map(([t,{formats:[e,n]}])=>[[e,t],[n,t]]).flat());async function _n(t){const n=await(await fetch(t)).blob();return await createImageBitmap(n,{colorSpaceConversion:"none"})}const Fu="/shader-app/assets/cat_square-CGGEHVTQ.png",vg="/shader-app/assets/dog_swimming-EycY0dhu.webm",_g="/shader-app/assets/Sun1-DiZjhxiP.webp",wg="/shader-app/assets/WhiteWoodPlank-BZjQ534N.jpg",xg="/shader-app/assets/WoodPlank2-CfsoE2md.jpg",us=4,ju=4,Wu=mg(dd),Nd=[{name:"None",bitmap:await _n(Fu)},{name:"kitty",bitmap:await _n(Fu)},{name:"DogVideo",videoURL:vg,video:document.createElement("video")},{name:"GranitePaving",bitmap:await _n("https://webgpufundamentals.org/webgpu/resources/images/Granite_paving_tileable_512x512.jpeg")},{name:"WhiteWoodPlank",bitmap:await _n(wg)},{name:"WoodPlank2",bitmap:await _n(xg)},{name:"Sun",bitmap:await _n(_g)}];Nd.forEach(t=>{const e=t.video,n=t.videoURL;e&&n&&(e.muted=!0,e.loop=!0,e.preload="auto",e.autoplay=!0,e.src=t.videoURL,e.play())});class kg{constructor(e,n,r,i){lt(this,"device");lt(this,"contexts");lt(this,"pingPongIndex");lt(this,"gridSize");lt(this,"pipelines");lt(this,"bindGroupLayouts");lt(this,"textureBitmap");const o=navigator.gpu.getPreferredCanvasFormat();n.forEach(S=>{S.configure({device:e,format:o,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_DST})});const s=e.createShaderModule({label:"Render Geometry Shader module",code:dd}),a=e.createBindGroupLayout({label:"Render Geometry Bind Group layout",entries:[{binding:1,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,buffer:{type:"read-only-storage"}},{binding:2,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,texture:{}},{binding:3,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,sampler:{}},{binding:4,visibility:GPUShaderStage.FRAGMENT,buffer:{type:"uniform"}},{binding:5,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,buffer:{type:"read-only-storage"}},{binding:6,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,buffer:{type:"read-only-storage"}},{binding:7,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,buffer:{type:"uniform"}},{binding:9,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,buffer:{type:"read-only-storage"}},{binding:10,visibility:GPUShaderStage.FRAGMENT,texture:{sampleType:"depth",viewDimension:"2d-array"}},{binding:11,visibility:GPUShaderStage.FRAGMENT,sampler:{}},{binding:12,visibility:GPUShaderStage.FRAGMENT,buffer:{type:"read-only-storage"}},{binding:13,visibility:GPUShaderStage.FRAGMENT,buffer:{type:"uniform"}},{binding:14,visibility:GPUShaderStage.FRAGMENT,buffer:{type:"uniform"}},{binding:15,visibility:GPUShaderStage.FRAGMENT,buffer:{type:"uniform"}}]}),l=e.createBindGroupLayout({label:"Textures Bind Group layout",entries:[{binding:0,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,texture:{}},{binding:1,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,buffer:{}}]}),c=e.createBindGroupLayout({label:"DirectionalLightMatrix Bind Group layout",entries:[{binding:0,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,buffer:{}}]}),u=e.createPipelineLayout({bindGroupLayouts:[a,l]}),p=e.createRenderPipeline({label:"Render Geometry pipeline",layout:u,vertex:{module:s,entryPoint:"vertexMain",buffers:[{arrayStride:4*3,attributes:[{shaderLocation:0,offset:0,format:"float32x3"}]},{arrayStride:4*2,attributes:[{shaderLocation:1,offset:0,format:"float32x2"}]},{arrayStride:4*6,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float32x4"},{shaderLocation:3,offset:16,format:"float32"},{shaderLocation:4,offset:20,format:"float32"}]}]},fragment:{module:s,entryPoint:"fragmentMain",targets:[{format:o,blend:{color:{operation:"add",srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha"},alpha:{operation:"add",srcFactor:"src-alpha",dstFactor:"src-alpha"}}},{format:"bgra8unorm"}]},primitive:{cullMode:"back"},depthStencil:{depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus"}});this.device=e,this.contexts=n,this.pingPongIndex=0,this.gridSize=r;const[m,x]=this.CreateBasicPipeline(hm,"PostProcess",[{binding:0,visibility:GPUShaderStage.FRAGMENT,sampler:{}},{binding:1,visibility:GPUShaderStage.FRAGMENT,texture:{}},{binding:2,visibility:GPUShaderStage.FRAGMENT,texture:{}},{binding:3,visibility:GPUShaderStage.FRAGMENT,texture:{sampleType:"depth",viewDimension:"2d-array"}}]),[k,w]=this.CreateBasicPipeline(fm,"BlurFilter",[{binding:0,visibility:GPUShaderStage.FRAGMENT,sampler:{}},{binding:1,visibility:GPUShaderStage.FRAGMENT,texture:{}},{binding:2,visibility:GPUShaderStage.FRAGMENT,buffer:{}}]),z=e.createShaderModule({label:"ShadowMap Module",code:dm}),d=e.createBindGroupLayout({label:"ShadowMap Bind Group Layout",entries:[{binding:0,visibility:GPUShaderStage.VERTEX,buffer:{type:"read-only-storage"}}]}),h=e.createPipelineLayout({bindGroupLayouts:[d,c]}),g=e.createRenderPipeline({label:"ShadowMap pipeline",layout:h,vertex:{module:z,entryPoint:"vertexMain",buffers:[{arrayStride:4*3,attributes:[{shaderLocation:0,offset:0,format:"float32x3"}]},{arrayStride:4*6,stepMode:"instance",attributes:[{shaderLocation:1,offset:16,format:"float32"}]}]},fragment:void 0,primitive:{cullMode:"front"},depthStencil:{depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus"}});this.pipelines={RenderGeometryPipeline:p,BlurFilterPipeline:k,PostProcessPipeline:m,ShadowMapPipeline:g},this.bindGroupLayouts={RenderGeometryBindGroupLayout:a,TexturesBindGroupLayout:l,BlurFilterBindGroupLayout:w,PostProcessBindGroupLayout:x,ShadowMapBindGroupLayout:d,DirectionalLightMatrixBindGroupLayout:c},this.textureBitmap=i}Render(){const e=this.CreateBuffersAndBindGroups(),n=this.device.createCommandEncoder(),r=e.buffers,i=e.bindGroups,o=e.textures,s=this.contexts[0].getCurrentTexture(),a=this.device.createTexture({size:[s.width,s.height],format:"depth24plus",usage:GPUTextureUsage.RENDER_ATTACHMENT});if(E.ShadowsEnabled)for(let u=0;u<E.ShadowCascadeLevels.length+1;u++){const p=n.beginRenderPass({colorAttachments:[],depthStencilAttachment:{view:o.ShadowMapAttachment.createView({baseArrayLayer:u,arrayLayerCount:1}),depthClearValue:1,depthLoadOp:"clear",depthStoreOp:"store"}});p.setPipeline(this.pipelines.ShadowMapPipeline),p.setBindGroup(0,i.ShadowMapBindGroup),p.setBindGroup(1,i.DirectionalLightMatrixBindGroups[u]),e.OffsetData.forEach(m=>{m.DontCastShadow||(p.setVertexBuffer(0,r.GeometryVertex,m.VertexOffset,m.VertexSize),p.setVertexBuffer(1,r.GeometryInstanceData,m.InstanceDataOffset,m.InstanceDataSize),p.setIndexBuffer(r.GeometryIndex,"uint32",m.IndexOffset,m.IndexSize),p.drawIndexed(m.IndexSize/4))}),p.end()}n.copyTextureToTexture({texture:o.ShadowMapAttachment},{texture:o.ShadowMapBindable},{width:1024,height:1024,depthOrArrayLayers:E.ShadowCascadeLevels.length+1});{const u=n.beginRenderPass({colorAttachments:[{view:o.RenderGeometryAttachment.createView(),loadOp:"clear",clearValue:{r:.08,g:.08,b:.08,a:1},storeOp:"store"},{view:o.BlurFilterAttachment.createView(),loadOp:"clear",clearValue:{r:0,g:0,b:0,a:1},storeOp:"store"}],depthStencilAttachment:{view:a.createView(),depthClearValue:1,depthLoadOp:"clear",depthStoreOp:"store"}});u.setPipeline(this.pipelines.RenderGeometryPipeline),u.setBindGroup(0,i.RenderGeometryBindGroup),e.OffsetData.forEach(p=>{u.setVertexBuffer(0,r.GeometryVertex,p.VertexOffset,p.VertexSize),u.setVertexBuffer(1,r.GeometryVertexData,p.VertexDataOffset,p.VertexDataSize),u.setVertexBuffer(2,r.GeometryInstanceData,p.InstanceDataOffset,p.InstanceDataSize),u.setIndexBuffer(r.GeometryIndex,"uint32",p.IndexOffset,p.IndexSize),u.setBindGroup(1,i.TexturesBindGroups[p.TextureId]),u.drawIndexed(p.IndexSize/4)}),u.end()}n.copyTextureToTexture({texture:o.RenderGeometryAttachment},{texture:o.RenderGeometryBindable},{width:E.Width,height:E.Height}),n.copyTextureToTexture({texture:o.BlurFilterAttachment},{texture:o.BlurFilterBrightColorsBindable},{width:E.Width,height:E.Height});const l=u=>{const p=n.beginRenderPass({colorAttachments:[{view:o.BlurFilterAttachment.createView(),loadOp:"load",clearValue:{r:0,g:0,b:0,a:1},storeOp:"store"}]});p.setPipeline(this.pipelines.BlurFilterPipeline),p.setBindGroup(0,u),p.draw(6),p.end()};l(i.BlurFilterBindGroupVertical);const c=10;for(let u=0;u<c;u++)n.copyTextureToTexture({texture:o.BlurFilterAttachment},{texture:o.BlurFilterBrightColorsBindable},{width:E.Width,height:E.Height}),l(u%2===0?i.BlurFilterBindGroupVertical:i.BlurFilterBindGroupHorizontal);n.copyTextureToTexture({texture:o.BlurFilterAttachment},{texture:o.BlurFilterBloomBindable},{width:E.Width,height:E.Height});{const u=n.beginRenderPass({colorAttachments:[{view:o.PostProcessAttachment.createView(),loadOp:"clear",clearValue:{r:0,g:1,b:0,a:1},storeOp:"store"}]});u.setPipeline(this.pipelines.PostProcessPipeline),u.setBindGroup(0,i.PostProcessBindGroup),u.draw(6),u.end()}n.copyTextureToTexture({texture:o.PostProcessAttachment},{texture:o.PostProcessBindable},{width:E.Width,height:E.Height}),n.copyTextureToTexture({texture:o.PostProcessAttachment},{texture:s},{width:E.Width,height:E.Height}),this.device.queue.submit([n.finish()]),this.pingPongIndex++,this.DestroyGPUObjects(Object.values(r)),this.DestroyGPUObjects(Object.values(o))}ReloadGeometryBuffers(){}CreateBuffersAndBindGroups(){const e=this.device,n=wm(),r=Nm(Wu.storages.pointLights),i=Pm(Wu.storages.pointLights,new ArrayBuffer(r.size*n.NumPointLights));i.set(n.PointLights);const o=To(),s=new Float32Array(E.ShadowCascadeLevels),a=new Float32Array(E.CameraFarPlane),l=new Uint32Array([E.ShadowsEnabled?1:0]),c=e.createBuffer({label:"Geometry instance data buffer",size:n.Data.byteLength,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST}),u=e.createBuffer({label:"Geometry Vertex data buffer",size:n.VertexData.byteLength,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST}),p=e.createBuffer({label:"Geometry vertices",size:n.Vertices.byteLength,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST}),m=e.createBuffer({label:"Geometry Index buffer",size:n.Index.byteLength,usage:GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST}),x=e.createBuffer({label:"Transformation matrix buffer",size:n.Transformation.byteLength,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),k=e.createBuffer({label:"World Transformation matrix buffer",size:n.Transformation.byteLength,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),w=e.createBuffer({label:"Point Lights buffer",size:i.arrayBuffer.byteLength,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),z=e.createBuffer({label:"Num point lights buffer",size:new Uint32Array(n.NumPointLights).byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),d=e.createBuffer({label:"Light Direction Buffer",size:12,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),h=e.createTexture({label:"Test Texture",size:[us,ju],usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST,format:"rgba8unorm"}),g=n.DirectionalLightMatrices.map(he=>he.byteLength).reduce((he,gt)=>he+gt),S=e.createBuffer({label:"Directional Light Matrix Buffer",size:g,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),P=e.createBuffer({label:"Cascade Plane distances buffer",size:s.byteLength,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),b=e.createBuffer({label:"Camera View Matrix buffer",size:o.matrix.length*4,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),R=e.createBuffer({label:"Camera Far Plane buffer",size:a.byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),A=e.createBuffer({label:"Shadows Enabled buffer",size:l.byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),j=[255,0,0,255],M=[0,255,0,255],U=[0,0,255,255];e.queue.writeTexture({texture:h},new Uint8Array([j,j,j,j,U,U,U,U,M,M,M,M,U,U,U,U].flat()),{bytesPerRow:us*4},{width:us,height:ju});const W=e.createSampler({label:"Sampler",magFilter:"nearest",addressModeU:"mirror-repeat",addressModeV:"mirror-repeat"}),F=e.createSampler({label:"ShadowMap Sampler",magFilter:"nearest",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}),X=this.CreateAttachmentTexture(),J=this.CreateBindableTexture();e.queue.writeBuffer(p,0,n.Vertices),e.queue.writeBuffer(c,0,n.Data),e.queue.writeBuffer(m,0,n.Index),e.queue.writeBuffer(u,0,n.VertexData),e.queue.writeBuffer(x,0,n.Transformation),e.queue.writeBuffer(k,0,n.WorldTransformation),e.queue.writeBuffer(d,0,new Float32Array(E.LightDirection)),e.queue.writeBuffer(w,0,i.arrayBuffer),e.queue.writeBuffer(z,0,new Uint32Array([n.NumPointLights])),e.queue.writeBuffer(P,0,s),e.queue.writeBuffer(S,0,new Float32Array(cl().map(he=>he.matrix).reduce((he,gt)=>[...he,...gt]))),e.queue.writeBuffer(b,0,new Float32Array(o.matrix)),e.queue.writeBuffer(R,0,a),e.queue.writeBuffer(A,0,l);const Z=[];for(let he=0;he<E.ShadowCascadeLevels.length+1;he++){const gt=e.createBuffer({label:"Directional Light Matrix Buffer",size:n.DirectionalLightMatrices[he].byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});e.queue.writeBuffer(gt,0,n.DirectionalLightMatrices[he]);const tr=e.createBindGroup({label:"directionalLightMatrixBindGroup Bind Group",layout:this.bindGroupLayouts.DirectionalLightMatrixBindGroupLayout,entries:[{binding:0,resource:{buffer:gt}}]});Z.push(tr)}const Q=this.CreateAttachmentTexture("depth24plus",[1024,1024,E.ShadowCascadeLevels.length+1]),N=this.CreateBindableTexture("depth24plus",[1024,1024,E.ShadowCascadeLevels.length+1]),D=e.createBindGroup({label:"ShadowMap Bind Group",layout:this.bindGroupLayouts.ShadowMapBindGroupLayout,entries:[{binding:0,resource:{buffer:k}}]}),L=e.createBindGroup({label:"Render Geometry bind group",layout:this.bindGroupLayouts.RenderGeometryBindGroupLayout,entries:[{binding:1,resource:{buffer:x}},{binding:2,resource:h.createView()},{binding:3,resource:W},{binding:4,resource:{buffer:d}},{binding:5,resource:{buffer:k}},{binding:6,resource:{buffer:w}},{binding:7,resource:{buffer:z}},{binding:9,resource:{buffer:S}},{binding:10,resource:N.createView({arrayLayerCount:E.ShadowCascadeLevels.length+1})},{binding:11,resource:F},{binding:12,resource:{buffer:P}},{binding:13,resource:{buffer:b}},{binding:14,resource:{buffer:R}},{binding:15,resource:{buffer:A}}]}),B=this.CreateAttachmentTexture(),V=this.CreateBindableTexture(),de=this.CreateBindableTexture(),ue=e.createBuffer({label:"BlurFilter Horizontal buffer",size:4,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),Pe=e.createBuffer({label:"BlurFilter Horizontal buffer",size:4,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});e.queue.writeBuffer(ue,0,new Uint32Array([1])),e.queue.writeBuffer(Pe,0,new Uint32Array([0]));const qe=e.createBindGroup({label:"Blur Filter Bind Group",layout:this.bindGroupLayouts.BlurFilterBindGroupLayout,entries:[{binding:0,resource:W},{binding:1,resource:V.createView()},{binding:2,resource:{buffer:ue}}]}),mt=e.createBindGroup({label:"Blur Filter Bind Group 2",layout:this.bindGroupLayouts.BlurFilterBindGroupLayout,entries:[{binding:0,resource:W},{binding:1,resource:V.createView()},{binding:2,resource:{buffer:Pe}}]}),Zr=this.CreateAttachmentTexture(),Jr=this.CreateBindableTexture(),ye=e.createBindGroup({label:"PostProcess Bind Group",layout:this.bindGroupLayouts.PostProcessBindGroupLayout,entries:[{binding:0,resource:W},{binding:1,resource:J.createView()},{binding:2,resource:de.createView()},{binding:3,resource:N.createView({arrayLayerCount:E.ShadowCascadeLevels.length+1})}]}),zd=Nd.map((he,gt)=>{const tr=he.video?he.video:he.bitmap,ml=he.video?he.video.videoWidth:tr.width,gl=he.video?he.video.videoHeight:tr.height,yl=e.createTexture({label:`Texture ${gt}`,size:[ml,gl],usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT,format:"rgba8unorm"});e.queue.copyExternalImageToTexture({source:tr,flipY:!0},{texture:yl},{width:ml,height:gl});const vl=e.createBuffer({label:"Has Texture Buffer",size:4,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});return e.queue.writeBuffer(vl,0,new Uint32Array([gt>0?1:0])),e.createBindGroup({label:"Textures bind group",layout:this.bindGroupLayouts.TexturesBindGroupLayout,entries:[{binding:0,resource:yl.createView()},{binding:1,resource:{buffer:vl}}]})});return{buffers:{GeometryInstanceData:c,GeometryVertex:p,GeometryIndex:m,GeometryVertexData:u,GeometryTransformationMatrix:x,GeometryLightDirection:d,GeometryWorldTransformationMatrix:k,GeometryPointLights:w,GeometryNumPointLights:z,BlurFilterHorizontal:ue},textures:{RenderGeometryAttachment:X,RenderGeometryBindable:J,BlurFilterBrightColorsBindable:V,BlurFilterAttachment:B,BlurFilterBloomBindable:de,PostProcessAttachment:Zr,PostProcessBindable:Jr,ShadowMapAttachment:Q,ShadowMapBindable:N},bindGroups:{RenderGeometryBindGroup:L,TexturesBindGroups:zd,BlurFilterBindGroupHorizontal:qe,BlurFilterBindGroupVertical:mt,PostProcessBindGroup:ye,ShadowMapBindGroup:D,DirectionalLightMatrixBindGroups:Z},OffsetData:n.OffsetData}}CreateAttachmentTexture(e,n){return this.device.createTexture({size:n||[E.Width,E.Height],format:e||"bgra8unorm",usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC})}CreateBindableTexture(e,n){return this.device.createTexture({size:n||[E.Width,E.Height],format:e||"bgra8unorm",usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.TEXTURE_BINDING})}CreateBasicPipeline(e,n,r){const i=this.device,o=i.createShaderModule({label:`${n} module`,code:e}),s=i.createBindGroupLayout({label:`${n} Bindgroup Layout`,entries:r||[{binding:0,visibility:GPUShaderStage.FRAGMENT,sampler:{}},{binding:1,visibility:GPUShaderStage.FRAGMENT,texture:{}}]}),a=i.createPipelineLayout({label:`${n} Pipeline Layout`,bindGroupLayouts:[s]});return[i.createRenderPipeline({label:`${n} pipeline`,layout:a,vertex:{module:o},fragment:{module:o,targets:[{format:"bgra8unorm"}]}}),s]}DestroyGPUObjects(e){e.forEach(n=>{n.destroy()})}}const ha=new Map;function pl(t,e,n,r,i){const o=[];return mn().forEach(a=>{if(a.Data.IgnoreRaycast)return;let l=ha.get(a);l===void 0&&(l={Offset:Array.from(a.Data.Offset),Scale:Array.from(a.Data.Scale),Rotation:Array.from(a.Data.Rotation),WorldVertices:Xr(a)},ha.set(a,l)),Eg(a,l);const c=pd(a,l.WorldVertices),u=md(a,l.WorldVertices),p=a.Data.Scale[0]+a.Data.Scale[1]+a.Data.Scale[2];if(t.SubtractVector(c).GetMagnitude()>n*2+p&&t.SubtractVector(u).GetMagnitude()>n*2+p)return;const x=l.WorldVertices,k=[[9,9,9],[9,9,9],[9,9,9]];a.Index.forEach((w,z)=>{if(k[z%3]=x[w],z%3!==2)return;const d=new I(k[0]),h=new I(k[1]),g=new I(k[2]),S=h.SubtractVector(d),P=g.SubtractVector(d),b=S.CrossProduct(P).GetUnitVector(),R=b.DotProduct(e);if(Math.abs(R)<1e-4)return;const j=b.DotProduct(d.SubtractVector(t))/R;if(j<0)return;const M=t.AddVector(e.MultiplyScalar(j));if(M.SubtractVector(t).GetMagnitude()>n)return;const U=h.SubtractVector(d),W=g.SubtractVector(h),F=d.SubtractVector(g),X=M.SubtractVector(d),J=M.SubtractVector(h),Z=M.SubtractVector(g),Q=U.CrossProduct(X).GetUnitVector(),N=W.CrossProduct(J).GetUnitVector(),D=F.CrossProduct(Z).GetUnitVector(),L=Q.DotProduct(b)>0,B=N.DotProduct(b)>0,V=D.DotProduct(b)>0;L&&B&&V&&o.push({HitPosition:M,HitNormal:b,HitObject:a})})}),o.sort((a,l)=>a.HitPosition.SubtractVector(t).GetMagnitude()-l.HitPosition.SubtractVector(t).GetMagnitude()),o[0]}function Sg(t,e){const n=[e.Offset,e.Scale,e.Rotation].flat(),r=[t.Data.Offset,t.Data.Scale,t.Data.Rotation].flat();let i=!1;return n.forEach((o,s)=>{o!==r[s]&&(i=!0)}),i}function Eg(t,e){Sg(t,e)&&(e.Offset=Array.from(t.Data.Offset),e.Scale=Array.from(t.Data.Scale),e.Rotation=Array.from(t.Data.Rotation),e.WorldVertices=Xr(t),ha.set(t,e))}function pa(t,e,n,r,i,o){const s=n.MultiplyScalar(r).AddVector(e),l=new G([]).lookAt(e,s).RotationMatrixToEulerAngles();let c=yd(t)[0];c===void 0&&(c=Rn({Name:t,Scale:[2.5,2.5,2.5],Color:i||[1,1,1,1],DontSave:!0,IgnoreRaycast:!0,IgnoreLighting:!0})),c.Data.Scale=[o||2.5,o||2.5,r],c.Data.Rotation=[l[0],l[1],l[2]],c.Data.Offset=s.SubtractVector(e).MultiplyScalar(.5).AddVector(e).vector}function cs(t,e,n,r,i){const o=r||new I([0,0,0]),s=o.AddVector(e),l=new G([]).lookAt(o,s).RotationMatrixToEulerAngles(),c=new I(l).GetLookVector();pa(t,e.AddVector(o),c,e.GetMagnitude(),n,i)}const Tg=[[],()=>[]],Co=H.createContext(Tg);function Cg(){new G([]).lookAt(new I([0,0,0]),new I(E.LightDirection));const t=new G([]).RotationXMatrix(be[0]),e=new G([]).RotationYMatrix(be[1]),n=new G([]).RotationZMatrix(be[2]),r=e.Multiply(t).Multiply(n);r.RotationMatrixToEulerAngles();const i=new I(r.RotationMatrixToRightVector()).MultiplyScalar(10),o=new I(r.RotationMatrixToUpVector()).MultiplyScalar(10),s=new I(r.RotationMatrixToLookVector()).MultiplyScalar(15).AddVector(new I(Le)).AddVector(i).AddVector(o);cs("xAxisCameraVisualCORE",new I([2,0,0]),[1,0,0,1],s,.3),cs("yAxisCameraVisualCORE",new I([0,2,0]),[0,1,0,1],s,.3),cs("zAxisCameraVisualCORE",new I([0,0,2]),[0,0,1,1],s,.3)}const Mg=32,Hu=1;function Pg(t){const[e,n]=H.useContext(Co),r=H.useRef([E.Width,E.Height]),[i,o]=H.useReducer(M=>M+1,0),[s,a]=H.useState(!1),l=H.useRef(null);H.useRef(null);const c=H.useRef([l]),u=H.useRef(!1),p=H.useRef(!1),m=H.useRef(!1),x=H.useRef(),k={width:r.current[0],height:r.current[1]},w=()=>{m.current=!0},z=()=>{m.current=!1,x.current=void 0},d=(M,U)=>{const W=be[0]+-U*(.01*Hu),F=be[1]+-M*(.01*Hu);be[0]=Math.abs(W)<Math.PI/2?W:W<0?-Math.PI/2:Math.PI/2,be[1]=F},h=async M=>{m.current&&d(M.movementX,M.movementY)},g=async M=>{if(m.current){const U=M.touches[0];if(x.current){const W=U.pageX-x.current[0],F=U.pageY-x.current[1];d(W,F)}x.current=[U.pageX,U.pageY]}},S=M=>{M.button===2?w():j(M)},P=M=>{M.button===2&&z()},b=M=>{w()},R=()=>{c.current.forEach(M=>{const U=M.current;U.width=E.Width,U.height=E.Height})},A=async()=>{let M,U=u.current;if(l.current,U===!1){if(!navigator.gpu)throw a(!0),new Error("WebGPU not supported on this browser.");u.current=!0;const W=await navigator.gpu.requestAdapter();if(!W)throw a(!0),new Error("No appropriate GPUAdapter found.");M=await W.requestDevice();const F=c.current.map(X=>{const Z=X.current.getContext("webgpu");return Z===null&&(a(!0),console.warn("Error getting context")),Z});R(),U=new kg(M,F,Mg),u.current=U,U.Render()}else typeof U!="boolean"&&((r.current[0]!==E.Width||r.current[1]!==E.Height)&&(r.current=[E.Width,E.Height],R(),o()),E.RotationVisuals?Cg():yd("xAxisCameraVisualCORE").length>0&&(ns("xAxisCameraVisualCORE"),ns("yAxisCameraVisualCORE"),ns("zAxisCameraVisualCORE")),U.Render())},j=M=>{const W=new I(Array.from(Le)),F=Pu([M.nativeEvent.offsetX,M.nativeEvent.offsetY]);Pu([E.Width/2,E.Height/2]);const X=F;E.RayVisuals&&pa("DirectionRay",W,X,1e5,[1,.1,.1,.5],10);const J=E.ShadowCascadeLevels;for(let Q=0;Q<J.length+1;Q++){let N=0,D=0;Q==0?(N=E.CameraNearPlane,D=J[Q]):Q<J.length?(N=J[Q-1],D=J[Q]):(N=J[Q-1],D=E.CameraFarPlane);const L=new G([]).PerspectiveMatrix(E.FOV,E.Width,E.Height,N,D),B=aa(L,To());let V=new I([0,0,0]);B.forEach(de=>{V=V.AddVector(de)}),V=V.DivideScalar(B.length)}cl().forEach((Q,N)=>{aa(Q).forEach((L,B)=>{})});const Z=pl(W,X,1e5);if(console.log(be),Z){const Q=W.SubtractVector(Z.HitPosition).GetMagnitude();E.RayVisuals&&pa("HitRay",W,X,Q,[.1,.1,1,1]),n([Z.HitObject])}else e.length>0&&n([])};return H.useEffect(()=>{if(!p.current){p.current=!0;const M=()=>{A(),requestAnimationFrame(M)};M()}},[]),T.jsxs(T.Fragment,{children:[T.jsx("p",{className:`renderer-canvas ${s?"":"dn"}`,children:"WebGPU not supported on this browser."}),T.jsx("canvas",{ref:l,className:"renderer-canvas",style:k,...t,onContextMenu:M=>{M.preventDefault()},onMouseMove:h,onTouchMove:g,onMouseDown:S,onMouseUp:P,onTouchStart:b,onTouchEnd:z})]})}var bd={},Mo={},Kr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JoystickShape=void 0,function(e){e.Circle="circle",e.Square="square",e.AxisY="axisY",e.AxisX="axisX"}(t.JoystickShape||(t.JoystickShape={}))})(Kr);var Po={};Object.defineProperty(Po,"__esModule",{value:!0});Po.shapeFactory=void 0;var $u=Kr,Ng=function(t,e){switch(t){case $u.JoystickShape.Square:return{borderRadius:Math.sqrt(e)};case $u.JoystickShape.Circle:default:return{borderRadius:e}}};Po.shapeFactory=Ng;var No={};Object.defineProperty(No,"__esModule",{value:!0});No.shapeBoundsFactory=void 0;var fs=Kr,bg=function(t,e,n,r,i,o,s,a,l){switch(t){case fs.JoystickShape.Square:return r=wi(e-l.left-a/2,a),i=wi(n-l.top-a/2,a),{relativeX:r,relativeY:i};case fs.JoystickShape.AxisX:return r=wi(e-l.left-a/2,a),i=0,{relativeX:r,relativeY:i};case fs.JoystickShape.AxisY:return r=0,i=wi(n-l.top-a/2,a),{relativeX:r,relativeY:i};default:return o>s&&(r*=s/o,i*=s/o),{relativeX:r,relativeY:i}}};No.shapeBoundsFactory=bg;var wi=function(t,e){var n=e/2;return t>n?n:t<-n?n*-1:t},Lg=Ai&&Ai.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zn=Ai&&Ai.__assign||function(){return zn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zn.apply(this,arguments)};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.Joystick=void 0;var fr=H,qu=Kr,Yu=Po,Rg=No,At;(function(t){t.PointerDown="pointerdown",t.PointerMove="pointermove",t.PointerUp="pointerup"})(At||(At={}));var tn;(function(t){t[t.TopRight=2.35619449]="TopRight",t[t.TopLeft=-2.35619449]="TopLeft",t[t.BottomRight=.785398163]="BottomRight",t[t.BottomLeft=-.785398163]="BottomLeft"})(tn||(tn={}));var Ag=function(t){Lg(e,t);function e(n){var r=t.call(this,n)||this;return r._stickRef=fr.createRef(),r._baseRef=fr.createRef(),r.frameId=null,r._pointerId=null,r._mounted=!1,r._pointerMove=function(i){if(i.preventDefault(),r.state.dragging){if(!r.props.followCursor&&i.pointerId!==r._pointerId)return;var o=i.clientX,s=i.clientY,a=o-r._parentRect.left-r._radius,l=s-r._parentRect.top-r._radius,c=r._distance(a,l),u=(0,Rg.shapeBoundsFactory)(r.props.controlPlaneShape||r.props.baseShape,o,s,a,l,c,r._radius,r._baseSize,r._parentRect);a=u.relativeX,l=u.relativeY;var p=Math.atan2(a,l);r._updatePos({relativeX:a,relativeY:l,distance:r._distanceToPercentile(c),direction:r._getDirection(p),axisX:o-r._parentRect.left,axisY:s-r._parentRect.top})}},r._pointerUp=function(i){if(i.pointerId===r._pointerId){var o={dragging:!1};r.props.sticky||(o.coordinates=void 0),r.frameId=window.requestAnimationFrame(function(){r._mounted&&r.setState(o)}),window.removeEventListener(At.PointerUp,r._pointerUp),window.removeEventListener(At.PointerMove,r._pointerMove),r._pointerId=null,r.props.stop&&r.props.stop({type:"stop",x:r.props.sticky?r.state.coordinates.relativeX*2/r._baseSize:null,y:r.props.sticky?r.state.coordinates.relativeY*2/r._baseSize:null,direction:r.props.sticky?r.state.coordinates.direction:null,distance:r.props.sticky?r.state.coordinates.distance:null})}},r.state={dragging:!1},r._throttleMoveCallback=function(){var i=0;return function(o){var s=new Date().getTime(),a=r.props.throttle||0;if(!(s-i<a)&&(i=s,r.props.move))return r.props.move(o)}}(),r}return e.prototype.componentWillUnmount=function(){var n=this;this._mounted=!1,this.props.followCursor&&window.removeEventListener(At.PointerMove,function(r){return n._pointerMove(r)}),this.frameId!==null&&window.cancelAnimationFrame(this.frameId)},e.prototype.componentDidMount=function(){var n=this;this._mounted=!0,this.props.followCursor&&(this._parentRect=this._baseRef.current.getBoundingClientRect(),this.setState({dragging:!0}),window.addEventListener(At.PointerMove,function(r){return n._pointerMove(r)}),this.props.start&&this.props.start({type:"start",x:null,y:null,distance:null,direction:null}))},e.prototype._updatePos=function(n){var r=this;this.frameId=window.requestAnimationFrame(function(){r._mounted&&r.setState({coordinates:n})}),!(typeof this.props.minDistance=="number"&&n.distance<this.props.minDistance)&&this._throttleMoveCallback({type:"move",x:n.relativeX*2/this._baseSize,y:-(n.relativeY*2/this._baseSize),direction:n.direction,distance:n.distance})},e.prototype._pointerDown=function(n){this.props.disabled||this.props.followCursor||(this._parentRect=this._baseRef.current.getBoundingClientRect(),this.setState({dragging:!0}),window.addEventListener(At.PointerUp,this._pointerUp),window.addEventListener(At.PointerMove,this._pointerMove),this._pointerId=n.pointerId,this._stickRef.current.setPointerCapture(n.pointerId),this.props.start&&this.props.start({type:"start",x:null,y:null,distance:null,direction:null}))},e.prototype._getDirection=function(n){return n>tn.TopRight||n<tn.TopLeft?"FORWARD":n<tn.TopRight&&n>tn.BottomRight?"RIGHT":n<tn.BottomLeft?"LEFT":"BACKWARD"},e.prototype._distance=function(n,r){return Math.hypot(n,r)},e.prototype._distanceToPercentile=function(n){var r=n/(this._baseSize/2)*100;return r>100?100:r},e.prototype.getBaseShapeStyle=function(){var n=this.props.baseShape||qu.JoystickShape.Circle;return(0,Yu.shapeFactory)(n,this._baseSize)},e.prototype.getStickShapeStyle=function(){var n=this.props.stickShape||qu.JoystickShape.Circle;return(0,Yu.shapeFactory)(n,this._baseSize)},e.prototype._getBaseStyle=function(){var n=this.props.baseColor!==void 0?this.props.baseColor:"#000033",r="".concat(this._baseSize,"px"),i=zn(zn({},this.getBaseShapeStyle()),{height:r,width:r,background:n,display:"flex",justifyContent:"center",alignItems:"center"});return this.props.baseImage&&(i.background="url(".concat(this.props.baseImage,")"),i.backgroundSize="100%"),i},e.prototype._getStickStyle=function(){var n=this.props.stickColor!==void 0?this.props.stickColor:"#3D59AB",r=this._stickSize?"".concat(this._stickSize,"px"):"".concat(this._baseSize/1.5,"px"),i=zn(zn({},this.getStickShapeStyle()),{background:n,cursor:"move",height:r,width:r,border:"none",flexShrink:0,touchAction:"none"});return this.props.stickImage&&(i.background="url(".concat(this.props.stickImage,")"),i.backgroundSize="100%"),this.props.pos&&(i=Object.assign({},i,{position:"absolute",transform:"translate3d(".concat(this.props.pos.x*this._baseSize/2,"px, ").concat(-(this.props.pos.y*this._baseSize)/2,"px, 0)")})),this.state.coordinates!==void 0&&(i=Object.assign({},i,{position:"absolute",transform:"translate3d(".concat(this.state.coordinates.relativeX,"px, ").concat(this.state.coordinates.relativeY,"px, 0)")})),i},e.prototype.render=function(){var n=this;this._baseSize=this.props.size||100,this._stickSize=this.props.stickSize,this._radius=this._baseSize/2;var r=this._getBaseStyle(),i=this._getStickStyle();return fr.createElement("div",{"data-testid":"joystick-base",className:this.props.disabled?"joystick-base-disabled":"",ref:this._baseRef,style:r},fr.createElement("button",{ref:this._stickRef,disabled:this.props.disabled,onPointerDown:function(o){return n._pointerDown(o)},className:this.props.disabled?"joystick-disabled":"",style:i}))},e}(fr.Component);Mo.Joystick=Ag;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JoystickShape=t.Joystick=void 0;var e=Mo;Object.defineProperty(t,"Joystick",{enumerable:!0,get:function(){return e.Joystick}});var n=Kr;Object.defineProperty(t,"JoystickShape",{enumerable:!0,get:function(){return n.JoystickShape}})})(bd);const _t={a:!1,d:!1,w:!1,s:!1," ":!1,Shift:!1,Jumping:!1},On={a:[-2,0,0],d:[2,0,0],w:[0,0,-2],s:[0,0,2]," ":[0,2,0],Shift:[0,-2,0]},ne={a:[0,0,0],d:[0,0,0],w:[0,0,0],s:[0,0,0]," ":[0,0,0],Shift:[0,0,0]},zg=3,Og=new I([0,1,0]),Dg=1.03,Ig=1.03,Ld=new I(Le),Ug=Og.GetInverse(),Rd=50;function Ad(){return pl(Ld,Ug,Rd)}function Bg(){if(!_t.Jumping&&E.Gamemode==="Ingame"){const t=Ad();if(t)Ld.SubtractVector(t.HitPosition).GetMagnitude()<Rd-5?ne.Shift[1]=2:ne.Shift[1]=0,Wr(new I(ne.Shift));else{const e=ne.Shift[1];ne.Shift[1]=Math.max(On.Shift[1]*2,e-.02),Wr(new I(ne.Shift))}}}setInterval(Bg,E.MoveCooldown);function ds(t){const e=t===" ";let n=typeof t=="string"?t:t.current;const r=n==="Shift"&&E.Gamemode==="Ingame";if(!(ne[n]===void 0||r)){if(e&&E.Gamemode==="Ingame"){const i=Ad()!==void 0;if(_t.Jumping||!i)return;_t.Jumping=!0;let o=0,s=0;s=setInterval(()=>{o>=50&&(clearInterval(s),_t.Jumping=!1),ne[" "][1]=(1-o/50)*zg,Wr(new I(ne[" "]),!0),o++},E.MoveCooldown)}else if(!_t[n]){_t[n]=!0,ne[n]=[ne[n][0]+On[n][0]/10,ne[n][1]+On[n][1]/10,ne[n][2]+On[n][2]/10];let i=0;i=setInterval(()=>{_t[n]||clearInterval(i),n=typeof t=="string"?t:t.current;const o=ne[n],s=On[n],a=E.Gamemode==="Edit"?99999:Dg,l=s[0]<0?Math.max(s[0],o[0]*a):Math.min(s[0],o[0]*a),c=s[1]<0?Math.max(s[1],o[1]*a):Math.min(s[1],o[1]*a),u=s[2]<0?Math.max(s[2],o[2]*a):Math.min(s[2],o[2]*a);ne[n]=[l,c,u],Wr(new I(ne[n]),!0)},E.MoveCooldown)}}}function Wr(t,e){const n=E.Gamemode==="Edit"?E.EditMoveSpeed:E.IngameMoveSpeed,r=t.MultiplyScalar(n).vector,i=new G([]).RotationXMatrix(E.Gamemode==="Edit"?be[0]:0),o=new G([]).RotationYMatrix(be[1]),s=new G([]).RotationZMatrix(E.Gamemode==="Edit"?be[2]:0),a=new G([]).TranslationMatrix(r[0],r[1],r[2]),l=o.Multiply(i).Multiply(s).Multiply(a),c=l.matrix[12],u=l.matrix[13],p=l.matrix[14];if(E.Gamemode==="Ingame"&&e){const m=new I(Le),x=new I([c,u,p]).GetUnitVector();if(pl(m,x,3))return}Le[0]+=c,Le[1]+=u,Le[2]+=p}function hs(t){const e=t==="Shift"&&E.Gamemode==="Ingame";if(ne[t]===void 0||E.Gamemode==="Ingame"&&t===" "||e)return;_t[t]!==void 0&&(_t[t]=!1);let n=ne[t],r=0;const i=setInterval(()=>{r===0&&(n=ne[t]),(new I(ne[t]).GetMagnitude()<=.01||new I(n).GetMagnitude()-new I(ne[t]).GetMagnitude()<0)&&clearInterval(i);const o=ne[t],s=On[t],a=E.Gamemode==="Edit"?99999:Ig,l=s[0]<0?Math.min(0,o[0]/a):Math.max(0,o[0]/a),c=s[1]<0?Math.min(0,o[1]/a):Math.max(0,o[1]/a),u=s[2]<0?Math.min(0,o[2]/a):Math.max(0,o[2]/a);ne[t]=[l,c,u],n=o,Wr(new I(ne[t]),!0),r++},E.MoveCooldown)}function Qu(){Object.values(ne).forEach(t=>{t[0]=0,t[1]=0,t[2]=0})}const Gg=5;function Vg(){const t=H.useRef(!1),e=H.useRef("w"),n=o=>{const a={LEFT:"a",RIGHT:"d",FORWARD:"w",BACKWARD:"s"}[o.direction];a!==e.current&&(hs(e.current),ds(a)),e.current=a},r=o=>{hs(e.current)},i=()=>{ds(e)};return H.useEffect(()=>{t.current||(t.current=!0,document.addEventListener("keydown",o=>{if(o.repeat)return;const s=o.key,a=o.target;a&&a.tagName==="INPUT"||ds(s)}),document.addEventListener("keyup",o=>{const s=o.key;hs(s)}))},[]),T.jsxs("div",{className:"flex mt2",children:[T.jsx(bd.Joystick,{size:100,throttle:Gg,sticky:!1,baseColor:"#71be71",stickColor:"#085127",move:n,stop:r,start:i}),T.jsx("br",{}),T.jsx("p",{className:"b mr2 ml3 pt3",children:"PC Controls:"}),T.jsx("p",{className:"pt3",children:"W / A / S / D / Space / Left Shift"})]})}const Fg={Color:["0","0","0","1"],Offset:["0","0","0"],Scale:["1","1","1"],Rotation:["0","0","0"],Name:"???",IsPointLight:!1,Light:{Radius:"0",Color:["1","1","1","1"],Brightness:"1"},TextureId:"0",IgnoreLighting:!1};function jg(){const[t,e]=H.useContext(Co),[n,r]=H.useState(Fg),i={overflowY:"scroll",height:E.Height},o=()=>{vm("SelectedObjectVisual"),t.forEach(u=>{const p=hd(u).vector,m=pd(u),x=md(u),k=m.SubtractVector(x),w=[Math.abs(k.vector[0])+5,Math.abs(k.vector[1])+5,Math.abs(k.vector[2])+5],z=Rn({Offset:p,Scale:w,DontSave:!0,IgnoreRaycast:!0,IgnoreLighting:!0,Color:[0,.917,1,.1]});z.Data.DontShowInExplorer=!0,z.Data.InternalName="SelectedObjectVisual"})};H.useEffect(()=>{o();const u=t[0];u!==void 0&&r({Color:[u.Data.Color[0].toString(),u.Data.Color[1].toString(),u.Data.Color[2].toString(),u.Data.Color[3].toString()],Offset:[u.Data.Offset[0].toString(),u.Data.Offset[1].toString(),u.Data.Offset[2].toString()],Scale:[u.Data.Scale[0].toString(),u.Data.Scale[1].toString(),u.Data.Scale[2].toString()],Rotation:[(u.Data.Rotation[0]/(Math.PI/180)).toString(),(u.Data.Rotation[1]/(Math.PI/180)).toString(),(u.Data.Rotation[2]/(Math.PI/180)).toString()],Name:u.Data.Name,IsPointLight:!!(u.Data.Light&&u.Data.Light.Radius>=1),Light:{Radius:u.Data.Light?u.Data.Light.Radius.toString():"0",Color:u.Data.Light?[u.Data.Light.Color[0].toString(),u.Data.Light.Color[1].toString(),u.Data.Light.Color[2].toString(),u.Data.Light.Color[3].toString()]:["1","1","1","1"],Brightness:u.Data.Light?u.Data.Light.Brightness.toString():"1"},TextureId:u.Data.TextureId?u.Data.TextureId.toString():"0",IgnoreLighting:u.Data.IgnoreLighting||!1})},[t]);const s=()=>{ym(t),e([])},a=()=>{const u=[];t.forEach(p=>{const m=structuredClone(p);m.Data.Offset[1]+=5,Eo(m),u.push(m)}),e(u)},l=u=>{t.forEach(p=>{const m=p.Data;m.Color=[Number(u.Color[0]),Number(u.Color[1]),Number(u.Color[2]),Number(u.Color[3])],m.Offset=[Number(u.Offset[0]),Number(u.Offset[1]),Number(u.Offset[2])],m.Scale=[Number(u.Scale[0]),Number(u.Scale[1]),Number(u.Scale[2])],m.Rotation=[Number(u.Rotation[0])*Math.PI/180,Number(u.Rotation[1])*Math.PI/180,Number(u.Rotation[2])*Math.PI/180],m.Name=u.Name,m.Light=u.IsPointLight?{Radius:Number(u.Light.Radius),Color:[Number(u.Light.Color[0]),Number(u.Light.Color[1]),Number(u.Light.Color[2]),Number(u.Light.Color[3])],Brightness:Number(u.Light.Brightness)}:void 0,m.TextureId=Number(u.TextureId),m.IgnoreLighting=u.IgnoreLighting}),o()},c=(u,p,m,x)=>{const k=structuredClone(n),w=typeof k[p]=="boolean"?u.target.checked:u.target.value;p==="Light"&&x?x==="Color"&&m!==void 0?k[p][x][m]=w:x!=="Color"&&(k[p][x]=w):m!==void 0?k[p][m]=w:k[p]=w,r(k),l(k)};return T.jsx(T.Fragment,{children:T.jsxs("div",{className:`mr2 bg-navy br4 ${t.length>0?"o-100":"o-0"} `,style:i,children:[T.jsxs("div",{className:"flex justify-center mt1",children:[T.jsx("button",{className:"bg-red",onClick:s,children:"Delete"}),T.jsx("button",{onClick:a,children:"Duplicate"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"mb1 b",children:"Name"}),T.jsx("input",{className:"w4 bg-grey b--grey",onChange:u=>{c(u,"Name")},value:n.Name})]}),T.jsxs("div",{children:[T.jsx("p",{className:"mb1 b",children:"Color"}),T.jsx("input",{className:"w2 bg-red b--red",onChange:u=>{c(u,"Color",0)},value:n.Color[0].slice(0,4)}),T.jsx("input",{className:"w2 bg-green b--green",onChange:u=>{c(u,"Color",1)},value:n.Color[1].slice(0,4)}),T.jsx("input",{className:"w2 bg-blue b--blue",onChange:u=>{c(u,"Color",2)},value:n.Color[2].slice(0,4)}),T.jsx("input",{className:"w2 bg-grey b--grey",onChange:u=>{c(u,"Color",3)},value:n.Color[3].slice(0,4)})]}),T.jsxs("div",{children:[T.jsx("p",{className:"mb1 b",children:"Position"}),T.jsx("input",{className:"w3 bg-dark-red b--dark-red",onChange:u=>{c(u,"Offset",0)},value:n.Offset[0].slice(0,n.Offset[0].indexOf(".")>-1?n.Offset[0].indexOf("."):7)}),T.jsx("input",{className:"w3 bg-dark-green b--dark-green",onChange:u=>{c(u,"Offset",1)},value:n.Offset[1].slice(0,n.Offset[1].indexOf(".")>-1?n.Offset[1].indexOf("."):7)}),T.jsx("input",{className:"w3 bg-dark-blue b--dark-blue",onChange:u=>{c(u,"Offset",2)},value:n.Offset[2].slice(0,n.Offset[2].indexOf(".")>-1?n.Offset[2].indexOf("."):7)})]}),T.jsxs("div",{children:[T.jsx("p",{className:"mb1 b",children:"Scale"}),T.jsx("input",{className:"w3 bg-dark-red b--dark-red",onChange:u=>{c(u,"Scale",0)},value:n.Scale[0].slice(0,n.Scale[0].indexOf(".")>-1?n.Scale[0].indexOf("."):7)}),T.jsx("input",{className:"w3 bg-dark-green b--dark-green",onChange:u=>{c(u,"Scale",1)},value:n.Scale[1].slice(0,n.Scale[1].indexOf(".")>-1?n.Scale[1].indexOf("."):7)}),T.jsx("input",{className:"w3 bg-dark-blue b--dark-blue",onChange:u=>{c(u,"Scale",2)},value:n.Scale[2].slice(0,n.Scale[2].indexOf(".")>-1?n.Scale[2].indexOf("."):7)})]}),T.jsxs("div",{children:[T.jsx("p",{className:"mb1 b",children:"Rotation"}),T.jsx("input",{className:"w3 bg-dark-red b--dark-red",onChange:u=>{c(u,"Rotation",0)},value:n.Rotation[0].slice(0,n.Rotation[0].indexOf(".")>-1?n.Rotation[0].indexOf("."):7)}),T.jsx("input",{className:"w3 bg-dark-green b--dark-green",onChange:u=>{c(u,"Rotation",1)},value:n.Rotation[1].slice(0,n.Rotation[1].indexOf(".")>-1?n.Rotation[1].indexOf("."):7)}),T.jsx("input",{className:"w3 bg-dark-blue b--dark-blue",onChange:u=>{c(u,"Rotation",2)},value:n.Rotation[2].slice(0,n.Rotation[2].indexOf(".")>-1?n.Rotation[2].indexOf("."):7)})]}),T.jsxs("div",{children:[T.jsx("p",{className:"mb1 b",children:"Texture Id"}),T.jsx("input",{className:"w4 bg-grey b--grey",onChange:u=>{c(u,"TextureId")},value:n.TextureId})]}),T.jsxs("div",{children:[T.jsx("p",{className:"mb1 b",children:"Ignore Lighting"}),T.jsx("input",{className:"w4 h1 bg-grey b--grey",type:"checkbox",onChange:u=>{c(u,"IgnoreLighting")},checked:!!n.IgnoreLighting})]}),T.jsxs("div",{children:[T.jsx("p",{className:"mb1 b",children:"Point Light"}),T.jsx("input",{className:"w4 h1 bg-grey b--grey",type:"checkbox",onChange:u=>{c(u,"IsPointLight")},checked:!!n.IsPointLight})]}),T.jsxs("div",{className:`${n.IsPointLight?"":"dn"} mb2`,children:[T.jsx("p",{className:"mb1 b",children:"Light Radius"}),T.jsx("input",{className:"w4 h1 bg-grey b--grey",onChange:u=>{c(u,"Light",void 0,"Radius")},value:n.Light.Radius}),T.jsx("p",{className:"mb1 b",children:"Light Brightness"}),T.jsx("input",{className:"w4 h1 bg-grey b--grey",onChange:u=>{c(u,"Light",void 0,"Brightness")},value:n.Light.Brightness}),T.jsx("p",{className:"mb1 b",children:"Light Color"}),T.jsx("input",{className:"w2 bg-red b--red",onChange:u=>{c(u,"Light",0,"Color")},value:n.Light.Color[0].slice(0,4)}),T.jsx("input",{className:"w2 bg-green b--green",onChange:u=>{c(u,"Light",1,"Color")},value:n.Light.Color[1].slice(0,4)}),T.jsx("input",{className:"w2 bg-blue b--blue",onChange:u=>{c(u,"Light",2,"Color")},value:n.Light.Color[2].slice(0,4)}),T.jsx("input",{className:"w2 bg-grey b--grey",onChange:u=>{c(u,"Light",3,"Color")},value:n.Light.Color[3].slice(0,4)})]})]})})}function Wg(t){const e={Vertices:[],Index:[],Normals:[],Data:{Color:[1,1,1,1],Offset:[0,0,0],Scale:[100,100,100],Rotation:[0,0,0],Name:"OBJMesh"}};let n=t.indexOf("mtllib");n=t.indexOf("v ",n);let r=t[n]+" ";for(;r==="v ";){n+=2;const i=[];for(let o=0;o<3;o++){const s=t[n]==="-"?9:8;i[o]=Number(t.slice(n,n+s)),n+=s+1}e.Vertices.push(...i),r=t[n]+t[n+1]}for(n=t.indexOf("usemtl",n),n=t.indexOf("f ",n),r=t[n]+" ";r==="f ";){n+=2;const i=[],o=[];for(let s=0;s<4&&!Number.isNaN(Number(t[n]));s++){let a=1,l=1,c=!1;for(let u=1;u<99;u++){if(t[n+u]==="f"){a--;break}if(t[n+u]===" ")break;!Number.isNaN(Number(t[n+u]))&&!c?l++:c=!0,a++}s===3?(o[0]=i[0],o[1]=i[2],o[2]=Number(t.slice(n,n+l))-1):i[s]=Number(t.slice(n,n+l))-1,n+=a+1}e.Index.push(...i),e.Index.push(...o),r=t[n]+t[n+1]}return e}function Xu({items:t,onItemSelected:e,buttonText:n,buttonStyle:r}){const[i,o]=H.useState(!1),s=()=>{o(!i)};return H.useEffect(()=>{o(i)},[i]),T.jsx(T.Fragment,{children:T.jsxs("button",{className:(i?"active":"")+r,onClick:s,onBlur:()=>o(!1),children:[T.jsx("div",{className:`dropdown ${i?"":"dn"}`,children:t.map((a,l)=>T.jsx("p",{className:"br1",onClick:()=>{o(!1),e(a)},children:a},l))}),n]})})}let Ku=!1;function Hg(){const t=H.useRef(!1),[e,n]=H.useState(E.Gamemode),[r,i]=H.useState("blue"),[o,s]=H.useContext(Co),[a,l]=H.useState("1"),[c,u]=H.useState(E.ShadowsEnabled),[p,m]=H.useState(E.RotationVisuals),[x,k]=H.useState(E.RayVisuals),[w,z]=H.useState("Clear World"),[d,h]=H.useState("Save 1"),[g,S]=H.useState("");H.useEffect(()=>{if(t.current||Ku)return;t.current=!0,Ku=!0,console.log("loaded!");const L=localStorage.getItem("WorldObjects"),B=localStorage.getItem("ViewScale"),V=localStorage.getItem("ShadowsEnabled"),de=localStorage.getItem("RotationVisuals"),ue=localStorage.getItem("RayVisuals");V&&(u(V=="true"),E.ShadowsEnabled=V=="true",m(de=="true"),E.RotationVisuals=de=="true",k(ue=="true"),E.RayVisuals=ue=="true"),L&&L!==""&&os(L),B&&B!==""&&(l(B),Zu(Number(B))),setInterval(()=>{localStorage.setItem("WorldObjects",JSON.stringify(rs())),localStorage.setItem("ViewScale",String(E.Width/500)),localStorage.setItem("ShadowsEnabled",String(E.ShadowsEnabled)),localStorage.setItem("RotationVisuals",String(E.RotationVisuals)),localStorage.setItem("RayVisuals",String(E.RayVisuals))},3e3)},[]);const P={marginTop:"15px"},b=L=>{if(!L.target.files)return;const B=L.target.files[0],V=new FileReader;V.readAsText(B,"UTF-8"),V.onload=de=>{if(de.target){var ue=de.target.result;if(typeof ue=="string"){const Pe=Wg(ue);Pe.Data.Offset=[Le[0],Le[1],Le[2]],Eo(Pe),s([Pe])}else console.warn("Unexpected content type")}}},R=()=>{w==="Clear World"?(z("Are you sure?"),setTimeout(()=>{z("Clear World")},3e3)):(localStorage.setItem("WorldObjects",""),gd())},A=()=>{E.Gamemode==="Edit"?(Qu(),E.Gamemode="Ingame",i("light-green")):E.Gamemode==="Ingame"&&(Qu(),E.Gamemode="Edit",i("blue")),n(E.Gamemode)},j=()=>{localStorage.setItem(`${d}WorldObjects`,JSON.stringify(rs()))},M=()=>{const L=localStorage.getItem(`${d}WorldObjects`);L&&L!==""&&os(L)},U=()=>{g&&g!==""&&os(g)},W=()=>{S(JSON.stringify(rs()))},F=L=>{const B=L.target.value;l(B),Zu(Number(B))},X=()=>{const L=!c;u(!c),E.ShadowsEnabled=L},J=()=>{E.RotationVisuals=!p,m(!p)},Z={Cube:()=>Rn({UseCameraOffset:!0,RandomColor:!0}),Light:()=>{const L=Array.from(Oe.Data.Scale),B=[L[0]/2.5,L[1]/2.5,L[2]/2.5],V=Rn({UseCameraOffset:!0,Scale:B,Name:"Light"});return V.Data.Light={Radius:750,Color:[1,1,1,1],Brightness:1},V},Kitty:()=>{const L=Array.from(Oe.Data.Scale),B=[L[0]*1.5,L[1]*1.5,L[2]*1.5],V=Rn({UseCameraOffset:!0,Scale:B,Name:"Kitty"});return V.Data.TextureId=1,V},"Dog Video":()=>{const L=Array.from(Oe.Data.Scale),B=[L[0]*1.5,L[1]*1.5,L[2]*1.5],V=Rn({UseCameraOffset:!0,Scale:B,Name:"DogVideo"});return V.Data.TextureId=2,V}},Q=Object.keys(Z),N=L=>{const B=Z[L]();s([B])},D=L=>{h(L)};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex",children:[T.jsx(jg,{}),T.jsx(Pg,{})]}),T.jsx(Vg,{}),T.jsxs("p",{className:"b mr",children:["Add Object from .OBJ:",T.jsx("input",{className:"ml2 bg-light-red br2",type:"file",style:P,onChange:b})]}),T.jsxs("div",{className:"flex items-center justify-center",children:[T.jsx("button",{className:"bg-red",onClick:R,children:w}),T.jsx(Xu,{buttonText:"Add Object",onItemSelected:N,items:Q}),T.jsx("button",{onClick:A,children:"Toggle Gamemode"}),T.jsxs("p",{className:`w4 h2 b br3 tc v-mid ml2 ${r}`,children:["Gamemode: ",e]})]}),T.jsxs("div",{className:"flex items-center justify-center",children:[T.jsxs("div",{className:"ml2",children:[T.jsx("p",{className:"b",children:"View Scale"}),T.jsx("input",{className:"w3",onChange:F,value:a})]}),T.jsxs("div",{className:"ml2",children:[T.jsx("p",{className:"b yellow",children:"Sun Shadows - WIP"}),T.jsx("input",{className:"w4 h1 bg-grey b--grey",type:"checkbox",onChange:X,checked:c})]}),T.jsxs("div",{className:"ml2",children:[T.jsx("p",{className:"b",children:"Rotation Visuals"}),T.jsx("input",{className:"w4 h1 bg-grey b--grey",type:"checkbox",onChange:J,checked:p})]}),T.jsxs("div",{className:"ml2",children:[T.jsx("p",{className:"b",children:"Ray Visuals"}),T.jsx("input",{className:"w4 h1 bg-grey b--grey",type:"checkbox",onChange:()=>{E.RayVisuals=!x,k(!x)},checked:x})]})]}),T.jsxs("div",{className:"flex items-center justify-center mt4",children:[T.jsx(Xu,{buttonText:d,buttonStyle:"bg-green",onItemSelected:D,items:["Save 1","Save 2","Save 3","Save 4","Save 5","Save 6","Save 7","Save 8","Save 9"]}),T.jsx("button",{onClick:j,children:" Save "}),T.jsx("button",{className:"bg-dark-blue",onClick:M,children:" Load "}),T.jsx("button",{className:"bg-dark-green",onClick:U,children:" Import "}),T.jsx("button",{className:"bg-red",onClick:W,children:" Export "}),T.jsx("div",{className:"ml2",children:T.jsx("input",{className:" ml2 w4",onChange:L=>{S(L.target.value)},placeholder:"SaveData",value:g})})]})]})}function Zu(t){if(!isNaN(t)){const e=Math.min(2,Math.max(.5,t));E.Width=500*e,E.Height=500*e}}function $g(){const[t,e]=H.useState([]);return T.jsx(Co.Provider,{value:[t,e],children:T.jsx(Hg,{})})}ps.createRoot(document.getElementById("root")).render(T.jsx(Jd.StrictMode,{children:T.jsx($g,{})}));
